var hi=Object.defineProperty,pi=Object.defineProperties;var mi=Object.getOwnPropertyDescriptors;var Lt=Object.getOwnPropertySymbols;var No=Object.prototype.hasOwnProperty,To=Object.prototype.propertyIsEnumerable;var Ao=(e,t,n)=>t in e?hi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))No.call(t,n)&&Ao(e,n,t[n]);if(Lt)for(var n of Lt(t))To.call(t,n)&&Ao(e,n,t[n]);return e},P=(e,t)=>pi(e,mi(t));var pe=(e,t)=>{var n={};for(var o in e)No.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Lt)for(var o of Lt(e))t.indexOf(o)<0&&To.call(e,o)&&(n[o]=e[o]);return n};import{e as gi,j as i,R as xi,r as l,C as bi,f as $i,q as yi,g as Si,m as Ei,s as wi,a as Ci,o as Ni,b as Ti,t as Ai,c as _i,d as vi,p as ki,h as Mi,i as Ii,v as Oi,k as Di,l as Li,n as Ri,u as Bi,w as Pi,x as Hi,y as Ui,z as Fi,A as Wi,B as Gi,D as ji,E as qi,F as zi,G as Zi,H as Vi,I as Qi,J as Ki,K as Ji,L as Xi,M as Yi,N as ec,O as tc,P as nc,Q as oc,S as rc,T as sc,U as ic,V as cc,W as ac,X as lc,Y as uc,Z as dc,_ as fc,$ as hc,a0 as pc,a1 as mc,a2 as gc,a3 as xc,a4 as bc,a5 as $c,a6 as yc,a7 as Sc,a8 as Ec,a9 as wc,aa as Cc,ab as Nc,ac as Tc,ad as Ac,ae as _c,af as vc,ag as kc,ah as Mc,ai as Ic,aj as Oc,ak as Dc,al as Lc,am as Rc,an as Bc,ao as Pc,ap as Hc,aq as Uc,ar as Fc,as as Wc,at as Gc,au as jc,av as qc,aw as zc,ax as Zc,ay as Vc,az as Qc,aA as Kc,aB as Jc,aC as Xc,aD as Yc,aE as ea,aF as ta,aG as na,aH as oa,aI as ra,aJ as sa,aK as ia,aL as ca,aM as aa,aN as la,aO as ua,aP as da,aQ as fa,aR as ha,aS as pa,aT as ma,aU as ga,aV as xa,aW as ba,aX as $a,aY as ya,aZ as Sa,a_ as Ea,a$ as wa,b0 as Ca,b1 as Na,b2 as Ta,b3 as T,b4 as _o,b5 as Aa,b6 as vo,b7 as _a,b8 as va,b9 as ka,ba as Ma,bb as Ia,bc as bt,bd as Oa,be as Da,bf as ke,bg as le,bh as La,bi as Ra,bj as ko,bk as Ba,bl as Pa,bm as Ha,bn as Ua,bo as Fa,bp as Wa,bq as Ga,br as ja,bs as Rt,bt as qa,bu as Mo,bv as za,bw as Za,bx as Va,by as Qa,bz as Ka,bA as Ja,bB as Xa,bC as Ya,bD as el,bE as tl,bF as nl,bG as Bt,bH as Io,bI as ol,bJ as rl,bK as sl,bL as il,bM as cl,bN as al,bO as ll,bP as ul}from"./vendor.6161b2d7.js";const dl=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};dl();function fl(e){gi.render(i(xi.StrictMode,{children:e}),document.getElementById("root"))}const Oo=e=>{const t=e==null?void 0:e.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))},$n=e=>({width:e.offsetWidth,height:e.offsetHeight}),nt=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),hl=(e,t)=>({x:nt(e.x,t[0][0],t[1][0]),y:nt(e.y,t[0][1],t[1][1])}),Do=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)};var O;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(O||(O={}));var Lo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Lo||(Lo={}));var ot;(function(e){e.Lines="lines",e.Dots="dots"})(ot||(ot={}));var $t;(function(e){e.Strict="strict",e.Loose="loose"})($t||($t={}));var Xe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"})(Xe||(Xe={}));var rt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(rt||(rt={}));function pl(e,t){const o=Do(t.target).querySelector(`.react-flow__node[data-id="${e.id}"]`);return(o==null?void 0:o.querySelector(".react-flow__handle.target"))!=null}function Ro(e,t,n,o,r,s,c,a,d,f,g,x,p,h){const S=e.target.closest(".react-flow"),m=Do(e.target);if(!m)return;const b=m.elementFromPoint(e.clientX,e.clientY),$=b==null?void 0:b.classList.contains("target"),N=b==null?void 0:b.classList.contains("source");if(!S||!$&&!N&&!f)return;const w=f||($?"target":"source"),_=S.getBoundingClientRect();let y;r({x:e.clientX-_.left,y:e.clientY-_.top}),o({connectionNodeId:n,connectionHandleId:t,connectionHandleType:w}),x==null||x(e,{nodeId:n,handleId:t,handleType:w});function A(L){r({x:L.clientX-_.left,y:L.clientY-_.top});const{connection:v,elementBelow:H,isValid:E,isHoveringHandle:R}=Po(L,d,c,n,t,a,m);if(!R)return Bo(y);!(v.source===v.target)&&H&&(y=H,H.classList.add("react-flow__handle-connecting"),H.classList.toggle("react-flow__handle-valid",E))}function C(L){const{connection:v,isValid:H}=Po(L,d,c,n,t,a,m);p==null||p(L),H&&(s==null||s(v)),h==null||h(L),f&&g&&g(L),Bo(y),o({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),m.removeEventListener("mousemove",A),m.removeEventListener("mouseup",C)}m.addEventListener("mousemove",A),m.addEventListener("mouseup",C)}function Bo(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function Po(e,t,n,o,r,s,c){const a=c.elementFromPoint(e.clientX,e.clientY),d=(a==null?void 0:a.classList.contains("target"))||!1,f=(a==null?void 0:a.classList.contains("source"))||!1,g={elementBelow:a,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(a&&(d||f)&&(g.isHoveringHandle=!0,t===$t.Strict?n&&f||!n&&d:!0)){const h=a.getAttribute("data-nodeid"),S=a.getAttribute("data-handleid"),m=n?{source:h,sourceHandle:S,target:o,targetHandle:r}:{source:o,sourceHandle:r,target:h,targetHandle:S};g.connection=m,g.isValid=s(m)}const x=a.closest("[data-id]");if(x!=null){const p=x.getAttribute("data-id"),h=n?{source:p,target:o}:{source:o,target:p};g.connection=h,g.isValid=s(h)}return g}function ml(e){if(!e)throw new Error("invariant violated")}function gl(e,t){e&&console.error(t)}function*xl(e,t){for(const[n,o]of e.entries())yield t(o,n)}function*bl(e,t){for(const[n,o]of e.entries())t(o,n)&&(yield o)}function Me(e,t){return Array.from(xl(e,t))}function st(e,t){return Array.from(bl(e,t))}function it(e,t){return st(e,n=>!t.has(n))}function me(e){return e[0]}function Ho(e){return e[1]}function Uo(e){return e[e.length-1]}function Q(e){return e.length===1?e[0]:null}function Fo(e){return gl(e.length!==1,`Expected one element, got ${e.length}`),e[0]}function $l(e,t){return e.length===t.length&&e.every((n,o)=>t[o]===n)}const yl=e=>"id"in e&&"source"in e&&"target"in e,yn=e=>"id"in e&&!("source"in e)&&!("target"in e);function Sl(e,t){const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return Sn(t,n,o,r)}const Sn=({x:e,y:t},[n,o,r],s,[c,a])=>{const d={x:(e-n)/r,y:(t-o)/r};return s?{x:c*Math.round(d.x/c),y:a*Math.round(d.y/a)}:d},El=e=>t=>{const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return Sn(t,n,o,r)},Wo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Le=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Go=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),wl=(e,t)=>Go(Wo(Le(e),Le(t))),jo=e=>{const t=e.reduce((n,{__rf:{position:o,width:r,height:s}={}})=>Wo(n,Le(P(u({},o),{width:r,height:s}))),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Go(t)},qo=(e,t,[n,o,r]=[0,0,1],s=!1,c=!1)=>{const a=Le({x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r});return st(e.nodes,d=>{const f=!0,{x:g,y:x,width:p,height:h,isDragging:S}=de(e,d);if(c&&!f)return!1;const m=Le({x:g,y:x,width:p,height:h}),b=Math.max(0,Math.min(a.x2,m.x2)-Math.max(a.x,m.x)),$=Math.max(0,Math.min(a.y2,m.y2)-Math.max(a.y,m.y)),N=Math.ceil(b*$);if(p===null||h===null||S)return!0;if(s)return N>0;const w=p*h;return N>=w})};function Cl(e,t,n=0){const o=Le(e),r=Le(t),s=Math.max(0,n+Math.min(o.x2,r.x2)-Math.max(o.x,r.x)),c=Math.max(0,n+Math.min(o.y2,r.y2)-Math.max(o.y,r.y));return s>0&&c>0}const Nl=(e,t)=>{const n=e.map(o=>o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))},zo=(e,t)=>[...e.map(n=>{const o=u({},n);return o.position=o.__rf.position,delete o.__rf,o}),...t.map(n=>u({},n))],Tl=e=>()=>{const{nodes:t=[],edges:n=[]}=e.getState();return zo(t,n)},Al=e=>()=>{const{nodes:t=[],edges:n=[],transform:o}=e.getState();return{elements:zo(t,n),position:[o[0],o[1]],zoom:o[2]}},Zo=(e,t,n,o,r,s=.1)=>{const c=t/(e.width*(1+s)),a=n/(e.height*(1+s)),d=Math.min(c,a),f=nt(d,o,r),g=e.x+e.width/2,x=e.y+e.height/2,p=t/2-g*f,h=n/2-x*f;return[p,h,f]};function _l(e){return+Y(e)}function Pt(e,t){return Y(e)===Y(t)}function ct(e,t){return Y(e)===t}function Y(e){return e.id}function ue(e){return{id:e}}function vl(e,t){return at(e,t).x}function kl(e,t){return at(e,t).y}function Ht(e,t,n,o){at(e,t).x=n,at(e,t).y=o}function at(e,t){return e.positions.get(t.id)}function Vo(e,t,n,o){at(e,t).x+=n,at(e,t).y+=o}function Ml(e,t){return e.data.label}function Qo(e,t){const n=Y(e),o=Y(t);return{id:`e${n}${o}`,parentID:n,childID:o}}function Il(e,t){return P(u({},Qo(e,t)),{type:"tight"})}function Ko(e){return e.id}function Ut(e){return e.parentID}function yt(e){return e.childID}function Ft(e){return e.type==="tight"}function Ol(e){e.type=null}function Jo(e,t,n){return wn(e,t).some(o=>{const r=yt(o);return ct(n,r)||Jo(e,ue(r),n)})}function En(e,t,n){return Ye(e,t).some(o=>{const r=yt(o);return ct(n,r)||En(e,ue(r),n)})}function wn(e,t){return st(St(e),n=>ct(t,Ut(n)))}function Wt(e,t){return st(St(e),n=>ct(t,yt(n)))}function Cn(e,t){return Et(e,Ut(t))}function Nn(e,t){return Et(e,yt(t))}function Xo(e,t){const n=Q(Wt(e,t));return n!=null&&Ft(n)?n:null}function Ye(e,t){return wn(e,t).filter(Ft)}function Dl(e,t){return wn(e,t).filter(n=>!Ft(n))}function Ll(e,t){return Wt(e,t).filter(n=>!Ft(n))}function Rl(e,t){return st(St(e),n=>ct(t,yt(n))||ct(t,Ut(n)))}function St(e){return e.edges}function Gt(e,t){t.forEach(n=>{Yo(e,n)})}function Yo(e,t){return St(e).delete(Ko(t))}function er(e,t,n){tr(e,Qo(t,n))}function Tn(e,t,n){n.forEach(o=>{An(e,t,o)})}function An(e,t,n){tr(e,Il(t,n))}function tr(e,t){St(e).set(Ko(t),t)}function Se(e,t){e.selectedNodeIDs=kn(t)}function Bl(e,t){Se(e,Me(e.selectedNodeIDs,ue).concat(t))}function _n(e){return e.selectedNodeIDs.size}function re(e){return nr(e,e.selectedNodeIDs)}function Pl(e,t){return e.selectedNodeIDs.has(Y(t))}function nr(e,t){return Me(t,n=>Et(e,n))}function Et(e,t){return wt(e).get(t)}function Hl(e,t){return Et(e,Y(t))}function or(e,t){return Ct(e).get(t)}function de(e,t){return Ct(e).get(Y(t))}function wt(e){return e.nodes}function jt(e,t){return u({id:Vl(e),data:{}},t)}function J(e,t){return nr(e,Wt(e,t).map(n=>Ut(n)))}function qt(e,t){return Ye(e,t).map(n=>Nn(e,n))}function Ul(e,t){return Ll(e,t).length>0}function Fl(e,t){return Ye(e,t).length>0}function Wl(e,t){return Dl(e,t).length>0}function zt(e,t){wt(e).set(Y(t),t),Ct(e).set(Y(t),{x:0,y:0})}function Ct(e){return e.positions}function Gl(e,t){wt(e).delete(Y(t)),Ct(e).delete(Y(t)),Gt(e,Rl(e,t))}function Zt(e,t){const n=Xo(e,t);return n!=null?Cn(e,n):null}function rr(e,t){const n=Q(Ye(e,t));return n!=null?Nn(e,n):null}function jl(e,t){const n=[t];let o=t;for(;o!=null;){const r=rr(e,o);r!=null&&n.push(r),o=r}return n}function vn(e,t){const n=kn(t),o=Re(e,t[0]);return jl(e,o).filter(r=>n.has(Y(r)))}function Re(e,t){const n=Zt(e,t);return n==null?t:Re(e,n)}function ql(e,t,n){return Pt(Re(e,t),Re(e,n))}function kn(e){return new Set(e.map(Y))}function zl(e){return Array.from(new Set(e))}function Mn(e,t){const n=new Map;return e.forEach(o=>{var c;const r=Y(t(o)),s=(c=n.get(r))!=null?c:[];s.push(o),n.set(r,s)}),Array.from(n.values())}function sr(e,t,n){if(!pl(t,n))return!1;const o=de(e,t);return Zl(e).filter(r=>{const s=de(e,r);return!Pt(t,r)&&Cl(s,o,20)&&!Jo(e,t,r)})}function Zl(e){return st(wt(e),t=>Ye(e,t).length===0)}function Vl(e){return String(Math.max(0,...Me(wt(e),t=>_l(t)))+1)}function et(e,t){const{height:n}=de(e,t);qt(e,t).forEach(o=>{Ht(e,o,vl(e,t),kl(e,t)+n),et(e,o)})}function Ql(e,t){const n=30,o=30,r=Math.max(...Me(Ct(e),({x:s,width:c})=>s+c));Ht(e,t,r+o,n)}function Kl(e,t,n){const o=30,r=Math.max(...t.map(c=>de(e,c)).map(({x:c,width:a})=>c+a)),s=Math.max(...t.map(c=>de(e,c)).map(({y:c,height:a})=>c+a));Ht(e,n,r+o,s)}function Jl(e){return(t,n)=>{const{width:o,height:r}=de(t,n);Ht(t,n,Math.floor(e.x-o/2),Math.floor(e.y-r/2))}}const In=l.exports.createContext();function On(e,t){const n={};return Object.keys(e).forEach(o=>{n[o]=t(e[o],o)}),n}function Xl(e,t,n){return Object.keys(e).reduce((o,r)=>t(o,e[r],r),n)}function Yl(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function eu(e,t){const n={};return e.forEach((o,r)=>{n[o]=t(o,r)}),n}function tu(e,t){const n={};return e.forEach(([o,r])=>{n[o]=r}),n}bi();function ir(e){const t=On(e,s=>l.exports.createContext(s)),n=l.exports.createContext();function o({initialState:s={},children:c}){const[a,d]=l.exports.useState(u(u({},e),s));return i(n.Provider,{value:d,children:Xl(t,(f,g,x)=>i(g.Provider,{value:a[x],children:f}),c)})}function r(){const s=l.exports.useContext(n);return l.exports.useCallback(c=>{s(a=>$i(a,c))},[s])}return{state:t,useSetState:r,provider:o}}const nu=e=>e;function cr(e,t=nu){const n=On(e,o=>l.exports.useContext(o));return l.exports.useMemo(()=>t(n),Object.values(n))}const{state:Dn,useSetState:Be,provider:ou}=ir({nodes:new Map,positions:new Map,selectedNodeIDs:new Set,highlightedNodeIDs:new Set,edges:new Map});function Vt(e){const t=Be();return l.exports.useCallback((...n)=>{const o=e(...n);t(o)},[t])}function Nt(){return cr(Dn)}const ui=Dn,{positions:Qh,highlightedNodeIDs:Kh}=ui,ru=pe(ui,["positions","highlightedNodeIDs"]);function lt(){return cr(ru)}function Pe(){return Vt(e=>t=>{const n=Fo(re(t));n!=null&&e(n)})}const{styled:se,css:Jh,createTheme:su,globalCss:iu,keyframes:cu}=yi({theme:{colors:P(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({},Si),Ei),wi),Ci),Ni),Ti),Ai),_i),vi),ki),Mi),Ii),Oi),Di),Li),Ri),Bi),Pi),Hi),Ui),Fi),Wi),Gi),ji),qi),zi),Zi),Vi),Qi),Ki),Ji),Xi),Yi),ec),tc),nc),oc),rc),sc),ic),cc),ac),lc),uc),dc),fc),hc),pc),mc),gc),xc),bc),$c),yc),Sc),Ec),wc),Cc),{hiContrast:"$slate12",loContrast:"white",canvas:"hsl(0 0% 93%)",panel:"white",transparentPanel:"hsl(0 0% 0% / 97%)",shadowLight:"hsl(206 22% 7% / 35%)",shadowDark:"hsl(206 22% 7% / 20%)"}),fonts:{os:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',mono:"Menlo, Consolas, Monaco, monospace"},fontSizes:{hero:"56px",h1:"32px",h2:"22px",h3:"17px",body:"14px",detail:"13px"},lineHeights:{hero:"60px",h1:"38px",h2:"28px",h3:"21px",body:"22px",detail:"13px"},fontWeights:{hero:700,h1:700,h2:700,h3:700,body:400,detail:400},radii:{4:"4px",6:"6px",8:"8px",12:"12px",round:"50%",pill:"9999px"},space:{4:"4px",8:"8px",12:"12px",16:"16px",20:"20px",24:"24px",32:"32px",48:"48px",64:"64px",80:"80px"},sizes:{4:"4px",8:"8px",12:"12px",16:"16px",20:"20px",24:"24px",28:"28px",32:"32px",36:"36px",48:"48px",64:"64px",80:"80px"}},media:{bp1:"(min-width: 520px)",bp2:"(min-width: 900px)",bp3:"(min-width: 1200px)",bp4:"(min-width: 1800px)",motion:"(prefers-reduced-motion)",hover:"(any-hover: hover)",dark:"(prefers-color-scheme: dark)",light:"(prefers-color-scheme: light)"},utils:{font:e=>({fontSize:e,fontWeight:e,lineHeight:e}),paddingHori:e=>({paddingLeft:e,paddingRight:e}),paddingVert:e=>({paddingTop:e,paddingBottom:e}),marginHori:e=>({marginLeft:e,marginRight:e}),marginVert:e=>({marginTop:e,marginBottom:e}),size:e=>({width:e,height:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),appearance:e=>({WebkitAppearance:e,appearance:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e})}}),au=su("dark-theme",{colors:P(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({},Nc),Tc),Ac),_c),vc),kc),Mc),Ic),Oc),Dc),Lc),Rc),Bc),Pc),Hc),Uc),Fc),Wc),Gc),jc),qc),zc),Zc),Vc),Qc),Kc),Jc),Xc),Yc),ea),ta),na),oa),ra),sa),ia),ca),aa),la),ua),da),fa),ha),pa),ma),ga),xa),ba),$a),ya),Sa),Ea),wa),Ca),Na),Ta),{hiContrast:"$slate12",loContrast:"$slate1",canvas:"hsl(0 0% 15%)",panel:"$slate1",transparentPanel:"hsl(0 100% 100% / 97%)",shadowLight:"hsl(206 22% 7% / 35%)",shadowDark:"hsl(206 22% 7% / 20%)"})});iu({"*, *::before, *::after":{boxSizing:"border-box"},"*":{margin:0},"html, body, #root":{height:"100%"},"input, button, textarea, select":{font:"inherit"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},body:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",fontFamily:"$os",font:"$body",background:"$panel !important"},table:{borderCollapse:"collapse",height:"fit-content"},th:{position:"sticky",top:"0",background:"$panel",whiteSpace:"nowrap",textAlign:"start",padding:"$8 $4 0 $4",boxShadow:"inset 0 -1px 0 $colors$slate7"},td:{padding:"0 4px",whiteSpace:"nowrap"},"tbody tr":{borderBottom:"1px solid $slate3"}})();const Ee=se("div"),Ie=se("button",{all:"unset",alignItems:"center",boxSizing:"border-box",userSelect:"none",display:"inline-flex",flexShrink:0,justifyContent:"center",lineHeight:"1",WebkitTapHighlightColor:"rgba(0,0,0,0)",cursor:"pointer",paddingHori:"6px",fontVariantNumeric:"tabular-nums",borderRadius:"6px","&:disabled":{backgroundColor:"$slate2",boxShadow:"inset 0 0 0 1px $colors$slate7",color:"$slate8",pointerEvents:"none"},variants:{size:{body:{height:"$28",font:"$body"},detail:{height:"25px",font:"$detail"}},variant:{gray:{backgroundColor:"$slate4",color:"$slate12","@hover":{"&:hover":{backgroundColor:"$slate5"}},"&:active":{backgroundColor:"$slate6"},"&:focus":{},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$slate4"}},blue:{backgroundColor:"$blue2",boxShadow:"inset 0 0 0 1px $colors$blue7",color:"$blue11","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px $colors$blue8"}},"&:active":{backgroundColor:"$blue3",boxShadow:"inset 0 0 0 1px $colors$blue8"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$blue8, 0 0 0 1px $colors$blue8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$blue4",boxShadow:"inset 0 0 0 1px $colors$blue8"}},green:{backgroundColor:"$green2",boxShadow:"inset 0 0 0 1px $colors$green7",color:"$green11","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px $colors$green8"}},"&:active":{backgroundColor:"$green3",boxShadow:"inset 0 0 0 1px $colors$green8"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$green8, 0 0 0 1px $colors$green8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$green4",boxShadow:"inset 0 0 0 1px $colors$green8"}},red:{backgroundColor:"$loContrast",boxShadow:"inset 0 0 0 1px $colors$slate7",color:"$red11","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px $colors$slate8"}},"&:active":{backgroundColor:"$red3",boxShadow:"inset 0 0 0 1px $colors$red8"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$red8, 0 0 0 1px $colors$red8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$red4",boxShadow:"inset 0 0 0 1px $colors$red8"}},transparentWhite:{backgroundColor:"hsla(0,100%,100%,.2)",color:"white","@hover":{"&:hover":{backgroundColor:"hsla(0,100%,100%,.25)"}},"&:active":{backgroundColor:"hsla(0,100%,100%,.3)"},"&:focus":{boxShadow:"inset 0 0 0 1px hsla(0,100%,100%,.35), 0 0 0 1px hsla(0,100%,100%,.35)"}},transparentBlack:{backgroundColor:"hsla(0,0%,0%,.2)",color:"black","@hover":{"&:hover":{backgroundColor:"hsla(0,0%,0%,.25)"}},"&:active":{backgroundColor:"hsla(0,0%,0%,.3)"},"&:focus":{boxShadow:"inset 0 0 0 1px hsla(0,0%,0%,.35), 0 0 0 1px hsla(0,0%,0%,.35)"}}},state:{active:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px $colors$slate8",color:"$slate11","@hover":{"&:hover":{backgroundColor:"$slate5",boxShadow:"inset 0 0 0 1px $colors$slate8"}},"&:active":{backgroundColor:"$slate5"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slate8, 0 0 0 1px $colors$slate8"}},waiting:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px $colors$slate8",color:"transparent",pointerEvents:"none","@hover":{"&:hover":{backgroundColor:"$slate5",boxShadow:"inset 0 0 0 1px $colors$slate8"}},"&:active":{backgroundColor:"$slate5"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slate8"}}},ghost:{true:{backgroundColor:"transparent",boxShadow:"none"}}},compoundVariants:[{variant:"gray",ghost:"true",css:{backgroundColor:"transparent",color:"$hiContrast","@hover":{"&:hover":{backgroundColor:"$slateA3",boxShadow:"none"}},"&:active":{backgroundColor:"$slateA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slateA8, 0 0 0 1px $colors$slateA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$slateA4",boxShadow:"none"}}},{variant:"blue",ghost:"true",css:{backgroundColor:"transparent","@hover":{"&:hover":{backgroundColor:"$blueA3",boxShadow:"none"}},"&:active":{backgroundColor:"$blueA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$blueA8, 0 0 0 1px $colors$blueA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$blueA4",boxShadow:"none"}}},{variant:"green",ghost:"true",css:{backgroundColor:"transparent","@hover":{"&:hover":{backgroundColor:"$greenA3",boxShadow:"none"}},"&:active":{backgroundColor:"$greenA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$greenA8, 0 0 0 1px $colors$greenA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$greenA4",boxShadow:"none"}}},{variant:"red",ghost:"true",css:{backgroundColor:"transparent","@hover":{"&:hover":{backgroundColor:"$redA3",boxShadow:"none"}},"&:active":{backgroundColor:"$redA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$redA8, 0 0 0 1px $colors$redA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$redA4",boxShadow:"none"}}}],defaultVariants:{size:"body",variant:"gray"}});function lu(o){var r=o,{icon:e,children:t}=r,n=pe(r,["icon","children"]);return T(Ie,P(u({},n),{children:[i(Ee,{css:{height:18,marginRight:"$4"},children:e}),t]}))}function Ln({children:e,onAdd:t}){const n=Be(),o=l.exports.useContext(In);return i(lu,{icon:i(_o,{}),onClick:()=>{n(r=>{o(t(r))})},children:e})}function uu(e){return t=>{const n=Fo(re(t));if(n==null)return;const o=jt(t,e),r=qt(t,n),s=Ye(t,n);return Gt(t,s),Tn(t,o,r),An(t,n,o),zt(t,o),Se(t,[o]),[Y(o),du]}}function du(e,t){const n=Zt(e,t);et(e,n)}function fu(e){return t=>{const n=jt(t,e);return zt(t,n),Se(t,[n]),[Y(n),Ql]}}function hu(e,t,n){const o=jt(e,t);return zt(e,o),Se(e,[o]),[Y(o),Jl(n)]}function pu(e){return t=>{const n=re(t),o=jt(t,e);return n.forEach(r=>{er(t,r,o)}),zt(t,o),Se(t,[o]),[Y(o),mu]}}function mu(e,t){Kl(e,J(e,t),t)}function gu(){return l.exports.useContext(ar)}function xu({children:e}){const[t,n]=l.exports.useState(bu()),o=l.exports.useCallback(r=>{n(ur(r))},[n]);return l.exports.useEffect(()=>{const r=window.matchMedia(lr);return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[o]),i(ar.Provider,{value:[t,n],children:e})}const ar=l.exports.createContext(),lr="(prefers-color-scheme: dark)";function bu(){return ur(window.matchMedia(lr))}function ur(e){return e.matches?"dark":"light"}function j(e,t){return{type:e,payload:t}}const dr="SET_ON_CONNECT",fr="SET_ON_CONNECT_START",hr="SET_ON_CONNECT_STOP",pr="SET_ON_CONNECT_END",$u="SET_ELEMENTS",mr="UPDATE_NODE_DIMENSIONS",yu="UPDATE_NODE_POS",gr="UPDATE_NODE_POS_DIFF",xr="SET_USER_SELECTION",br="UPDATE_USER_SELECTION",$r="UNSET_USER_SELECTION",Su="SET_SELECTION",yr="UNSET_NODES_SELECTION",Sr="ADD_SELECTED_ELEMENTS",Er="UPDATE_TRANSFORM",wr="UPDATE_SIZE",Cr="INIT_D3ZOOM",Nr="SET_MINZOOM",Tr="SET_MAXZOOM",Ar="SET_TRANSLATEEXTENT",_r="SET_CONNECTION_POSITION",vr="SET_CONNECTION_NODEID",kr="SET_SNAPTOGRID",Mr="SET_SNAPGRID",Ir="SET_INTERACTIVE",Or="SET_NODES_DRAGGABLE",Dr="SET_NODES_CONNECTABLE",Lr="SET_ELEMENTS_SELECTABLE",Rr="SET_MULTI_SELECTION_ACTIVE",Br="SET_CONNECTION_MODE",Pr="SET_NODE_EXTENT",Eu=e=>j(dr,{onConnect:e}),wu=e=>j(fr,{onConnectStart:e}),Cu=e=>j(hr,{onConnectStop:e}),Nu=e=>j(pr,{onConnectEnd:e}),Tu=e=>j($u,e),Au=e=>j(mr,e),_u=e=>j(gr,e),vu=e=>j(xr,e),ku=e=>j(br,{userSelectionRect:e}),Mu=()=>j($r),Iu=e=>j(Su,{selectionActive:e}),Ou=()=>j(yr,{nodesSelectionActive:!1}),Du=e=>j(Sr,e),Lu=e=>j(Er,{transform:e}),Ru=e=>j(wr,{width:e.width||500,height:e.height||500}),Bu=e=>j(Cr,e),Pu=e=>j(Nr,e),Hu=e=>j(Tr,e),Uu=e=>j(Ar,e),Fu=e=>j(_r,{connectionPosition:e}),Wu=e=>j(vr,e),Gu=e=>j(kr,{snapToGrid:e}),ju=e=>j(Mr,{snapGrid:e}),qu=e=>j(Ir,{nodesDraggable:e,nodesConnectable:e,elementsSelectable:e}),zu=e=>j(Or,{nodesDraggable:e}),Zu=e=>j(Dr,{nodesConnectable:e}),Vu=e=>j(Lr,{elementsSelectable:e}),Qu=e=>j(Rr,{multiSelectionActive:e}),Ku=e=>j(Br,{connectionMode:e}),Ju=e=>j(Pr,e);var Xu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",setOnConnect:Eu,setOnConnectStart:wu,setOnConnectStop:Cu,setOnConnectEnd:Nu,setElements:Tu,updateNodeDimensions:Au,updateNodePosDiff:_u,setUserSelection:vu,updateUserSelection:ku,unsetUserSelection:Mu,setSelection:Iu,unsetNodesSelection:Ou,addSelectedElements:Du,updateTransform:Lu,updateSize:Ru,initD3Zoom:Bu,setMinZoom:Pu,setMaxZoom:Hu,setTranslateExtent:Uu,setConnectionPosition:Fu,setConnectionNodeId:Wu,setSnapToGrid:Gu,setSnapGrid:ju,setInteractive:qu,setNodesDraggable:zu,setNodesConnectable:Zu,setElementsSelectable:Vu,setMultiSelectionActive:Qu,setConnectionMode:Ku,setNodeExtent:Ju});const Yu=_a;function W(e){const t=Aa(),n=e(Xu);return l.exports.useMemo(()=>typeof n=="function"?vo(n,t):vo(n,t),[t,n])}const k=Yu,Tt=()=>va();var Qt=e=>{const[t,n]=l.exports.useState(!1);return l.exports.useEffect(()=>{if(typeof e!="undefined"){const o=c=>{!Oo(c)&&(c.key===e||c.keyCode===e)&&(c.preventDefault(),n(!0))},r=c=>{!Oo(c)&&(c.key===e||c.keyCode===e)&&n(!1)},s=()=>n(!1);return window.addEventListener("keydown",o),window.addEventListener("keyup",r),window.addEventListener("blur",s),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",r),window.removeEventListener("blur",s)}}},[e,n]),t};const ed=(e,t)=>{const n=e.getBoundingClientRect();return{source:Hr(".source",e,n,t),target:Hr(".target",e,n,t)}},Hr=(e,t,n,o)=>{const r=t.querySelectorAll(e);return!r||!r.length?null:Array.from(r).map(c=>{const a=c.getBoundingClientRect(),d=$n(c),f=c.getAttribute("data-handleid"),g=c.getAttribute("data-handlepos");return u({id:f,position:g,x:(a.left-n.left)/o,y:(a.top-n.top)/o},d)})};function Ur(e){return ka(nd,e)}const Rn={width:0,height:0,transform:[0,0,1],nodes:[],edges:[],selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:$t.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"-"},td=Ur(Rn);function Fr(){return Vt(e=>t=>{e.forEach(({id:n,nodeElement:o,forceUpdate:r})=>{const s=or(t,n),c=$n(o);if(c.width&&c.height&&(s.width!==c.width||s.height!==c.height||r)){const d=ed(o,1);s.width=c.width,s.height=c.height,s.handleBounds=d}})})}function Wr(){return Vt((e,t)=>n=>{(t?Bl:Se)(n,e)})}function Gr(){return Vt(e=>t=>{Se(t,[])})}function nd(e=Rn,t){var n,o,r;switch(t.type){case mr:throw new Error("migrate to context");case yu:throw new Error("migrate to context");case gr:throw new Error("migrate to context");case xr:{const s=t.payload;return P(u({},e),{selectionActive:!0,userSelectionRect:{width:0,height:0,startX:s.x,startY:s.y,x:s.x,y:s.y,draw:!0}})}case $r:return P(u({},e),{selectionActive:!1,userSelectionRect:P(u({},e.userSelectionRect),{draw:!1}),nodesSelectionActive:!1});case Sr:throw new Error("migrate to context");case Cr:{const{d3Zoom:s,d3Selection:c,d3ZoomHandler:a,transform:d}=t.payload;return P(u({},e),{d3Zoom:s,d3Selection:c,d3ZoomHandler:a,transform:d})}case Nr:{const s=t.payload;return(n=e.d3Zoom)==null||n.scaleExtent([s,e.maxZoom]),P(u({},e),{minZoom:s})}case Tr:{const s=t.payload;return(o=e.d3Zoom)==null||o.scaleExtent([e.minZoom,s]),P(u({},e),{maxZoom:s})}case Ar:{const s=t.payload;return(r=e.d3Zoom)==null||r.translateExtent(s),P(u({},e),{translateExtent:s})}case Pr:{const s=t.payload;return P(u({},e),{nodeExtent:s,nodes:e.nodes.map(c=>P(u({},c),{__rf:P(u({},c.__rf),{position:hl(c.__rf.position,s)})}))})}case br:case dr:case fr:case hr:case pr:case yr:case Er:case wr:case _r:case vr:case kr:case Mr:case Ir:case Or:case Dr:case Lr:case Rr:case Br:return u(u({},e),t.payload);default:return e}}function od({deleteKeyCode:e,multiSelectionKeyCode:t,onElementsRemove:n}){const o=Tt(),r=W(f=>f.unsetNodesSelection),s=W(f=>f.setMultiSelectionActive),c=Gr(),a=Qt(e),d=Qt(t);l.exports.useEffect(()=>{const{edges:f,selectedElements:g}=o.getState();if(n&&a&&g){const x=g.filter(yn),p=Nl(x,f),h=[...g,...p].reduce((S,m)=>S.set(m.id,m),new Map);n(Array.from(h.values())),r(),c()}},[a]),l.exports.useEffect(()=>{s(d)},[d])}var rd=e=>{const t=W(n=>n.updateSize);l.exports.useEffect(()=>{let n;const o=()=>{if(!e.current)return;const r=$n(e.current);(r.height===0||r.width===0)&&console.warn("The React Flow parent container needs a width and a height to render the graph."),t(r)};return o(),window.onresize=o,e.current&&(n=new ResizeObserver(()=>o()),n.observe(e.current)),()=>{window.onresize=null,n&&e.current&&n.unobserve(e.current)}},[])};const sd=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Bn=e=>({x:e.x,y:e.y,zoom:e.k}),Pn=e=>e.target.closest(".nowheel"),id=({onMove:e,onMoveStart:t,onMoveEnd:n,zoomOnScroll:o=!0,zoomOnPinch:r=!0,panOnScroll:s=!1,panOnScrollSpeed:c=.5,panOnScrollMode:a=rt.Free,zoomOnDoubleClick:d=!0,selectionKeyPressed:f,elementsSelectable:g,paneMoveable:x=!0,defaultPosition:p=[0,0],defaultZoom:h=1,translateExtent:S,zoomActivationKeyCode:m,preventScrolling:b=!0,children:$})=>{const N=l.exports.useRef(null),w=l.exports.useRef({x:0,y:0,zoom:0}),_=Tt(),y=k(E=>E.d3Zoom),A=k(E=>E.d3Selection),C=k(E=>E.d3ZoomHandler),L=W(E=>E.initD3Zoom),v=W(E=>E.updateTransform),H=Qt(m);return rd(N),l.exports.useEffect(()=>{if(N.current){const E=_.getState(),R=typeof S!="undefined"?S:E.translateExtent,D=Ma().scaleExtent([E.minZoom,E.maxZoom]).translateExtent(R),z=Ia(N.current).call(D),K=nt(p[0],R[0][0],R[1][0]),U=nt(p[1],R[0][1],R[1][1]),G=nt(h,E.minZoom,E.maxZoom),Z=bt.translate(K,U).scale(G);D.transform(z,Z),L({d3Zoom:D,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[K,U,G]})}},[]),l.exports.useEffect(()=>{A&&y&&(s&&!H?A.on("wheel",E=>{if(Pn(E))return!1;E.preventDefault(),E.stopImmediatePropagation();const R=A.property("__zoom").k||1;if(E.ctrlKey&&r){const U=Oa(E),G=-E.deltaY*(E.deltaMode===1?.05:E.deltaMode?1:.002)*10,Z=R*Math.pow(2,G);y.scaleTo(A,Z,U);return}const D=E.deltaMode===1?20:1,z=a===rt.Vertical?0:E.deltaX*D,K=a===rt.Horizontal?0:E.deltaY*D;y.translateBy(A,-(z/R)*c,-(K/R)*c)}).on("wheel.zoom",null):typeof C!="undefined"&&A.on("wheel",E=>{if(!b||Pn(E))return null;E.preventDefault()}).on("wheel.zoom",C))},[s,a,A,y,C,H,r,b]),l.exports.useEffect(()=>{y&&(f?y.on("zoom",null):y.on("zoom",E=>{if(v([E.transform.x,E.transform.y,E.transform.k]),e){const R=Bn(E.transform);e(R)}}))},[f,y,v,e]),l.exports.useEffect(()=>{y&&(t?y.on("start",E=>{const R=Bn(E.transform);w.current=R,t(R)}):y.on("start",null))},[y,t]),l.exports.useEffect(()=>{y&&(n?y.on("end",E=>{if(sd(w.current,E.transform)){const R=Bn(E.transform);w.current=R,n(R)}}):y.on("end",null))},[y,n]),l.exports.useEffect(()=>{y&&y.filter(E=>{const R=H||o,D=r&&E.ctrlKey;return!x&&!R&&!s&&!d&&!r||f||!d&&E.type==="dblclick"||Pn(E)&&E.type==="wheel"||(E.target.closest(".react-flow__node")||E.target.closest(".react-flow__edge"))&&E.type!=="wheel"||E.target.closest(".react-flow__nodesselection")&&E.type!=="wheel"||!r&&E.ctrlKey&&E.type==="wheel"||!R&&!s&&!D&&E.type==="wheel"||!x&&(E.type==="mousedown"||E.type==="touchstart")?!1:(!E.ctrlKey||E.type==="wheel")&&!E.button})},[y,o,r,s,d,x,f,g,H]),i("div",{className:"react-flow__renderer react-flow__zoompane",ref:N,children:$})};function jr(e){const t=e.target.closest(".react-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const cd=()=>{const e=k(t=>t.userSelectionRect);return e.draw?i("div",{className:"react-flow__selection",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null};var ad=l.exports.memo(({selectionKeyPressed:e})=>{const t=k(b=>b.selectionActive),n=k(b=>b.elementsSelectable),o=W(b=>b.setUserSelection),r=W(b=>b.updateUserSelection),s=W(b=>b.unsetUserSelection),c=W(b=>b.unsetNodesSelection),a=k(b=>b.userSelectionRect),d=k(b=>b.transform),f=Nt(),g=Wr();return!n||!(t||e)?null:i("div",{className:"react-flow__selectionpane",onMouseDown:b=>{const $=jr(b);!$||o($)},onMouseMove:b=>{var A,C;if(!e||!t)return;const $=jr(b);if(!$)return;const N=(A=a.startX)!=null?A:0,w=(C=a.startY)!=null?C:0,_=P(u({},a),{x:$.x<N?$.x:a.x,y:$.y<w?$.y:a.y,width:Math.abs($.x-N),height:Math.abs($.y-w)}),y=qo(f,_,d,!1,!0);g(y),r(_)},onMouseUp:()=>{s()},onMouseLeave:()=>{s(),c()},children:i(cd,{})})}),ld=({onSelectionDragStart:e,onSelectionDrag:t,onSelectionDragStop:n,onSelectionContextMenu:o})=>{const[r,s,c]=k(C=>C.transform),a=k(C=>C.selectedNodesBbox),d=k(C=>C.selectionActive),f=k(C=>C.selectedElements),g=k(C=>C.snapToGrid),x=k(C=>C.snapGrid),p=k(C=>C.nodes),h=W(C=>C.updateNodePosDiff),S=l.exports.useRef(null),m=l.exports.useMemo(()=>g?x:[1,1],[g,x]),b=l.exports.useMemo(()=>f?f.filter(yn).map(C=>{const L=p.find(v=>v.id===C.id);return P(u({},L),{position:L==null?void 0:L.__rf.position})}):[],[f,p]),$=l.exports.useMemo(()=>({transform:`translate(${r}px,${s}px) scale(${c})`}),[r,s,c]),N=l.exports.useMemo(()=>({width:a.width,height:a.height,top:a.y,left:a.x}),[a]),w=l.exports.useCallback(C=>{e==null||e(C,b)},[e,b]),_=l.exports.useCallback((C,L)=>{t&&t(C,b),h({diff:{x:L.deltaX,y:L.deltaY},isDragging:!0})},[t,b,h]),y=l.exports.useCallback(C=>{h({isDragging:!1}),n==null||n(C,b)},[b,n]),A=l.exports.useCallback(C=>{const L=f?f.filter(yn).map(v=>p.find(H=>H.id===v.id)):[];o==null||o(C,L)},[o]);return!f||d?null:i("div",{className:"react-flow__nodesselection",style:$,children:i(Da,{scale:c,grid:m,onStart:C=>w(C),onDrag:(C,L)=>_(C,L),onStop:C=>y(C),nodeRef:S,enableUserSelectHack:!1,children:i("div",{ref:S,className:"react-flow__nodesselection-rect",onContextMenu:A,style:N})})})};const qr=({children:e,onPaneClick:t,onPaneContextMenu:n,onPaneScroll:o,onElementsRemove:r,deleteKeyCode:s,onMove:c,onMoveStart:a,onMoveEnd:d,selectionKeyCode:f,multiSelectionKeyCode:g,zoomActivationKeyCode:x,elementsSelectable:p,zoomOnScroll:h,zoomOnPinch:S,panOnScroll:m,panOnScrollSpeed:b,panOnScrollMode:$,zoomOnDoubleClick:N,paneMoveable:w,defaultPosition:_,defaultZoom:y,translateExtent:A,preventScrolling:C,onSelectionDragStart:L,onSelectionDrag:v,onSelectionDragStop:H,onSelectionContextMenu:E})=>{const R=W(M=>M.unsetNodesSelection),D=Gr(),z=k(M=>M.nodesSelectionActive),K=Qt(f);od({onElementsRemove:r,deleteKeyCode:s,multiSelectionKeyCode:g});const U=l.exports.useCallback(M=>{t==null||t(M),R(),D()},[t]),G=l.exports.useCallback(M=>{n==null||n(M)},[n]),Z=l.exports.useCallback(M=>{o==null||o(M)},[o]);return T(id,{onMove:c,onMoveStart:a,onMoveEnd:d,selectionKeyPressed:K,elementsSelectable:p,zoomOnScroll:h,zoomOnPinch:S,panOnScroll:m,panOnScrollSpeed:b,panOnScrollMode:$,zoomOnDoubleClick:N,paneMoveable:w,defaultPosition:_,defaultZoom:y,translateExtent:A,zoomActivationKeyCode:x,preventScrolling:C,children:[e,i(ad,{selectionKeyPressed:K}),z&&i(ld,{onSelectionDragStart:L,onSelectionDrag:v,onSelectionDragStop:H,onSelectionContextMenu:E}),i("div",{className:"react-flow__pane",onClick:U,onContextMenu:G,onWheel:Z})]})};qr.displayName="FlowRenderer";var ud=l.exports.memo(qr);const zr=e=>{const t=k(h=>h.transform),n=k(h=>h.nodesDraggable),o=k(h=>h.nodesConnectable),r=k(h=>h.elementsSelectable),s=Fr(),c=k(h=>h.width),a=k(h=>h.height),d=Nt(),f=Array.from(d.nodes.values()),g=e.onlyRenderVisibleElements?qo(f,{x:0,y:0,width:c,height:a},t,!0):f,x=l.exports.useMemo(()=>({transform:`translate(${t[0]}px,${t[1]}px) scale(${t[2]})`}),[t[0],t[1],t[2]]),p=l.exports.useMemo(()=>typeof ResizeObserver=="undefined"?null:new ResizeObserver(h=>{const S=h.map(m=>({id:m.target.getAttribute("data-id"),nodeElement:m.target}));s(S)}),[s]);return i("div",{className:"react-flow__nodes",style:x,children:g.map(h=>{const S=de(d,h),m=h.type||"default",b=e.nodeTypes[m]||e.nodeTypes.default;e.nodeTypes[m]||console.warn(`Node type "${m}" not found. Using fallback type "default".`);const $=!!(h.draggable||n&&typeof h.draggable=="undefined"),N=!!(h.selectable||r&&typeof h.selectable=="undefined"),w=!!(h.connectable||o&&typeof h.connectable=="undefined");return i(b,{id:h.id,className:h.className,style:h.style,type:m,data:h.data,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,isHidden:h.isHidden,xPos:S.x,yPos:S.y,isDragging:S.isDragging,edited:S.edited,isInitialized:S.width!==null&&S.height!==null,snapGrid:e.snapGrid,snapToGrid:e.snapToGrid,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onElementClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onNodeDoubleClick:e.onNodeDoubleClick,onNodeDragStart:e.onNodeDragStart,onNodeDrag:e.onNodeDrag,onNodeDragStop:e.onNodeDragStop,scale:t[2],selected:Pl(d,h),highlight:d.highlightedNodeIDs.has(h.id),isDraggable:$,isSelectable:N,isConnectable:w,resizeObserver:p,dragHandle:h.dragHandle},h.id)})})};zr.displayName="NodeRenderer";var dd=l.exports.memo(zr);const fd=x=>{var p=x,{x:e,y:t,label:n,labelStyle:o={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:c=[2,4],labelBgBorderRadius:a=2,children:d,className:f}=p,g=pe(p,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const h=l.exports.useRef(null),[S,m]=l.exports.useState({x:0,y:0,width:0,height:0}),b=ke(["react-flow__edge-textwrapper",f]);return l.exports.useEffect(()=>{if(h.current){const $=h.current.getBBox();m({x:$.x,y:$.y,width:$.width,height:$.height})}},[n]),typeof n=="undefined"||!n?null:T("g",P(u({transform:`translate(${e-S.width/2} ${t-S.height/2})`,className:b},g),{children:[r&&i("rect",{width:S.width+2*c[0],x:-c[0],y:-c[1],height:S.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),i("text",{className:"react-flow__edge-text",y:S.height/2,dy:"0.3em",ref:h,style:o,children:n}),d]}))};var Hn=l.exports.memo(fd);const Un=(e,t)=>typeof t!="undefined"&&t?`url(#${t})`:typeof e!="undefined"?`url(#react-flow__${e})`:"none",Zr=[O.Left,O.Right],Kt=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r=O.Bottom,targetPosition:s=O.Top})=>{const c=Zr.includes(r),a=Zr.includes(s);if(c&&!a||a&&!c){const h=c?Math.abs(n-e):0,S=e>n?e-h:e+h,m=c?0:Math.abs(o-t),b=t<o?t+m:t-m;return[S,b,h,m]}const f=Math.abs(n-e)/2,g=n<e?n+f:n-f,x=Math.abs(o-t)/2,p=o<t?o+x:o-x;return[g,p,f,x]};function Vr({sourceX:e,sourceY:t,sourcePosition:n=O.Bottom,targetX:o,targetY:r,targetPosition:s=O.Top,centerX:c,centerY:a}){const[d,f]=Kt({sourceX:e,sourceY:t,targetX:o,targetY:r}),g=[O.Left,O.Right],x=typeof c!="undefined"?c:d,p=typeof a!="undefined"?a:f;let h=`M${e},${t} C${e},${p} ${o},${p} ${o},${r}`;return g.includes(n)&&g.includes(s)?h=`M${e},${t} C${x},${t} ${x},${r} ${o},${r}`:g.includes(s)?h=`M${e},${t} Q${e},${r} ${o},${r}`:g.includes(n)&&(h=`M${e},${t} Q${o},${t} ${o},${r}`),h}var Fn=l.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r=O.Bottom,targetPosition:s=O.Top,label:c,labelStyle:a,labelShowBg:d,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:x,style:p,arrowHeadType:h,markerEndId:S})=>{const[m,b]=Kt({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r,targetPosition:s}),$=Vr({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:o,targetPosition:s}),N=c?i(Hn,{x:m,y:b,label:c,labelStyle:a,labelShowBg:d,labelBgStyle:f,labelBgPadding:g,labelBgBorderRadius:x}):null,w=Un(h,S);return T(le,{children:[i("path",{style:p,d:$,className:"react-flow__edge-path",markerEnd:w}),N]})});const Wn=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e+n},${t}`,Gn=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t-n}`,jn=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e-n},${t}`,qn=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t-n}`,zn=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t+n}`,Zn=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e+n},${t}`,Vn=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e-n},${t}`,Qn=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t+n}`;function Kn({sourceX:e,sourceY:t,sourcePosition:n=O.Bottom,targetX:o,targetY:r,targetPosition:s=O.Top,borderRadius:c=5,centerX:a,centerY:d}){const[f,g,x,p]=Kt({sourceX:e,sourceY:t,targetX:o,targetY:r}),h=Math.min(c,Math.abs(o-e)),S=Math.min(c,Math.abs(r-t)),m=Math.min(h,S,x,p),b=[O.Left,O.Right],$=typeof a!="undefined"?a:f,N=typeof d!="undefined"?d:g;let w=null,_=null;return e<=o?(w=t<=r?Wn(e,N,m):Zn(e,N,m),_=t<=r?Qn(o,N,m):qn(o,N,m)):(w=t<r?jn(e,N,m):Vn(e,N,m),_=t<r?zn(o,N,m):Gn(o,N,m)),b.includes(n)&&b.includes(s)?e<=o?(w=t<=r?Qn($,t,m):qn($,t,m),_=t<=r?Wn($,r,m):Zn($,r,m)):(n===O.Right&&s===O.Left||n===O.Left&&s===O.Right||n===O.Left&&s===O.Left)&&(w=t<=r?zn($,t,m):Gn($,t,m),_=t<=r?jn($,r,m):Vn($,r,m)):b.includes(n)&&!b.includes(s)?(e<=o?w=t<=r?Qn(o,t,m):qn(o,t,m):w=t<=r?zn(o,t,m):Gn(o,t,m),_=""):!b.includes(n)&&b.includes(s)&&(e<=o?w=t<=r?Wn(e,r,m):Zn(e,r,m):w=t<=r?jn(e,r,m):Vn(e,r,m),_=""),`M ${e},${t}${w}${_}L ${o},${r}`}var Jn=l.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f,style:g,sourcePosition:x=O.Bottom,targetPosition:p=O.Top,arrowHeadType:h,markerEndId:S,borderRadius:m=5})=>{const[b,$]=Kt({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:x,targetPosition:p}),N=Kn({sourceX:e,sourceY:t,sourcePosition:x,targetX:n,targetY:o,targetPosition:p,borderRadius:m}),w=Un(h,S);return T(le,{children:[i("path",{style:g,className:"react-flow__edge-path",d:N,markerEnd:w}),r?i(Hn,{x:b,y:$,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f}):null]})});const hd=(e,t,n)=>{const o=n==="source"?"target":"source",r=t.handleBounds[n]||t.handleBounds[o];return e?r.find(s=>s.id===e):r[0]};function pd({connectionNodeId:e,connectionHandleId:t,connectionHandleType:n,connectionLineStyle:o,connectionPositionX:r,connectionPositionY:s,connectionLineType:c=Xe.Bezier,sourceNode:a,transform:d,isConnectable:f,CustomConnectionLineComponent:g}){const x=t;if(a==null||!f)return null;const p=hd(x,a,n),h=p?p.x+p.width/2:a.width/2,S=p?p.y+p.height/2:a.height,m=a.x+h,b=a.y+S,$=(r-d[0])/d[2],N=(s-d[1])/d[2],_=(p==null?void 0:p.position)===O.Left||(p==null?void 0:p.position)===O.Right?O.Left:O.Top;if(g)return i("g",{className:"react-flow__connection",children:i(g,{sourceX:m,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:N,targetPosition:_,connectionLineType:c,connectionLineStyle:o,sourceNode:a,sourceHandle:p})});let y="";return c===Xe.Bezier?y=Vr({sourceX:m,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:N,targetPosition:_}):c===Xe.Step?y=Kn({sourceX:m,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:N,targetPosition:_,borderRadius:0}):c===Xe.SmoothStep?y=Kn({sourceX:m,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:N,targetPosition:_}):y=`M${m},${b} ${$},${N}`,i("g",{className:"react-flow__connection",children:i("path",{d:y,className:"react-flow__connection-path",style:o})})}const Qr=({id:e,children:t})=>i("marker",{className:"react-flow__arrowhead",id:e,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0",children:t}),Kr=({color:e})=>T("defs",{children:[i(Qr,{id:"react-flow__arrowclosed",children:i("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:e,points:"-5,-4 0,0 -5,4 -5,-4"})}),i(Qr,{id:"react-flow__arrow",children:i("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})})]});Kr.displayName="MarkerDefinitions";var Jr=l.exports.memo(e=>i(Jn,P(u({},e),{borderRadius:0}))),Xr=l.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f,style:g,arrowHeadType:x,markerEndId:p})=>{const h=Math.abs(o-t)/2,S=o<t?o+h:o-h,m=Math.abs(n-e)/2,b=n<e?n+m:n-m,$=Un(x,p),N=r?i(Hn,{x:b,y:S,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f}):null;return T(le,{children:[i("path",{style:g,className:"react-flow__edge-path",d:`M ${e},${t}L ${n},${o}`,markerEnd:$}),N]})});const md=(e,t,n)=>n===O.Left?e-t:n===O.Right?e+t:e,gd=(e,t,n)=>n===O.Top?e-t:n===O.Bottom?e+t:e,Yr=({className:e,position:t,centerX:n,centerY:o,radius:r=10})=>i("circle",{className:ke(["react-flow__edgeupdater",e]),cx:md(n,r,t),cy:gd(o,r,t),r,stroke:"transparent",fill:"transparent"});function At(e){const t=({id:n,className:o,type:r,data:s,onClick:c,onEdgeDoubleClick:a,selected:d,animated:f,label:g,labelStyle:x,labelShowBg:p,labelBgStyle:h,labelBgPadding:S,labelBgBorderRadius:m,style:b,arrowHeadType:$,source:N,target:w,sourceX:_,sourceY:y,targetX:A,targetY:C,sourcePosition:L,targetPosition:v,elementsSelectable:H,markerEndId:E,isHidden:R,sourceHandleId:D,targetHandleId:z,handleEdgeUpdate:K,isValidConnection:U,onConnectEdge:G,onContextMenu:Z,onMouseEnter:M,onMouseMove:ge,onMouseLeave:ne,edgeUpdaterRadius:ie,onEdgeUpdateStart:$e,onEdgeUpdateEnd:te})=>{W(I=>I.addSelectedElements);const V=W(I=>I.setConnectionNodeId);W(I=>I.unsetNodesSelection);const Oe=W(I=>I.setConnectionPosition),Ge=k(I=>I.connectionMode),[we,Ce]=l.exports.useState(!1),Ae=!H&&!c,je=ke(["react-flow__edge",`react-flow__edge-${r}`,o,{selected:d,animated:f,inactive:Ae,updating:we}]),X=l.exports.useMemo(()=>{const I={id:n,source:N,target:w,type:r};return D&&(I.sourceHandle=D),z&&(I.targetHandle=z),typeof s!="undefined"&&(I.data=s),I},[n,N,w,r,D,z,s]),qe=l.exports.useCallback(I=>{c==null||c(I,X)},[H,X,c]),ze=l.exports.useCallback(I=>{a==null||a(I,X)},[X,a]),Ze=l.exports.useCallback(I=>{Z==null||Z(I,X)},[X,Z]),Ve=l.exports.useCallback(I=>{M==null||M(I,X)},[X,Z]),Qe=l.exports.useCallback(I=>{ge==null||ge(I,X)},[X,Z]),Ke=l.exports.useCallback(I=>{ne==null||ne(I,X)},[X,Z]),B=l.exports.useCallback((I,ce)=>{const ae=ce?w:N,De=ce?z:D,oe=ce;$e==null||$e(I,X),Ro(I,De,ae,V,Oe,G,oe,U,Ge,ce?"target":"source",te?ve=>te(ve,X):void 0)},[n,N,w,r,D,z,V,Oe,X,G,U]),ee=l.exports.useCallback(I=>{B(I,!0)},[n,N,D,B]),_e=l.exports.useCallback(I=>{B(I,!1)},[n,w,z,B]),ye=l.exports.useCallback(()=>Ce(!0),[Ce]),F=l.exports.useCallback(()=>Ce(!1),[Ce]);return R?null:T("g",{className:je,onClick:qe,onDoubleClick:ze,onContextMenu:Ze,onMouseEnter:Ve,onMouseMove:Qe,onMouseLeave:Ke,children:[i(e,{id:n,source:N,target:w,selected:d,animated:f,label:g,labelStyle:x,labelShowBg:p,labelBgStyle:h,labelBgPadding:S,labelBgBorderRadius:m,data:s,style:b,arrowHeadType:$,sourceX:_,sourceY:y,targetX:A,targetY:C,sourcePosition:L,targetPosition:v,markerEndId:E,sourceHandleId:D,targetHandleId:z}),K&&i("g",{onMouseDown:ee,onMouseEnter:ye,onMouseOut:F,children:i(Yr,{position:L,centerX:_,centerY:y,radius:ie})}),K&&i("g",{onMouseDown:_e,onMouseEnter:ye,onMouseOut:F,children:i(Yr,{position:v,centerX:A,centerY:C,radius:ie})})]})};return t.displayName="EdgeWrapper",l.exports.memo(t)}function xd(e){const t={default:At(e.default||Fn),straight:At(e.bezier||Xr),step:At(e.step||Jr),smoothstep:At(e.step||Jn)},n={},o=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,s)=>(r[s]=At(e[s]||Fn),r),n);return u(u({},t),o)}function es(e,t,n=null){const o=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,c=(n==null?void 0:n.height)||t.height;switch(e){case O.Top:return{x:o+s/2,y:r};case O.Right:return{x:o+s,y:r+c/2};case O.Bottom:return{x:o+s/2,y:r+c};case O.Left:return{x:o,y:r+c/2}}}function ts(e,t){if(!e)return null;let n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(o=>o.id===t)),typeof n=="undefined"?null:n}const bd=(e,t,n,o,r,s)=>{const c=es(n,t,e),a=es(s,r,o);return{sourceX:c.x,sourceY:c.y,targetX:a.x,targetY:a.y}};function $d({sourcePos:e,targetPos:t,width:n,height:o,transform:r}){const s={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x,t.x),y2:Math.max(e.y,t.y)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c=Le({x:(0-r[0])/r[2],y:(0-r[1])/r[2],width:n/r[2],height:o/r[2]}),a=Math.max(0,Math.min(c.x2,s.x2)-Math.max(c.x,s.x)),d=Math.max(0,Math.min(c.y2,s.y2)-Math.max(c.y,s.y));return Math.ceil(a*d)>0}const ns=e=>{const t=k(y=>y.transform),n=Nt(),o=l.exports.useContext(Dn.edges),r=k(y=>y.connectionNodeId),s=k(y=>y.connectionHandleId),c=k(y=>y.connectionHandleType),a=k(y=>y.connectionPosition),d=k(y=>y.selectedElements),f=k(y=>y.nodesConnectable),g=k(y=>y.elementsSelectable),x=k(y=>y.width),p=k(y=>y.height),h=l.exports.useCallback(({source:y,target:A})=>!En(n,ue(y),ue(A))&&!En(n,ue(A),ue(y))&&!Pt(ue(A),ue(y)),[n]);if(!x)return null;const{connectionLineType:S,arrowHeadColor:m,connectionLineStyle:b,connectionLineComponent:$,onlyRenderVisibleElements:N}=e,w=`translate(${t[0]},${t[1]}) scale(${t[2]})`,_=r&&c;return T("svg",{width:x,height:p,className:"react-flow__edges",children:[i(Kr,{color:m}),T("g",{transform:w,children:[Array.from(o.values()).map(y=>i(Sd,{edge:y,props:e,appState:n,selectedElements:d,elementsSelectable:g,transform:t,width:x,height:p,onlyRenderVisibleElements:N,isValidConnection:h},y.id)),_&&i(pd,{sourceNode:de(n,ue(r)),connectionNodeId:r,connectionHandleId:s,connectionHandleType:c,connectionPositionX:a.x,connectionPositionY:a.y,transform:t,connectionLineStyle:b,connectionLineType:S,isConnectable:f,CustomConnectionLineComponent:$})]})]})};ns.displayName="EdgeRenderer";var yd=l.exports.memo(ns);function Sd({edge:e,props:t,appState:n,selectedElements:o,elementsSelectable:r,transform:s,width:c,height:a,onlyRenderVisibleElements:d,connectionMode:f,isValidConnection:g}){const x=e.sourceHandle||null,p=e.targetHandle||null,h=Cn(n,e),S=Nn(n,e),m=l.exports.useCallback(U=>{var G;(G=t.onEdgeUpdate)==null||G.call(t,e,U)},[e,t.onEdgeUpdate]);if(!h)return console.warn(`couldn't create edge for parent id: ${e.parentID}; edge id: ${e.id}`),null;if(!S)return console.warn(`couldn't create edge for child id: ${e.childID}; edge id: ${e.id}`),null;const b=de(n,h),$=de(n,S);if(!b.width||!$.width)return null;const N=e.type||"default",w=t.edgeTypes[N]||t.edgeTypes.default,y=$.handleBounds.target,A=ts(b.handleBounds.source,x),C=ts(y,p),L=A?A.position:O.Bottom,v=C?C.position:O.Top;if(!A)return console.warn(`couldn't create edge for source handle id: ${x}; edge id: ${e.id}`),null;if(!C)return console.warn(`couldn't create edge for target handle id: ${p}; edge id: ${e.id}`),null;const{sourceX:H,sourceY:E,targetX:R,targetY:D}=bd(A,b,L,C,$,v);if(!(d?$d({sourcePos:{x:H,y:E},targetPos:{x:R,y:D},width:c,height:a,transform:s}):!0))return null;const K=(o==null?void 0:o.some(U=>yl(U)&&U.id===e.id))||!1;return i(w,{id:e.id,className:e.className,type:e.type,data:e.data,onClick:t.onElementClick,selected:K,animated:e.animated,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,arrowHeadType:e.arrowHeadType,source:e.parentID,target:e.childID,sourceHandleId:x,targetHandleId:p,sourceX:H,sourceY:E,targetX:R,targetY:D,sourcePosition:L,targetPosition:v,elementsSelectable:r,markerEndId:t.markerEndId,isHidden:e.isHidden||e.type==="tight",onConnectEdge:m,handleEdgeUpdate:typeof t.onEdgeUpdate!="undefined",isValidConnection:g,onContextMenu:t.onEdgeContextMenu,onMouseEnter:t.onEdgeMouseEnter,onMouseMove:t.onEdgeMouseMove,onMouseLeave:t.onEdgeMouseLeave,edgeUpdaterRadius:t.edgeUpdaterRadius,onEdgeDoubleClick:t.onEdgeDoubleClick,onEdgeUpdateStart:t.onEdgeUpdateStart,onEdgeUpdateEnd:t.onEdgeUpdateEnd},e.id)}const Jt=.1,Ed={zoomIn:()=>{},zoomOut:()=>{},zoomTo:e=>{},transform:e=>{},fitView:(e={padding:Jt,includeHiddenNodes:!1})=>{},setCenter:(e,t)=>{},fitBounds:e=>{},project:e=>e,initialized:!1},os=()=>{const e=Tt(),t=k(r=>r.d3Zoom),n=k(r=>r.d3Selection);return l.exports.useMemo(()=>n&&t?{zoomIn:()=>t.scaleBy(n,1.2),zoomOut:()=>t.scaleBy(n,1/1.2),zoomTo:r=>t.scaleTo(n,r),transform:r=>{const s=bt.translate(r.x,r.y).scale(r.zoom);t.transform(n,s)},fitView:(r={padding:Jt,includeHiddenNodes:!1})=>{var m,b,$;const{nodes:s,width:c,height:a,minZoom:d,maxZoom:f}=e.getState();if(!s.length)return;const g=jo(r.includeHiddenNodes?s:s.filter(N=>!N.isHidden)),[x,p,h]=Zo(g,c,a,(m=r.minZoom)!=null?m:d,(b=r.maxZoom)!=null?b:f,($=r.padding)!=null?$:Jt),S=bt.translate(x,p).scale(h);t.transform(n,S)},setCenter:(r,s,c)=>{const{width:a,height:d,maxZoom:f}=e.getState(),g=typeof c!="undefined"?c:f,x=a/2-r*g,p=d/2-s*g,h=bt.translate(x,p).scale(g);t.transform(n,h)},fitBounds:(r,s=Jt)=>{const{width:c,height:a,minZoom:d,maxZoom:f}=e.getState(),[g,x,p]=Zo(r,c,a,d,f,s),h=bt.translate(g,x).scale(p);t.transform(n,h)},project:r=>{const{transform:s,snapToGrid:c,snapGrid:a}=e.getState();return Sn(r,s,c,a)},initialized:!0}:Ed,[t,n])},rs=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:o,onMoveEnd:r,onLoad:s,onElementClick:c,onNodeDoubleClick:a,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:g,onNodeMouseLeave:x,onNodeContextMenu:p,onNodeDragStart:h,onNodeDrag:S,onNodeDragStop:m,onSelectionDragStart:b,onSelectionDrag:$,onSelectionDragStop:N,onSelectionContextMenu:w,connectionMode:_,connectionLineType:y,connectionLineStyle:A,connectionLineComponent:C,selectionKeyCode:L,multiSelectionKeyCode:v,zoomActivationKeyCode:H,onElementsRemove:E,deleteKeyCode:R,onConnect:D,onConnectStart:z,onConnectStop:K,onConnectEnd:U,snapToGrid:G,snapGrid:Z,onlyRenderVisibleElements:M,nodesDraggable:ge,nodesConnectable:ne,elementsSelectable:ie,selectNodesOnDrag:$e,minZoom:te,maxZoom:V,defaultZoom:Oe,defaultPosition:Ge,translateExtent:we,preventScrolling:Ce,nodeExtent:Ae,arrowHeadColor:je,markerEndId:X,zoomOnScroll:qe,zoomOnPinch:ze,panOnScroll:Ze,panOnScrollSpeed:Ve,panOnScrollMode:Qe,zoomOnDoubleClick:Ke,paneMoveable:B,onPaneClick:ee,onPaneScroll:_e,onPaneContextMenu:ye,onEdgeUpdate:F,onEdgeContextMenu:I,onEdgeMouseEnter:ce,onEdgeMouseMove:ae,onEdgeMouseLeave:De,edgeUpdaterRadius:oe,onEdgeUpdateStart:he,onEdgeUpdateEnd:ve})=>{const Je=l.exports.useRef(!1),tt=W(q=>q.setOnConnect),xt=W(q=>q.setOnConnectStart),un=W(q=>q.setOnConnectStop),dn=W(q=>q.setOnConnectEnd),fn=W(q=>q.setSnapGrid),hn=W(q=>q.setSnapToGrid),pn=W(q=>q.setNodesDraggable),bo=W(q=>q.setNodesConnectable),Dt=W(q=>q.setElementsSelectable),mn=W(q=>q.setMinZoom),gn=W(q=>q.setMaxZoom),xn=W(q=>q.setTranslateExtent),di=W(q=>q.setNodeExtent),fi=W(q=>q.setConnectionMode),bn=Tt(),{zoomIn:$o,zoomOut:yo,zoomTo:So,transform:Eo,fitView:wo,initialized:Co}=os();return l.exports.useEffect(()=>{!Je.current&&Co&&(s&&s({fitView:(q={padding:.1})=>wo(q),zoomIn:$o,zoomOut:yo,zoomTo:So,setTransform:Eo,project:El(bn),getElements:Tl(bn),toObject:Al(bn)}),Je.current=!0)},[s,$o,yo,So,Eo,wo,Co]),l.exports.useEffect(()=>{D&&tt(D)},[D]),l.exports.useEffect(()=>{z&&xt(z)},[z]),l.exports.useEffect(()=>{K&&un(K)},[K]),l.exports.useEffect(()=>{U&&dn(U)},[U]),l.exports.useEffect(()=>{typeof G!="undefined"&&hn(G)},[G]),l.exports.useEffect(()=>{typeof Z!="undefined"&&fn(Z)},[Z]),l.exports.useEffect(()=>{typeof ge!="undefined"&&pn(ge)},[ge]),l.exports.useEffect(()=>{typeof ne!="undefined"&&bo(ne)},[ne]),l.exports.useEffect(()=>{typeof ie!="undefined"&&Dt(ie)},[ie]),l.exports.useEffect(()=>{typeof te!="undefined"&&mn(te)},[te]),l.exports.useEffect(()=>{typeof V!="undefined"&&gn(V)},[V]),l.exports.useEffect(()=>{typeof we!="undefined"&&xn(we)},[we]),l.exports.useEffect(()=>{typeof Ae!="undefined"&&di(Ae)},[Ae]),l.exports.useEffect(()=>{typeof _!="undefined"&&fi(_)},[_]),T(ud,{onPaneClick:ee,onPaneContextMenu:ye,onPaneScroll:_e,onElementsRemove:E,deleteKeyCode:R,selectionKeyCode:L,multiSelectionKeyCode:v,zoomActivationKeyCode:H,elementsSelectable:ie,onMove:n,onMoveStart:o,onMoveEnd:r,zoomOnScroll:qe,zoomOnPinch:ze,zoomOnDoubleClick:Ke,panOnScroll:Ze,panOnScrollSpeed:Ve,panOnScrollMode:Qe,paneMoveable:B,defaultPosition:Ge,defaultZoom:Oe,translateExtent:we,onSelectionDragStart:b,onSelectionDrag:$,onSelectionDragStop:N,onSelectionContextMenu:w,preventScrolling:Ce,children:[i(dd,{nodeTypes:e,onElementClick:c,onNodeDoubleClick:a,onNodeMouseEnter:f,onNodeMouseMove:g,onNodeMouseLeave:x,onNodeContextMenu:p,onNodeDragStop:m,onNodeDrag:S,onNodeDragStart:h,selectNodesOnDrag:$e,snapToGrid:G,snapGrid:Z,onlyRenderVisibleElements:M}),i(yd,{edgeTypes:t,onElementClick:c,onEdgeDoubleClick:d,connectionLineType:y,connectionLineStyle:A,connectionLineComponent:C,connectionMode:_,arrowHeadColor:je,markerEndId:X,onEdgeUpdate:F,onlyRenderVisibleElements:M,onEdgeContextMenu:I,onEdgeMouseEnter:ce,onEdgeMouseMove:ae,onEdgeMouseLeave:De,onEdgeUpdateStart:he,onEdgeUpdateEnd:ve,edgeUpdaterRadius:oe})]})};rs.displayName="GraphView";var wd=l.exports.memo(rs);const Xn=l.exports.createContext(null);Xn.Provider;Xn.Consumer;const Cd=()=>!0,ss=l.exports.forwardRef((g,f)=>{var x=g,{type:e="source",position:t=O.Top,isValidConnection:n=Cd,isConnectable:o=!0,id:r,onConnect:s,children:c,className:a}=x,d=pe(x,["type","position","isValidConnection","isConnectable","id","onConnect","children","className"]);const p=l.exports.useContext(Xn),h=W(v=>v.setConnectionPosition),S=W(v=>v.setConnectionNodeId),m=k(v=>v.onConnect),b=k(v=>v.onConnectStart),$=k(v=>v.onConnectStop),N=k(v=>v.onConnectEnd),w=k(v=>v.connectionMode),_=r||null,y=e==="target",A=l.exports.useCallback(v=>{m==null||m(v),s==null||s(v)},[m,s]),C=l.exports.useCallback(v=>{Ro(v,_,p,S,h,A,y,n,w,void 0,void 0,b,$,N)},[_,p,S,h,A,y,n,w,b,$,N]),L=ke(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",a,{source:!y,target:y,connectable:o}]);return i("div",P(u({"data-handleid":_,"data-nodeid":p,"data-handlepos":t,className:L,onMouseDown:C,ref:f},d),{children:c}))});ss.displayName="Handle";var ut=l.exports.memo(ss);const is=({data:e,isConnectable:t,targetPosition:n=O.Top,sourcePosition:o=O.Bottom})=>T(le,{children:[i(ut,{type:"target",position:n,isConnectable:t}),e.label,i(ut,{type:"source",position:o,isConnectable:t})]});is.displayName="DefaultNode";var Yn=l.exports.memo(is);const cs=({data:e,isConnectable:t,sourcePosition:n=O.Bottom})=>T(le,{children:[e.label,i(ut,{type:"source",position:n,isConnectable:t})]});cs.displayName="InputNode";var as=l.exports.memo(cs);const ls=({data:e,isConnectable:t,targetPosition:n=O.Top})=>T(le,{children:[i(ut,{type:"target",position:n,isConnectable:t}),e.label]});ls.displayName="OutputNode";var us=l.exports.memo(ls);function Xt(e){const t=({id:n,type:o,data:r,scale:s,xPos:c,yPos:a,selected:d,highlight:f,onClick:g,onMouseEnter:x,onMouseMove:p,onMouseLeave:h,onContextMenu:S,onNodeDoubleClick:m,onNodeDragStart:b,onNodeDrag:$,onNodeDragStop:N,style:w,className:_,edited:y,isDraggable:A,isSelectable:C,isConnectable:L,selectNodesOnDrag:v,sourcePosition:H,targetPosition:E,isHidden:R,isInitialized:D,snapToGrid:z,snapGrid:K,isDragging:U,resizeObserver:G,dragHandle:Z})=>{const M=Be(),ge=Fr(),ne=Wr(),ie=W(B=>B.unsetNodesSelection),$e=k(B=>B.multiSelectionActive),te=l.exports.useRef(null),V=l.exports.useMemo(()=>({id:n,type:o,position:{x:c,y:a},data:r}),[n,o,c,a,r]),Oe=l.exports.useMemo(()=>z?K:[1,1],[z,K]),Ge=l.exports.useMemo(()=>u({zIndex:d?10:3,transform:`translate(${c}px,${a}px)`,pointerEvents:C||A||g||x||p||h?"all":"none",opacity:D?1:0},w),[d,c,a,C,A,g,D,w,x,p,h]),we=l.exports.useMemo(()=>{if(!(!x||U))return B=>x(B,V)},[x,U,V]),Ce=l.exports.useMemo(()=>{if(!(!p||U))return B=>p(B,V)},[p,U,V]),Ae=l.exports.useMemo(()=>{if(!(!h||U))return B=>h(B,V)},[h,U,V]),je=l.exports.useMemo(()=>{if(!!S)return B=>S(B,V)},[S,V]),X=l.exports.useCallback(B=>{A||(C&&(ie(),d||ne([V],$e)),g==null||g(B,V))},[C,d,A,g,V,ne]),qe=l.exports.useCallback(B=>{b==null||b(B,V),v&&C?(ie(),d||ne([V],$e)):!v&&!d&&C&&(ie(),ne([]))},[b,V,v,C,d,ie,ne,$e]),ze=l.exports.useCallback((B,ee)=>{const{deltaX:_e,deltaY:ye}=ee;M(F=>{re(F).forEach(oe=>{de(F,oe).isDragging=!0});const I=B.altKey;if(F.highlightedNodeIDs=new Set,!I){zl(re(F).map(he=>Re(F,he))).forEach(he=>{Vo(F,he,_e,ye),et(F,he)});return}const ce=Mn(re(F),oe=>Re(F,oe)).map(oe=>vn(F,oe));ce.forEach(oe=>{const he=me(oe),ve=Xo(F,he);if(ve!=null){const Je=Cn(F,ve),tt=Uo(oe),xt=qt(F,tt);Ol(ve),Gt(F,Ye(F,tt)),Tn(F,Je,xt),et(F,Je)}Vo(F,he,_e,ye),et(F,he)});const ae=Q(ce),De=ae!=null?Q(sr(F,me(ae),B)):null;F.highlightedNodeIDs=kn(De!=null?[De]:[])})},[M]),Ze=l.exports.useCallback(B=>{M(ee=>{if(re(ee).forEach(ae=>{de(ee,ae).isDragging=!1}),ee.highlightedNodeIDs=new Set,!B.altKey)return;const ye=Mn(re(ee),ae=>Re(ee,ae)).map(ae=>vn(ee,ae)),F=Q(ye);if(F==null)return;const I=Q(sr(ee,me(F),B));if(I==null)return;const ce=me(F);Gt(ee,Wt(ee,ce)),An(ee,I,ce),et(ee,I)})},[M]),Ve=l.exports.useCallback(B=>{m==null||m(B,V),B.stopPropagation()},[V,m]);if(l.exports.useLayoutEffect(()=>{te.current&&!R&&ge([{id:n,nodeElement:te.current,forceUpdate:!0}])},[n,R,H,E,ge]),l.exports.useEffect(()=>{if(te.current){const B=te.current;return G==null||G.observe(B),()=>G==null?void 0:G.unobserve(B)}},[G]),R)return null;const Qe=ke(["react-flow__node",`react-flow__node-${o}`,_,{selected:d,selectable:C}]),Ke={id:n,data:r,type:o,xPos:c,yPos:a,selected:d,highlight:f,isConnectable:L,sourcePosition:H,targetPosition:E,isDragging:U,edited:y,dragHandle:Z,nodeElement:te};return i(La,{onStart:qe,onDrag:ze,onStop:Ze,scale:s,disabled:!A,cancel:".nodrag",nodeRef:te,grid:Oe,enableUserSelectHack:!1,handle:Z,children:i("div",{className:Qe,ref:te,style:Ge,onMouseEnter:we,onMouseMove:Ce,onMouseLeave:Ae,onContextMenu:je,onClick:X,onDoubleClick:Ve,"data-id":n,tabIndex:0,children:i(ds.Provider,{value:Ke,children:i(e,{})})})})};return t.displayName="NodeWrapper",l.exports.memo(t)}const ds=l.exports.createContext();function xe(){return l.exports.useContext(ds)}function Nd(e){const t={input:Xt(e.input||as),default:Xt(e.default||Yn),output:Xt(e.output||us)},n={},o=Object.keys(e).filter(r=>!["input","default","output"].includes(r)).reduce((r,s)=>(r[s]=Xt(e[s]||Yn),r),n);return u(u({},t),o)}var Td=({onSelectionChange:e})=>{const t=k(n=>n.selectedElements);return l.exports.useEffect(()=>{e(t)},[t]),null};const fs=({children:e})=>{const t=l.exports.useContext(Ra);return l.exports.useMemo(()=>{var o,r;return(r=(o=t==null?void 0:t.store)==null?void 0:o.getState())==null?void 0:r.reactFlowVersion},[t])?i(le,{children:e}):i(ko,{store:td,children:e})};fs.displayName="ReactFlowWrapper";const Ad={input:as,default:Yn,output:us},_d={default:Fn,straight:Xr,step:Jr,smoothstep:Jn},vd=[15,15],hs=l.exports.forwardRef((bo,pn)=>{var Dt=bo,{elements:e=[],className:t,nodeTypes:n=Ad,edgeTypes:o=_d,onElementClick:r,onLoad:s,onMove:c,onMoveStart:a,onMoveEnd:d,onElementsRemove:f,onConnect:g,onConnectStart:x,onConnectStop:p,onConnectEnd:h,onNodeMouseEnter:S,onNodeMouseMove:m,onNodeMouseLeave:b,onNodeContextMenu:$,onNodeDoubleClick:N,onNodeDragStart:w,onNodeDrag:_,onNodeDragStop:y,onSelectionChange:A,onSelectionDragStart:C,onSelectionDrag:L,onSelectionDragStop:v,onSelectionContextMenu:H,connectionMode:E=$t.Strict,connectionLineType:R=Xe.Bezier,connectionLineStyle:D,connectionLineComponent:z,deleteKeyCode:K="Backspace",selectionKeyCode:U="Shift",multiSelectionKeyCode:G="Meta",zoomActivationKeyCode:Z="Meta",snapToGrid:M=!1,snapGrid:ge=vd,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:ie=!0,nodesDraggable:$e,nodesConnectable:te,elementsSelectable:V,minZoom:Oe,maxZoom:Ge,defaultZoom:we=1,defaultPosition:Ce=[0,0],translateExtent:Ae,preventScrolling:je=!0,nodeExtent:X,arrowHeadColor:qe="#b1b1b7",markerEndId:ze,zoomOnScroll:Ze=!0,zoomOnPinch:Ve=!0,panOnScroll:Qe=!1,panOnScrollSpeed:Ke=.5,panOnScrollMode:B=rt.Free,zoomOnDoubleClick:ee=!0,paneMoveable:_e=!0,onPaneClick:ye,onPaneScroll:F,onPaneContextMenu:I,children:ce,onEdgeUpdate:ae,onEdgeContextMenu:De,onEdgeDoubleClick:oe,onEdgeMouseEnter:he,onEdgeMouseMove:ve,onEdgeMouseLeave:Je,onEdgeUpdateStart:tt,onEdgeUpdateEnd:xt,edgeUpdaterRadius:un=10,nodeTypesId:dn="1",edgeTypesId:fn="1"}=Dt,hn=pe(Dt,["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","arrowHeadColor","markerEndId","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","nodeTypesId","edgeTypesId"]);const mn=l.exports.useMemo(()=>Nd(n),[dn]),gn=l.exports.useMemo(()=>xd(o),[fn]),xn=ke(["react-flow",t]);return i("div",P(u({},hn),{ref:pn,className:xn,children:T(fs,{children:[i(wd,{onLoad:s,onMove:c,onMoveStart:a,onMoveEnd:d,onElementClick:r,onNodeMouseEnter:S,onNodeMouseMove:m,onNodeMouseLeave:b,onNodeContextMenu:$,onNodeDoubleClick:N,onNodeDragStart:w,onNodeDrag:_,onNodeDragStop:y,nodeTypes:mn,edgeTypes:gn,connectionMode:E,connectionLineType:R,connectionLineStyle:D,connectionLineComponent:z,selectionKeyCode:U,onElementsRemove:f,deleteKeyCode:K,multiSelectionKeyCode:G,zoomActivationKeyCode:Z,onConnect:g,onConnectStart:x,onConnectStop:p,onConnectEnd:h,snapToGrid:M,snapGrid:ge,onlyRenderVisibleElements:ne,nodesDraggable:$e,nodesConnectable:te,elementsSelectable:V,selectNodesOnDrag:ie,minZoom:Oe,maxZoom:Ge,defaultZoom:we,defaultPosition:Ce,translateExtent:Ae,preventScrolling:je,nodeExtent:X,arrowHeadColor:qe,markerEndId:ze,zoomOnScroll:Ze,zoomOnPinch:Ve,zoomOnDoubleClick:ee,panOnScroll:Qe,panOnScrollSpeed:Ke,panOnScrollMode:B,paneMoveable:_e,onPaneClick:ye,onPaneScroll:F,onPaneContextMenu:I,onSelectionDragStart:C,onSelectionDrag:L,onSelectionDragStop:v,onSelectionContextMenu:H,onEdgeUpdate:ae,onEdgeContextMenu:De,onEdgeDoubleClick:oe,onEdgeMouseEnter:he,onEdgeMouseMove:ve,onEdgeMouseLeave:Je,onEdgeUpdateStart:tt,onEdgeUpdateEnd:xt,edgeUpdaterRadius:un}),A&&i(Td,{onSelectionChange:A}),ce]})}))});hs.displayName="ReactFlow";const ps=({x:e,y:t,width:n,height:o,style:r,color:s,strokeColor:c,strokeWidth:a,className:d,borderRadius:f,shapeRendering:g})=>{const{background:x,backgroundColor:p}=r||{},h=s||x||p;return i("rect",{className:ke(["react-flow__minimap-node",d]),x:e,y:t,rx:f,ry:f,width:n,height:o,fill:h,stroke:c,strokeWidth:a,shapeRendering:g})};ps.displayName="MiniMapNode";var kd=l.exports.memo(ps);const Md=200,Id=150,ms=({style:e,className:t,nodeStrokeColor:n="#555",nodeColor:o="#fff",nodeClassName:r="",nodeBorderRadius:s=5,nodeStrokeWidth:c=2,maskColor:a="rgb(240, 242, 243, 0.7)"})=>{const d=k(M=>M.width),f=k(M=>M.height),[g,x,p]=k(M=>M.transform),h=k(M=>M.nodes),S=ke(["react-flow__minimap",t]),m=(e==null?void 0:e.width)||Md,b=(e==null?void 0:e.height)||Id,$=o instanceof Function?o:()=>o,N=n instanceof Function?n:()=>n,w=r instanceof Function?r:()=>r,_=h&&h.length,y=jo(h),A={x:-g/p,y:-x/p,width:d/p,height:f/p},C=_?wl(y,A):A,L=C.width/m,v=C.height/b,H=Math.max(L,v),E=H*m,R=H*b,D=5*H,z=C.x-(E-C.width)/2-D,K=C.y-(R-C.height)/2-D,U=E+D*2,G=R+D*2,Z=typeof window=="undefined"||!!window.chrome?"crispEdges":"geometricPrecision";return T("svg",{width:m,height:b,viewBox:`${z} ${K} ${U} ${G}`,style:e,className:S,children:[h.filter(M=>!M.isHidden).map(M=>i(kd,{x:M.__rf.position.x,y:M.__rf.position.y,width:M.__rf.width,height:M.__rf.height,style:M.style,className:w(M),color:$(M),borderRadius:s,strokeColor:N(M),strokeWidth:c,shapeRendering:Z},M.id)),i("path",{className:"react-flow__minimap-mask",d:`M${z-D},${K-D}h${U+D*2}v${G+D*2}h${-U-D*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:a,fillRule:"evenodd"})]})};ms.displayName="MiniMap";l.exports.memo(ms);const Od=(e,t,n)=>i("path",{stroke:n,strokeWidth:t,d:`M${e/2} 0 V${e} M0 ${e/2} H${e}`}),Dd=(e,t)=>i("circle",{cx:e,cy:e,r:e,fill:t}),Ld={[ot.Dots]:"#81818a",[ot.Lines]:"#eee"},gs=({variant:e=ot.Dots,gap:t=15,size:n=.4,color:o,style:r,className:s})=>{const[c,a,d]=k($=>$.transform),f=l.exports.useMemo(()=>`pattern-${Math.floor(Math.random()*1e5)}`,[]),g=ke(["react-flow__background",s]),x=t*d,p=c%x,h=a%x,S=e===ot.Lines,m=o||Ld[e],b=S?Od(x,n,m):Dd(n*d,m);return T("svg",{className:g,style:P(u({},r),{width:"100%",height:"100%"}),children:[i("pattern",{id:f,x:p,y:h,width:x,height:x,patternUnits:"userSpaceOnUse",children:b}),i("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f})`})]})};gs.displayName="Background";var Rd=l.exports.memo(gs);const xs=({children:e})=>{const t=l.exports.useMemo(()=>Ur(Rn),[]);return i(ko,{store:t,children:e})};xs.displayName="ReactFlowProvider";const Yt=se("div",{display:"flex",flexDirection:"column",variants:{align:{start:{alignItems:"flex-start"},center:{alignItems:"center"},end:{alignItems:"flex-end"},stretch:{alignItems:"stretch"}},justify:{start:{justifyContent:"flex-start"},center:{justifyContent:"center"},end:{justifyContent:"flex-end"},between:{justifyContent:"space-between"}}},defaultVariants:{align:"stretch",justify:"start"}}),He=se("button",{alignItems:"center",appearance:"none",borderWidth:"0",boxSizing:"border-box",display:"inline-flex",flexShrink:0,fontSize:"14px",justifyContent:"center",lineHeight:"1",outline:"none",padding:"0",textDecoration:"none",userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer",color:"$hiContrast",backgroundColor:"$loContrast",border:"1px solid $slate7","@hover":{"&:hover":{borderColor:"$slate8"}},"&:active":{backgroundColor:"$slate2"},"&:focus":{borderColor:"$slate8",boxShadow:"0 0 0 1px $colors$slate8"},"&:disabled":{pointerEvents:"none",backgroundColor:"transparent",color:"$slate6"},variants:{size:{1:{borderRadius:"$4",size:"25px"}},variant:{ghost:{backgroundColor:"transparent",borderWidth:"0","@hover":{"&:hover":{backgroundColor:"$slateA3"}},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slateA8, 0 0 0 1px $colors$slateA8"},"&:active":{backgroundColor:"$slateA4"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$slateA4"}}},state:{active:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)"}},"&:active":{backgroundColor:"$slate4"}},waiting:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)"}},"&:active":{backgroundColor:"$slate4"}}}},defaultVariants:{size:"1",variant:"ghost"}});function en(o){var r=o,{children:e,content:t}=r,n=pe(r,["children","content"]);return T(Pa,{children:[i(Ha,{asChild:!0,children:e}),T(Pd,P(u({sideOffset:3},n),{children:[t,i(Bd,{css:{color:"$transparentPanel"},children:i(Ua,{offset:7,width:11,height:5,style:{fill:"currentColor"}})})]}))]})}const Bd=se("div"),Pd=se(Ba,{backgroundColor:"$transparentPanel",borderRadius:"$4",padding:"$4 $8",color:"$loContrast",font:"$detail"});function Hd({fitViewParams:e,onZoomIn:t,onZoomOut:n,onFitView:o,onInteractiveChange:r}){const[s,c]=l.exports.useState(!1),{zoomIn:a,zoomOut:d,fitView:f}=os(),g=l.exports.useCallback(()=>{a==null||a(),t==null||t()},[a,t]),x=l.exports.useCallback(()=>{d==null||d(),n==null||n()},[d,n]),p=l.exports.useCallback(()=>{f==null||f(e),o==null||o()},[f,e,o]);return l.exports.useEffect(()=>{c(!0)},[]),s?T(Yt,{css:{position:"absolute",zIndex:5,bottom:10,left:10},children:[i(en,{content:"Zoom in",side:"right",align:"center",children:i(He,{onClick:g,children:i(Fa,{})})}),i(en,{content:"Zoom out",side:"right",align:"center",children:i(He,{onClick:x,children:i(Wa,{})})}),i(en,{content:"Fit view",side:"right",align:"center",children:i(He,{onClick:p,children:i(Ga,{})})})]}):null}function Ud({initialState:e,topUI:t,children:n,nodeTypes:o,onDoubleClick:r,onKeyDown:s}){return i(ou,{initialState:e,children:T(Gd,{onKeyDown:s,children:[i(xs,{children:i(jd,{nodeTypes:o,onDoubleClick:r,onKeyDown:s,children:t})}),i("div",{style:{flexGrow:1,maxHeight:"50%",position:"relative"},children:n})]})})}const Fd=se("div"),Wd={MAC:{panOnScroll:!0,paneMoveable:!1},WINDOWS:{}};function Gd({children:e,onKeyDown:t}){const n=Nt(),o=Be(),r=l.exports.useRef(null);l.exports.useLayoutEffect(()=>{if(r.current!=null){const c=r.current;o(a=>{const[d,f]=c;if(or(a,d).height!=null){const g=Et(a,d);f(a,g)}}),r.current=null}},[n,o]);const s=l.exports.useCallback(c=>{c!=null&&(r.current=c)},[]);return T(In.Provider,{value:s,children:[i("div",{style:{display:"flex",flexDirection:"column",height:"100%"},onKeyDown:c=>{o(a=>{if(c.key==="Backspace"){if(_n(a)===0)return;const f=Mn(re(a),g=>Re(a,g)).map(g=>vn(a,g)).map(g=>{const x=me(g),p=Zt(a,x),h=Uo(g),S=qt(a,h);return g.forEach(m=>Gl(a,m)),p!=null&&(Tn(a,p,S),et(a,p)),p});Se(a,f.filter(g=>g!=null))}else c.key==="ArrowUp"||c.key==="ArrowDown"?Se(a,re(a).map(c.key==="ArrowUp"?d=>{var f;return(f=Zt(a,d))!=null?f:d}:d=>{var f;return(f=rr(a,d))!=null?f:d}).filter(d=>d!=null)):s(t(a,c))})},children:e})," "]})}function jd({children:e,nodeTypes:t,onDoubleClick:n}){const o=Be(),r=Tt(),s=l.exports.useContext(In),c=l.exports.useCallback(a=>{const d=(a!=null?a:[]).filter(f=>f.source==null);o(f=>{$l(d.map(Y),Array.from(f.selectedNodeIDs))||Se(f,d)})},[o]);return i(Fd,{css:{height:"65%",borderBottom:"1px solid $slate7",outline:"none"},tabIndex:"-1",onDoubleClick:a=>{o(d=>{s(n(d,Sl(r,{x:a.clientX,y:a.clientY})))})},children:T(hs,P(u({nodeTypes:t,edgeTypes:qd,onSelectionChange:c,zoomOnDoubleClick:!1},Wd.MAC),{onEdgeUpdate:(a,{source:d,target:f})=>{o(g=>{Yo(g,a),er(g,ue(d),ue(f))})},children:[i("div",{style:{position:"absolute",padding:4,zIndex:5,transform:"translate(-50%, 0)",top:0,left:"50%"},children:e}),i(Hd,{showInteractive:!1}),i(Rd,{color:"#aaa",gap:16})]}))})}const qd={tight:function(){return i(le,{})}};function zd(e){const[t,n]=gu();return l.exports.useEffect(()=>{document.documentElement.classList.toggle(au.className,t==="dark"),document.documentElement.style.setProperty("color-scheme",t)},[t]),i(en,{content:"Toggle theme",side:"bottom",align:"end",children:i(He,P(u({onClick:()=>{n(t==="dark"?"light":"dark")}},e),{"aria-label":"toggle a light and dark color scheme",children:i(ja,{})}))})}const Ne=se("div",{display:"flex",flexDirection:"row",variants:{align:{start:{alignItems:"flex-start"},center:{alignItems:"center"},end:{alignItems:"flex-end"},stretch:{alignItems:"stretch"}},justify:{start:{justifyContent:"flex-start"},center:{justifyContent:"center"},end:{justifyContent:"flex-end"},between:{justifyContent:"space-between"}}},defaultVariants:{align:"stretch",justify:"start"}});function Zd(e){return T(xu,{children:[T(Ne,{align:"center",css:{position:"absolute",top:"$20",right:"$20",zIndex:100},children:[e.topRightUI,i(zd,{})]}),i(Ud,u({},e))]})}function Vd(e){return new Map(Object.entries(e))}const{state:eo,useSetState:to,provider:Qd}=ir({source:null,editorConfig:{tableExists(){return!1},tableColumns(){return[]}}});function tn(){return l.exports.useContext(eo.editorConfig)}function dt(){const e=lt(),t=tn();return l.exports.useMemo(()=>P(u({},e),{editorConfig:t}),[e,t])}const Kd={".cm-content":{caretColor:"$hiContrast"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"$hiContrast"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"$slate7"},".cm-activeLine":{backgroundColor:"$slate2"},".cm-selectionMatch":{backgroundColor:"$slate4"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:"1px solid $slate5"},".cm-tooltip":{border:"none",background:"$slate7",padding:"$4",borderRadius:"$4"},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-editor .cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{whiteSpace:"nowrap",overflow:"hidden auto",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},".cm-tooltip-autocomplete ul li[aria-selected]":{background:"$slate10",color:"$loContrast",borderRadius:"2px"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionMatchedText":{fontWeight:"bold"},".cmt-comment":{color:"$slate11"},".cmt-operator":{color:"$blue11"},".cmt-keyword":{color:"$violet11"},".cmt-string, .cmt-string2":{color:"$green11"},".cmt-number":{color:"$amber11"}};function Jd({extensions:e,displayValue:t,autoFocus:n,label:o,value:r,onChange:s}){const[c,a]=l.exports.useState(null),[d,f]=l.exports.useState((n!=null?n:!1)&&r===""?"":null),g=l.exports.useRef(),x=l.exports.useCallback(()=>{f(null),s(d)},[d,s]),[p,h]=tf(x),S=l.exports.useCallback(y=>{h(),f(y)},[h]),m=l.exports.useCallback(y=>{f(null),s(y)},[s]),b=xe(),$=b==null?void 0:b.id;Yd($,d),ef(d,m),nf(g,d),Xd(r,d,f);const N=Be(),w=l.exports.useCallback(y=>{N(A=>{Se(A,[ue($)])}),a({x:y.clientX,y:y.clientY}),f(r!=null?r:"")},[r,$,N]),_=(t!=null?t:r)==="";return T("div",{style:{display:"inline-block"},children:[o!=null?i(of,{children:o}):null,d!=null?i(bs,{css:{borderWidth:"0 0 1px 0",minWidth:"100px",cursor:"text"},extensions:e,click:c,ref:g,value:d,editable:!0,onMouseDown:no,onTouchStart:no,onMouseLeave:p,onChange:S,onConfirm:m,onKeyDown:no}):i(bs,{css:{borderWidth:_?"0 0 1px 0":"0",cursor:"pointer",minWidth:_?"100px":void 0},extensions:e,ref:g,editable:!1,value:t!=null?t:r,onClick:w})]})}function no(e){e.stopPropagation()}function Xd(e,t,n){const[o,r]=l.exports.useState(e);e!==o&&(e!==""&&t!=null&&n(null),r(e))}function Yd(e,t){const n=Be();l.exports.useEffect(()=>{e!=null&&n(o=>{de(o,ue(e)).edited=t!=null})},[t,e,n])}function ef(e,t){const{nodeElement:n}=xe();l.exports.useEffect(()=>{const o=r=>{e!=null&&!n.current.contains(r.target)&&t(e)};return document.addEventListener("mouseup",o),()=>{document.removeEventListener("mouseup",o)}},[n,e,t])}function tf(e){const[t,n]=l.exports.useState(!1),o=l.exports.useCallback(()=>{n(!0)},[]),r=l.exports.useCallback(()=>{n(!1)},[]),{nodeElement:s}=xe();return l.exports.useEffect(()=>{const c=a=>{t&&!s.current.contains(a.target)&&(n(!1),e())};return document.addEventListener("mousemove",c),()=>{document.removeEventListener("mousemove",c)}},[e,t,s]),[o,r]}function nf(e,t){l.exports.useEffect(()=>{var n;t==null&&((n=e.current)==null?void 0:n.view)!=null&&(el(e.current.view),e.current.container.closest(".react-flow__node").focus())},[t,e])}function of(e){return i("span",{style:{fontSize:12},children:e.children})}const bs=l.exports.forwardRef(function(t,n){const b=t,{css:o,value:r,extensions:s,onChange:c,onConfirm:a,editable:d,click:f}=b,g=pe(b,["css","value","extensions","onChange","onConfirm","editable","click"]),x=l.exports.useRef(null),{state:p,view:h,container:S,setContainer:m}=rf({container:x.current,value:r,extensions:s,onChange:c,onConfirm:a,editable:d,click:f});if(l.exports.useImperativeHandle(n,()=>({container:S,state:p,view:h}),[S,p,h]),l.exports.useEffect(()=>(m(x.current),()=>{h&&h.destroy()}),[]),typeof r!="string")throw new Error(`value must be typeof string but got ${typeof r}`);return i(Ee,u({css:u(P(u({borderWidth:0},o),{borderStyle:"solid",borderColor:"$blue9"}),Kd),ref:x},g))});function rf(e){const{value:t,extensions:n,onChange:o,onConfirm:r,editable:s,click:c}=e,[a,d]=l.exports.useState(e.container),[f,g]=l.exports.useState(),[x,p]=l.exports.useState(),h=l.exports.useRef();h.current=s;const S=Rt.updateListener.of($=>{if($.docChanged&&typeof o=="function"&&h.current){const w=$.state.doc.toString();o(w,$)}}),m=qa();let b=[...n,Mo.allowMultipleSelections.of(!0),s?za():[],Za({position:"absolute"}),m.slice(0,-1),Va.of([{key:"Mod-Enter",run:$=>{Qa($);const w=$.state.doc.toString();r(w)}},...Ka.filter(({key:$})=>$!=="Mod-Enter")]),S,af,Ja,Rt.editable.of(s)];return l.exports.useEffect(()=>{if(a&&!x){const $=Mo.create({doc:t,extensions:b});if(p($),!f){const N=new Rt({state:$,parent:a});g(N)}}},[a,x]),l.exports.useEffect(()=>()=>{f&&f.destroy()},[f]),l.exports.useEffect(()=>{if(f){const $=f.state.doc.toString();t!==$&&f.dispatch({changes:{from:0,to:$.length,insert:t||""}})}},[t,f]),l.exports.useEffect(()=>{f&&f.dispatch({effects:Xa.reconfigure.of(b)})},[n,s]),l.exports.useEffect(()=>{s&&f!=null&&sf(f,c)},[s,f,c]),{state:x,setState:p,view:f,setView:g,container:a,setContainer:d}}function sf(e,t){var o;const n=(o=cf(e,t))!=null?o:0;e.focus(),e.dispatch({selection:Ya.cursor(n)})}function cf(e,t){return t==null?null:e.posAtCoords(t)}const af=Rt.theme({"&.cm-editor.cm-focused":{outline:"none"},"& .cm-scroller":{fontFamily:"inherit",overflowX:"visible"},"& .cm-content":{padding:"0"},"& .cm-line":{padding:0}});function Ue(n){var o=n,{schema:e}=o,t=pe(o,["schema"]);return console.log(e),i(Jd,P(u({},t),{extensions:[lf({dialect:Bt,schema:e})]}))}function lf(e){return new tl(e.dialect.language,[nl(e)])}function uf({style:e,trigger:t,children:n}){const[o,r]=l.exports.useState(!1);return T(le,{children:[i("div",{style:e,onMouseEnter:()=>r(!0),children:t}),o?i("div",{onMouseLeave:()=>r(!1),children:n}):null]})}function df({hideControls:e,children:t,type:n,useControls:o,useHasProblem:r}){const s=xe(),c=r(),a=lt();return T("div",{children:[T(hf,{isHighlighted:s.highlight,isSelected:s.selected,hasProblem:c,children:[t,n!=="output"?i(ut,{style:$s(Ul(a,s)),type:"target",position:"left"}):null,i(ut,{style:$s(Wl(a,s)),type:"source",position:"right"})]}),i(Ee,{css:{position:"absolute",left:"100%",top:"100%",transform:"translate(-100%, -30%)"},children:Ml(s)}),i(ff,{hideControls:e,useControls:o})]})}function $s(e){return{visibility:e?"visible":"hidden"}}function ff({hideControls:e,useControls:t}){const n=xe(),o=lt(),r=t(n);if(r==null||n.edited||n.isDragging)return null;const s=n.selected,c=!Fl(o,n),a=i("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0},children:i(Ne,{children:r})});return(e!=null?e:!1)||!s?null:c?a:i(uf,{style:{position:"absolute",top:"50%",left:0,transform:"translate(-100%, -50%)"},trigger:i(He,{children:i(_o,{})}),children:a})}const hf=se("div",{cursor:"move",background:"$slate1",borderRadius:"8px",border:"1px solid $slate7",padding:"2px 8px",variants:{isSelected:{true:{borderColor:"$blue9",boxShadow:"0 0 0 0.5px $colors$blue9"}},isHighlighted:{true:{borderBottomColor:"$amber9"}},hasProblem:{true:{borderColor:"$red9",boxShadow:"0 0 0 0.5px $colors$red9"}}},compoundVariants:[{isSelected:!0,hasProblem:!0,css:{borderColor:"$pink9",boxShadow:"0 0 0 0.5px $colors$pink9"}}]});function Te(){return i(Ee,{css:{minWidth:"2px"}})}function ft({hideControls:e,type:t,children:n}){return i(df,{hideControls:e,type:t,useControls:pf,useHasProblem:mf,children:n})}function pf(){const e=lt();if(_n(e)>2)return null;const t=_n(e)===2,n=t&&!ql(e,...re(e));return t&&!n?null:n?i(xf,{}):i(le,{children:i(gf,{})})}function mf(){const e=lt(),t=tn(),n=xe();return oh(P(u({},e),{editorConfig:t}),n)}function gf(){return i(le,{children:Me(ei,({label:e},t)=>T(l.exports.Fragment,{children:[i(Ln,{onAdd:ys(t),children:e}),i(Te,{})]},t))})}function ys(e){return uu(an(e))}function xf(){return i(Ln,{onAdd:pu(an("join")),children:"JOIN"})}function bf(){return i(Ln,{onAdd:fu(an("from")),children:"FROM"})}function $f(){const e=xe(),t=ht(e),n=Pe(),{schema:o}=tn();return console.log(o),T(ft,{hideControls:t.length===0,type:"output",children:["FROM"," ",i(Ue,{autoFocus:!0,schema:o,value:t,onChange:r=>{n(s=>{Es(s,r)})}})]})}const Ss={Component:$f,emptyNodeData:yf,results(e,t){return ht(t)===""?i(Ef,{node:t}):null},hasProblem(e,t){return ht(t)!==""&&!Sf(e,t)},query(e,t){const n=ht(t);return n.length>0?`SELECT * from ${n}`:null},queryAdditionalTables(e,t){return null},querySelectable(e,t){return Ss.query(e,t)},columnNames(e,t){return new Set(e.editorConfig.tableColumns(ht(t)))},columnControl(){return null}};function yf(){return{name:""}}function ht(e){return e.data.name}function Sf(e,t){return e.editorConfig.tableExists(ht(t))!=null}function Es(e,t){e.data.name=t}function Ef(){const{schema:e}=tn(),t=Pe(),n=Object.keys(e);return n.sort(),T("table",{children:[i("thead",{children:T("tr",{children:[i("th",{children:"Table"}),i("th",{children:"Columns"})]})}),i("tbody",{children:n.map(o=>T("tr",{children:[i("td",{children:i(Ie,{css:{marginVert:"2px"},onClick:()=>{t(r=>{Es(r,o)})},children:o})}),i("td",{children:e[o].join(", ")})]},o))})]})}function ws({css:e,trigger:t,children:n}){const[o,r]=l.exports.useState(!1);return T("div",{style:{position:"relative"},children:[i("div",{onClick:()=>r(!0),children:t}),o?i(Ee,{css:e,onMouseLeave:()=>r(!1),children:n}):null]})}function _t(e,t){const n=Q(J(e,t));return n==null?{}:eu(fe(e,n),()=>[])}function oo(e,t){return e.join(","+(/\n/.test(t)?`
`:" "))+(/,\s*$/.test(t)?",":"")}function ro(e){return e.replace(/,\s*$/,"")}function Cs([e,t]){return t!=null?`${e} AS ${t}`:e}function Ns([e,t]){const n=nn([e,t]);return n===e?n:`${e} AS ${n}`}function nn([e,t]){return t!=null?t:/^\w+$/.test(e)?e:e.replace(/\W+/g," ").trim().replace(/\s+/,"_").toLowerCase()}function Ts(e){return pt(e).map(me)}function pt(e){let t=[];const n=Bt.language.parser.parse(e).cursor();if(n.firstChild(),n.firstChild(),n.name==="Script")return t;let o="",r=null;do if(!(n.name==="LineComment"||n.name==="BlockComment")){if(n.name==="Keyword"&&/^as$/i.test(vt(n,e))){n.nextSibling(),r=vt(n,e);continue}if(n.name==="Punctuation"&&(t.push([o,r]),o="",r=null,!n.nextSibling()))break;o!==""&&e[n.from-1]===" "&&(o+=" "),o+=vt(n,e)}while(n.nextSibling());return o!==""&&t.push([o,r]),t}function As(e){let t=[];const n=Bt.language.parser.parse(e).cursor();if(n.firstChild(),n.firstChild(),n.name==="Script")return t;let o="",r="";do if(!(n.name==="LineComment"||n.name==="BlockComment")){if(n.name==="Keyword"&&/^asc|desc$/i.test(vt(n,e))&&(r=o,o=""),n.name==="Punctuation"&&(t.push(r.length>0?[r,o]:[o,""]),r="",o="",!n.nextSibling()))break;o!==""&&e[n.from-1]===" "&&(o+=" "),o+=vt(n,e)}while(n.nextSibling());return o!==""&&t.push(r.length>0?[r,o]:[o,""]),t}function vt(e,t,n=0){return t.substring(e.from+n,e.to-n)}function wf(){const e=xe(),t=Pe(),n=dt();return T(ft,{children:["GROUP BY"," ",i(Ue,{displayValue:Fe(e)?null:"\u2205",schema:_t(n,e),value:on(e),onChange:o=>{t(r=>{io(r,o)})}}),T(Ee,{css:{color:Fe(e)?void 0:"$slate11"},children:["SELECT"," ",i(Ue,{displayValue:Tf(e)?null:"*",schema:_t(n,e),value:kt(e),onChange:o=>{t(r=>{Is(r,o)})}})]})]})}const _s={Component:wf,emptyNodeData:Nf,hasProblem(e,t){return!1},query(e,t){const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);return Fe(t)?Ls(t,kt(t),o):`SELECT * from (${o})`},queryAdditionalTables(e,t){const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);if(!Fe(t))return null;const r=it(fe(e,n),ks(t));return r.length===0?null:[`SELECT ${r.join(",")} FROM (${o})`]},querySelectable(e,t){if(!Fe(t))return _s.query(e,t);const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);return Ls(t,Mt(t).map(Ns).join(","),o)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:Fe(t)?new Set(Mt(t).map(nn)):fe(e,n)},columnControl(e,t,n,o,r){const s=r&&Fe(t);return!s||so(t,n)||Ms(t,n)?T(Ne,{align:"center",children:[i("input",{checked:s&&Ms(t,n),style:{cursor:"pointer"},type:"checkbox",onChange:a=>{o(d=>{s&&!so(d,n)?Os(d,n):Af(d,n)})}}),i(Te,{}),i(Te,{}),n,!r&&Fe(t)?i(Cf,{onChange:a=>{o(d=>{Mf(d,vs[a](n))})}}):null]}):n}};function Cf({onChange:e}){return i(ws,{css:{position:"absolute",top:"100%",background:"$slate7",padding:"$4",borderRadius:"$4"},trigger:i(He,{children:i(Io,{})}),children:i(Yt,{children:Object.keys(vs).map(t=>i(Ie,{css:{marginTop:"$4"},onClick:()=>e(t),children:t},t))})})}const vs={"COUNT DISTINCT":e=>`COUNT(DISTINCT ${e})`,AVG:e=>`AVG(${e})`,MIN:e=>`MIN(${e})`,MAX:e=>`MAX(${e})`};function Nf(){return{groupedBy:"",aggregations:""}}function Fe(e){return rn(e).length>0}function on(e){return e.data.groupedBy}function rn(e){return Ts(on(e))}function ks(e){return new Set(rn(e))}function so(e,t){return ks(e).has(t)}function kt(e){return e.data.aggregations}function Tf(e){return e.data.aggregations!==""}function Ms(e,t){return Mt(e).find(([n,o])=>n===t||o===t)!=null}function io(e,t){e.data.groupedBy=t,kf(e)}function Is(e,t){e.data.aggregations=t}function Af(e,t){so(e,t)?vf(e,t):_f(e,t)}function _f(e,t){io(e,[...rn(e),t].join(", "))}function vf(e,t){io(e,rn(e).filter(n=>n!==t).join(", ")),Os(e,t)}function kf(e){e.data.aggregations=[on(e),kt(e)].filter(t=>t!=="").join(", ")}function Mf(e,t){Ds(e,Mt(e).concat(pt(t)))}function Os(e,t){Ds(e,Mt(e).filter(([n,o])=>n!==t&&o!==t))}function Ds(e,t){Is(e,oo(t.map(Cs),kt(e)))}function Mt(e){return pt(kt(e))}function Ls(e,t,n){return`SELECT ${t===""?"*":ro(t)}
    FROM (${n})
    GROUP BY ${ro(on(e))}`}function Rs(e,t){return new Set(it(e,t))}function Bs({checked:e,onChange:t}){return i("input",{checked:e,style:{cursor:"pointer"},type:"checkbox",onChange:t})}function If(){const e=xe(),t=mt(e),n=Pe(),o=dt();return T(ft,{children:[i(Ue,{value:Hs(e),onChange:r=>{n(s=>{Rf(s,r)})}})," ","ON"," ",i(Ue,{displayValue:Ps(e)?null:"\u2205",schema:Wf(o,e),value:t,onChange:r=>{n(s=>{co(s,r)})}})]})}const Of={Component:If,emptyNodeData:Lf,hasProblem(e,t){return J(e,t).length!==2},query(e,t){const n=J(e,t),[o,r]=n,s=sn(t),c=it(o!=null?fe(e,o):new Set,new Set(s.map(me))),a=it(r!=null?fe(e,r):new Set,new Set(s.map(Ho)));return qs(e,t,o,r,s.length>0?s.map(me).map(d=>"a."+d).concat(c.map(d=>"a."+d),a.map(d=>"b."+d)).join(","):"a.*, b.*")},queryAdditionalTables(e,t){return null},querySelectable(e,t){const n=J(e,t),[o,r]=n,s=n.map(c=>fe(e,c));return qs(e,t,o,r,Hf(t,s).join(","))},columnNames(e,t){const o=J(e,t).map(r=>fe(e,r));return Uf(t,o)},columnControl(e,t,n,o,r,s){const c=sn(t),a=J(e,t),d=it(fe(e,me(a)),new Set(c.map(me))),f=s<c.length,g=s<c.length+d.length,x=(f?"":(g?"a":"b")+".")+n;return T(Ne,{align:"center",children:[f?T(le,{children:[i(Bs,{checked:!0,onChange:()=>{o(p=>{Pf(p,n)})}}),i(Te,{}),i(Te,{})]}):null,x,f?null:i(Df,{columns:Me(fe(e,(g?Ho:me)(J(e,t))),p=>(g?"b":"a")+"."+p),onChange:p=>{o(h=>{Bf(h,`${x} = ${p}`)})}})]})}};function Df({columns:e,onChange:t}){return i(ws,{css:{position:"absolute",top:"100%",background:"$slate7",padding:"$4",borderRadius:"$4"},trigger:i(He,{children:i(Io,{})}),children:i(Yt,{children:e.map(n=>i(Ie,{css:{marginTop:"$4"},onClick:()=>t(n),children:n},n))})})}function Lf(){return{type:"JOIN",where:""}}function Ps(e){return mt(e).length>0}function Hs(e){return e.data.type}function mt(e){return e.data.where}function Rf(e,t){e.data.type=t}function co(e,t){e.data.where=t}function Bf(e,t){co(e,mt(e)===""?t:`${mt(e)} AND ${t}`)}function Pf(e,t){co(e,Ff(Gs(e).filter(n=>{const o=js(n);if(o==null)return!0;const[r]=o;return r!==t})))}function Hf(e,t){const n=sn(e),o=t.map((r,s)=>Rs(r,new Set(n.map(c=>c[s]))));return n.map(me).map(r=>Us(0,r)).concat(...o.map((r,s)=>Me(r,c=>{var a;return`${Us(s,c)}${((a=o[Ws(s)])!=null?a:new Set).has(c)?` as ${Fs(s,c)}`:""}`})))}function Uf(e,t){const n=sn(e),o=t.map((r,s)=>Rs(r,new Set(n.map(c=>c[s]))));return new Set(n.map(me).concat(...o.map((r,s)=>Me(r,c=>{var a;return((a=o[Ws(s)])!=null?a:new Set).has(c)?Fs(s,c):c}))))}function Us(e,t){return`${ao(e)}.${t}`}function Fs(e,t){return`${t}_${ao(e)}`}function ao(e){return e===0?"a":"b"}function Ws(e){return e===0?1:0}function sn(e){return Gs(e).map(js).filter(t=>t!=null)}function Gs(e){return mt(e).split(/\s+AND\s+/)}function Ff(e){return e.join(" AND ")}function js(e){const t=e.match(/a\.(\w+)\s*=\s*b\.(\w+)/);if(t==null)return null;const[,n,o]=t;return[n,o]}function qs(e,t,n,o,r){return`SELECT ${r} FROM (${n!=null?be(e,n):null}) AS a
  ${Hs(t)} (${o!=null?be(e,o):null}) AS b ${Ps(t)?`ON ${mt(t)}`:""}`}function Wf(e,t){const n=J(e,t);return tu(n.map(o=>fe(e,o)).map((o,r)=>[ao(r),Array.from(o)]))}function Gf(){const e=xe(),t=Pe(),n=dt();return T(ft,{children:["SELECT"," ",i(Ue,{displayValue:lo(e)?null:"*",schema:_t(n,e),value:It(e),onChange:o=>{t(r=>{Zs(r,o)})}})]})}const jf={Component:Gf,emptyNodeData:zf,hasProblem(e,t){return Q(J(e,t))==null},query(e,t){const n=Q(J(e,t)),o=n==null?null:be(e,n);return uo(It(t),o)},queryAdditionalTables(e,t){const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);if(!lo(t))return null;const r=it(fe(e,n),new Set(Ot(t).map(nn)));return r.length===0?null:[uo(r.join(","),o)]},querySelectable(e,t){const n=Q(J(e,t)),o=n==null?null:be(e,n);return uo(Ot(t).map(Ns).join(","),o)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:lo(t)?new Set(Ot(t).map(nn)):fe(e,n)},columnControl(e,t,n,o){return i(qf,{node:t,columnName:n,setSelectedNodeState:o})}};function qf({node:e,columnName:t,setSelectedNodeState:n}){return T(Ne,{align:"center",children:[i(Bs,{checked:zs(e,t),onChange:()=>{n(o=>{Qf(o,t)})}}),i(Te,{}),i(Te,{}),t,i(Te,{})]})}function zf(){return{selected:""}}function It(e){return e.data.selected}function Zf(e){return Ts(It(e))}function Vf(e){return new Set(Zf(e))}function Ot(e){return pt(It(e))}function lo(e){return Ot(e).length>0}function zs(e,t){return Vf(e).has(t)}function Zs(e,t){e.data.selected=t}function Qf(e,t){const n=Ot(e);Zs(e,oo((zs(e,t)?n.filter(([o,r])=>o!==t&&r!==t):n.concat(pt(t))).map(Cs),It(e)))}function uo(e,t){return`SELECT ${e===""?"*":ro(e)} FROM (${t})`}function Kf(){const e=xe(),t=cn(e),n=Pe(),o=dt();return T(ft,{children:["WHERE"," ",i(Ue,{displayValue:fo(e)?null:"\u2205",schema:_t(o,e),value:t,onChange:r=>{n(s=>{Xf(s,r)})}})]})}const Vs={Component:Kf,emptyNodeData:Jf,hasProblem(e,t){return!1},query(e,t){const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);return fo(t)?`SELECT * FROM (${o}) WHERE ${cn(t)}`:`SELECT * FROM (${o})`},queryAdditionalValues(e,t){const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);return fo(t)?`SELECT * FROM (${o}) WHERE NOT (${cn(t)})`:null},queryAdditionalTables(e,t){return null},querySelectable(e,t){return Vs.query(e,t)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:fe(e,n)},columnControl(){return null}};function Jf(){return{filters:""}}function fo(e){return cn(e).length>0}function cn(e){return e.data.filters}function Xf(e,t){e.data.filters=t}function Yf(){const e=xe(),t=Pe(),n=dt();return T(ft,{children:["ORDER BY"," ",i(Ue,{displayValue:Ks(e)?null:"\u2205",schema:_t(n,e),value:gt(e),onChange:o=>{t(r=>{Xs(r,o)})}})]})}const Qs={name:"OrderNode",Component:Yf,hasProblem(e,t){return!1},emptyNodeData:eh,query(e,t){const n=Q(J(e,t));if(n==null)return null;const o=be(e,n);return Ks(t)?`SELECT * FROM  (${o})
    ORDER BY ${gt(t)}`:o},queryAdditionalTables(){return null},querySelectable(e,t){return Qs.query(e,t)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:fe(e,n)},columnControl(e,t,n,o){return T(Ne,{children:[i(Ie,{onClick:()=>{o(r=>{th(r,n)})},children:(()=>{switch(Js(t,n)){case"ASC":return"\u25B2";case"DESC":return"\u25BC";default:return"-"}})()}),i(Te,{}),n]})}};function eh(){return{by:""}}function Ks(e){return pt(gt(e)).length>0}function gt(e){return e.data.by}function Js(e,t){var o;const[,n]=(o=As(gt(e)).find(([r])=>r===t))!=null?o:[];return n}function Xs(e,t){e.data.by=t}function th(e,t){Xs(e,oo(As(gt(e)).filter(([n])=>n!==t).concat((()=>{switch(Js(e,t)){case"ASC":return[[t,"DESC"]];case"DESC":return[];default:return[[t,"ASC"]]}})()).map(n=>n.join(" ")),gt(e)))}const Ys={from:Ss,join:Of,select:jf,where:Vs,group:_s,order:Qs},ei=Vd({where:{label:"WHERE",key:"w"},group:{label:"GROUP BY",key:"g"},select:{label:"SELECT",key:"s"},order:{label:"ORDER BY",key:"o"}});function ti(e){const t=Ys[e];return ml(t!=null),t}function an(e){return{type:e,data:ti(e).emptyNodeData()}}function We(e){return ti(e.type)}function nh(e,t){var n,o;return(o=(n=We(t)).results)==null?void 0:o.call(n,e,t)}function oh(e,t){return We(t).hasProblem(e,t)}function rh(e,t){return We(t).query(e,t)}function sh(e,t){return We(t).queryAdditionalTables(e,t)}function ih(e,t){var n,o;return(o=(n=We(t)).queryAdditionalValues)==null?void 0:o.call(n,e,t)}function be(e,t){return We(t).querySelectable(e,t)}function fe(e,t){return We(t).columnNames(e,t)}function ch(e,t,n,o,r,s){return We(t).columnControl(e,t,n,o,r,s)}function ah(n){var o=n,{children:e}=o,t=pe(o,["children"]);return T(il,P(u({},t),{children:[i(uh,{}),e]}))}const lh=l.exports.forwardRef((o,n)=>{var r=o,{children:e}=r,t=pe(r,["children"]);return i(dh,P(u({},t),{ref:n,children:e}))}),uh=se(ol,{backgroundColor:"rgba(0, 0, 0, .15)",position:"fixed",zIndex:10,top:0,right:0,bottom:0,left:0}),dh=se(rl,{backgroundColor:"$panel",zIndex:11,borderRadius:"$3",boxShadow:"$colors$shadowLight 0px 10px 38px -10px, $colors$shadowDark 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:200,maxHeight:"85vh",padding:"$4",marginTop:"-5vh",willChange:"transform","&:focus":{outline:"none"}}),fh=sl,ni="V1";let ho=null;function hh(){const e=()=>{ho!=null&&oi(ho)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}function ph(e){gh(e),ho=e}function mh(){return window.localStorage.getItem(ni)}const gh=xh(oi,1e3);function oi(e){window.localStorage.setItem(ni,e)}function xh(e,t){let n=null,o=!1;return function(){let r=this,s=arguments;const c=function(){n=null,o&&(o=!1,e.apply(r,s))},a=n==null;clearTimeout(n),n=setTimeout(c,t),a?e.apply(r,s):o=!0}}function bh(e){return JSON.stringify(e,yh)}function $h(e){return JSON.parse(e,Sh)}const ln="$%^";function yh(e,t){return t instanceof Map?{[ln]:"Map",value:Array.from(t.entries())}:t instanceof Set?{[ln]:"Set",value:Array.from(t.values())}:t}function Sh(e,t){if(typeof t=="object"&&t!==null){if(t[ln]==="Map")return new Map(t.value);if(t[ln]==="Set")return new Set(t.value)}return t}var Eh="/seaqull/assets/sql-wasm.19119b55.wasm";function po(e){return(async()=>{const t=await cl({locateFile:r=>Eh}),n=new t.Database(new Uint8Array(e)),o=wh(n);return{db:n,schema:Yl(o),tableExists:r=>o.has(r),tableColumns:r=>o.get(r)}})()}function wh(e){return new Map(e.exec('SELECT name, sql FROM sqlite_schema WHERE type="table"')[0].values.map(([t,n])=>[t,Ch(n)]))}function Ch(e){let t=Bt.language.parser.parse(e).cursor();t.firstChild(),t.firstChild(),t.nextSibling(),t.nextSibling(),t.nextSibling(),t.firstChild();let n=[],o=!0;for(;t.nextSibling()&&!(t.name==="Keyword"&&/^foreign|constraint$/i.test(mo(t,e)));){if(o){const r=t.name==="Brackets";r&&(t.firstChild(),t.nextSibling()),n.push(mo(t,e,t.name==="QuotedIdentifier"||t.name==="String"?1:0)),r&&t.parent(),o=!1}t.name==="Punctuation"&&mo(t,e)===","&&(o=!0)}return n}function mo(e,t,n=0){return t.substring(e.from+n,e.to-n)}const Nh=se(e=>{const r=e,{newtab:t,children:n}=r,o=pe(r,["newtab","children"]);return T("a",P(u(u({},t?{target:"_blank",rel:"noopener noreferrer"}:{}),o),{children:[n,t?i(al,{style:{display:"inline",marginLeft:2,height:18,paddingBottom:3,verticalAlign:"bottom"}}):null]}))},{cursor:"pointer",alignItems:"center",flexShrink:0,outline:"none",textDecorationLine:"none",textUnderlineOffset:"3px",WebkitTapHighlightColor:"rgba(0,0,0,0)","@hover":{"&:hover":{textDecorationLine:"underline"}},"&:focus":{outlineWidth:"2px",outlineStyle:"solid",outlineOffset:"2px",textDecorationLine:"none",outlineColor:"$blue8"},color:"$blue11",textDecorationColor:"$blue4"});var Th="/seaqull/assets/dvd_rental.d8ad20bd.db";function ri({defaultOpen:e,children:t}){const[n,o]=l.exports.useState(e),r=()=>{o(!1)};return T(ah,{open:n,onOpenChange:o,children:[t,T(lh,{css:{padding:"$20",borderRadius:"$8"},children:[i("h1",{children:"Welcome to Seaqull(beta)!"}),i("br",{}),T("p",{children:["This is the SQLite version of"," ",i(Nh,{href:"https://github.com/xixixao/seaqull",newtab:!0,children:"Seaqull"}),"."]}),i("p",{children:"Would you like to explore the example database or one of your own?"}),i("br",{}),T(Ne,{children:[i(Ah,{onDone:r,children:"Example database"}),i(Te,{}),i(_h,{onDone:r,children:"Open a database file"})]})]})]})}function Ah({onDone:e,children:t}){const n=to();return i(Ie,{onClick:()=>{(async()=>{const o=await po(await si());n(r=>({editorConfig:o,source:{type:"example",name:"dvd_rental.db"}})),e()})()},children:t})}function _h({children:e,onDone:t}){const n=to();return i(Ie,{onClick:()=>{const o=document.createElement("input");o.type="file",o.addEventListener("change",()=>{(async()=>{const r=o.files[0],{name:s}=r,c=await po(await r.arrayBuffer());n(a=>({editorConfig:c,source:{type:"file",name:s}}))})(),t()}),o.click()},children:e})}async function si(){return await(await fetch(Th)).arrayBuffer()}function vh(){return T(le,{children:[i(Mh,{}),i(kh,{})]})}function kh(){const e=Nt(),t=l.exports.useContext(eo.source);return l.exports.useEffect(()=>{ph(bh({appState:e,source:t}))},[e,t]),l.exports.useEffect(()=>hh(),[]),null}function Mh(){const[e,t]=l.exports.useState(!0),n=Be(),o=to();return l.exports.useEffect(()=>{const r=$h(mh());if(r==null){t(null);return}const{appState:s,source:c}=r;(async()=>{if(n(()=>s),(c==null?void 0:c.type)==="example"){const a=await po(await si());o(()=>({editorConfig:a,source:c}))}else t(null)})()},[n,o]),e==null?i(ri,{defaultOpen:!0}):null}function Ih(){return i(Ee,{css:{minHeight:"2px"}})}function Oh(e){return new Promise(function(t){setTimeout(t,e)})}function Dh(){var o;const e=lt(),t=re(e),n=Q(t);return i(Ne,{css:{overflow:"scroll",padding:"0 $8",maxHeight:"100%"},children:(o=n!=null?nh(e,n):null)!=null?o:i(Lh,{})})}function Lh(){const e=dt(),[t,n]=l.exports.useState(null),o=l.exports.useRef(),[r,s]=l.exports.useState(),[c,a]=l.exports.useState(!1);return l.exports.useEffect(()=>{var N;if(e.editorConfig.db==null)return;const d=re(e),f=d.length>0,g=o.current!=null?Hl(e,o.current):null;if(g==null&&!f){n(null);return}const x=(N=Q(d))!=null?N:g,p=d.length===1,h=(f?d:[x]).map(w=>(p?rh:be)(e,w)).concat(p?sh(e,x):[]).filter(w=>w!=null).slice(0,2),S=[p?ih(e,x):null].filter(w=>w!=null);h.length>0&&a(!0);let m=!1;const b=e.editorConfig.db;return m?void 0:(a(!1),h.length>0&&(n({queries:h,tables:h.map(w=>ai(b,w)),additionalValues:S.map(w=>ai(b,w)).filter(w=>!(w instanceof go)),appState:e}),s(o!=null&&x!=null&&!Pt(x,o)),o.current=x),Oh(1e3).then(()=>{m||s(!1)}),()=>{m=!0})},[e]),c&&t==null?i("div",{style:{padding:12},children:"Loading..."}):t==null?null:i(Rh,{updated:r,state:t})}function Rh({updated:e,state:t}){const[n,o]=l.exports.useState("table"),r=i(Ne,{justify:"end",children:i(Ie,{onClick:()=>{o(n==="table"?"sql":"table")},children:n==="table"?"SQL":"Results"})});return T(le,{children:[i(Ee,{css:{display:"inline-flex",table:{animation:e?`${Bh} 1s ease-out`:null}},children:n==="table"?i(Ph,{state:t}):i(xo,{background:"$slate2",children:li(t.queries[0])})}),i(Ee,{css:{paddingLeft:"$8",flexGrow:1},children:r}),i(Ee,{css:{padding:"$8",top:0,right:0,position:"absolute",background:"$panel",borderBottomLeftRadius:"$4"},children:r})]})}const Bh=cu({from:{background:"$lime3"},to:{}}),Ph=l.exports.memo(function({state:{appState:t,tables:n,additionalValues:o}}){const r=Pe(),s=Q(re(t));if(n[0]instanceof go)return i(xo,{background:"$yellow3",label:"No results from:",children:n[0].sql});const c=n.find(a=>a instanceof ci);return c!=null?i(xo,{background:"$red3",label:c.error.toString()+" in:",children:c.sql}):n.map(({columns:a,values:d},f)=>{const g=f===0,x=o[f];return T(Uh,{css:{textAlign:"start",whiteSpace:"nowrap",th:{fontWeight:600},color:g?null:"$slate11"},children:[i("thead",{children:i("tr",{children:a.map((p,h)=>{var S;return i("th",{children:s==null?p:(S=ch(t,s,p,r,g,h))!=null?S:p},h)})})}),i(ii,{values:d}),x!=null?i(ii,{css:{color:"$slate11"},values:x.values}):null]},f)})});function ii({css:e,values:t}){return i(Hh,{css:e,children:t.map((n,o)=>i("tr",{children:n.map((r,s)=>i("td",{children:r},s))},o))})}const Hh=se("tbody"),Uh=se("table");class ci{constructor(t,n){this.sql=t,this.error=n}}class go{constructor(t){this.sql=t}}function ai(e,t){let n=null;try{n=e.exec(li(t))}catch(o){return new ci(t,o)}return n.length===0?new go(t):n[0]}function li(e){return e+(/limit \d+\s*$/i.test(e)?"":" LIMIT 100")}function xo({background:e,label:t,children:n}){return i(Ee,{css:{paddingTop:"$8"},children:T(Yt,{css:{background:e,padding:"$12",borderRadius:"$4"},children:[t,t!=null?i(Ih,{}):null,i(Fh,{children:n})]})})}const Fh=se(n=>{var o=n,{children:e}=o,t=pe(o,["children"]);return i("pre",P(u({},t),{children:ll(e!=null?e:"",{language:"postgresql"})}))},{lineHeight:1,fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"12px"});function Wh(){return i(Qd,{children:T(Zd,{topRightUI:i(Gh,{}),topUI:i(bf,{}),nodeTypes:On(Ys,e=>e.Component),onDoubleClick:jh,onKeyDown:zh,children:[i(vh,{}),i(Dh,{})]})})}function Gh(){const e=l.exports.useContext(eo.source);return i(ri,{children:i(fh,{asChild:!0,children:T(Ne,{align:"center",children:[e!=null?i(Ie,{children:e.name}):null,i(He,{children:i(ul,{})})]})})})}function jh(e,t){return hu(e,an("from"),t)}const qh=new Map(Me(ei,({key:e},t)=>[e,t]));function zh(e,t){if(Q(re(e))==null)return;const o=qh.get(t.key);if(o!=null)return ys(o)(e)}fl(i(Wh,{}));
