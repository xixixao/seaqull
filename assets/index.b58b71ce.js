var pi=Object.defineProperty,mi=Object.defineProperties;var gi=Object.getOwnPropertyDescriptors;var Dt=Object.getOwnPropertySymbols;var No=Object.prototype.hasOwnProperty,To=Object.prototype.propertyIsEnumerable;var Ao=(e,t,n)=>t in e?pi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,u=(e,t)=>{for(var n in t||(t={}))No.call(t,n)&&Ao(e,n,t[n]);if(Dt)for(var n of Dt(t))To.call(t,n)&&Ao(e,n,t[n]);return e},P=(e,t)=>mi(e,gi(t));var pe=(e,t)=>{var n={};for(var o in e)No.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Dt)for(var o of Dt(e))t.indexOf(o)<0&&To.call(e,o)&&(n[o]=e[o]);return n};import{e as xi,j as i,R as bi,r as l,C as $i,f as yi,q as Si,g as Ei,m as wi,s as Ci,a as Ni,o as Ti,b as Ai,t as _i,c as ki,d as vi,p as Ii,h as Mi,i as Oi,v as Di,k as Li,l as Ri,n as Bi,u as Pi,w as Hi,x as Ui,y as Fi,z as Wi,A as Gi,B as ji,D as qi,E as zi,F as Zi,G as Vi,H as Qi,I as Ki,J as Ji,K as Xi,L as Yi,M as ec,N as tc,O as nc,P as oc,Q as rc,S as sc,T as ic,U as cc,V as ac,W as lc,X as uc,Y as dc,Z as fc,_ as hc,$ as pc,a0 as mc,a1 as gc,a2 as xc,a3 as bc,a4 as $c,a5 as yc,a6 as Sc,a7 as Ec,a8 as wc,a9 as Cc,aa as Nc,ab as Tc,ac as Ac,ad as _c,ae as kc,af as vc,ag as Ic,ah as Mc,ai as Oc,aj as Dc,ak as Lc,al as Rc,am as Bc,an as Pc,ao as Hc,ap as Uc,aq as Fc,ar as Wc,as as Gc,at as jc,au as qc,av as zc,aw as Zc,ax as Vc,ay as Qc,az as Kc,aA as Jc,aB as Xc,aC as Yc,aD as ea,aE as ta,aF as na,aG as oa,aH as ra,aI as sa,aJ as ia,aK as ca,aL as aa,aM as la,aN as ua,aO as da,aP as fa,aQ as ha,aR as pa,aS as ma,aT as ga,aU as xa,aV as ba,aW as $a,aX as ya,aY as Sa,aZ as Ea,a_ as wa,a$ as Ca,b0 as Na,b1 as Ta,b2 as Aa,b3 as T,b4 as _o,b5 as _a,b6 as ko,b7 as ka,b8 as va,b9 as Ia,ba as Ma,bb as Oa,bc as bt,bd as Da,be as La,bf as Ie,bg as ae,bh as Ra,bi as Ba,bj as vo,bk as Pa,bl as Ha,bm as Ua,bn as Fa,bo as Wa,bp as Ga,bq as ja,br as qa,bs as Lt,bt as za,bu as Io,bv as Za,bw as Va,bx as Qa,by as Ka,bz as Ja,bA as Xa,bB as Ya,bC as el,bD as tl,bE as nl,bF as ol,bG as Rt,bH as Mo,bI as rl,bJ as sl,bK as il,bL as cl,bM as al,bN as ll,bO as ul,bP as dl}from"./vendor.6161b2d7.js";const fl=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}};fl();function hl(e){xi.render(i(bi.StrictMode,{children:e}),document.getElementById("root"))}const Oo=e=>{const t=e==null?void 0:e.target;return["INPUT","SELECT","TEXTAREA","BUTTON"].includes(t==null?void 0:t.nodeName)||(t==null?void 0:t.hasAttribute("contenteditable"))},$n=e=>({width:e.offsetWidth,height:e.offsetHeight}),ot=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),pl=(e,t)=>({x:ot(e.x,t[0][0],t[1][0]),y:ot(e.y,t[0][1],t[1][1])}),Do=e=>{var t;return((t=e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)};var O;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(O||(O={}));var Lo;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Lo||(Lo={}));var rt;(function(e){e.Lines="lines",e.Dots="dots"})(rt||(rt={}));var $t;(function(e){e.Strict="strict",e.Loose="loose"})($t||($t={}));var Xe;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep"})(Xe||(Xe={}));var st;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(st||(st={}));function ml(e,t){const o=Do(t.target).querySelector(`.react-flow__node[data-id="${e.id}"]`);return(o==null?void 0:o.querySelector(".react-flow__handle.target"))!=null}function Ro(e,t,n,o,r,s,c,a,d,f,m,x,p,h){const y=e.target.closest(".react-flow"),g=Do(e.target);if(!g)return;const b=g.elementFromPoint(e.clientX,e.clientY),$=b==null?void 0:b.classList.contains("target"),C=b==null?void 0:b.classList.contains("source");if(!y||!$&&!C&&!f)return;const N=f||($?"target":"source"),_=y.getBoundingClientRect();let S;r({x:e.clientX-_.left,y:e.clientY-_.top}),o({connectionNodeId:n,connectionHandleId:t,connectionHandleType:N}),x==null||x(e,{nodeId:n,handleId:t,handleType:N});function A(L){r({x:L.clientX-_.left,y:L.clientY-_.top});const{connection:k,elementBelow:H,isValid:E,isHoveringHandle:R}=Po(L,d,c,n,t,a,g);if(!R)return Bo(S);!(k.source===k.target)&&H&&(S=H,H.classList.add("react-flow__handle-connecting"),H.classList.toggle("react-flow__handle-valid",E))}function w(L){const{connection:k,isValid:H}=Po(L,d,c,n,t,a,g);p==null||p(L),H&&(s==null||s(k)),h==null||h(L),f&&m&&m(L),Bo(S),o({connectionNodeId:null,connectionHandleId:null,connectionHandleType:null}),g.removeEventListener("mousemove",A),g.removeEventListener("mouseup",w)}g.addEventListener("mousemove",A),g.addEventListener("mouseup",w)}function Bo(e){e==null||e.classList.remove("react-flow__handle-valid"),e==null||e.classList.remove("react-flow__handle-connecting")}function Po(e,t,n,o,r,s,c){const a=c.elementFromPoint(e.clientX,e.clientY),d=(a==null?void 0:a.classList.contains("target"))||!1,f=(a==null?void 0:a.classList.contains("source"))||!1,m={elementBelow:a,isValid:!1,connection:{source:null,target:null,sourceHandle:null,targetHandle:null},isHoveringHandle:!1};if(a&&(d||f)&&(m.isHoveringHandle=!0,t===$t.Strict?n&&f||!n&&d:!0)){const h=a.getAttribute("data-nodeid"),y=a.getAttribute("data-handleid"),g=n?{source:h,sourceHandle:y,target:o,targetHandle:r}:{source:o,sourceHandle:r,target:h,targetHandle:y};m.connection=g,m.isValid=s(g)}const x=a.closest("[data-id]");if(x!=null){const p=x.getAttribute("data-id"),h=n?{source:p,target:o}:{source:o,target:p};m.connection=h,m.isValid=s(h)}return m}function gl(e){if(!e)throw new Error("invariant violated")}function xl(e,t){e&&console.error(t)}function*bl(e,t){for(const[n,o]of e.entries())yield t(o,n)}function*$l(e,t){for(const[n,o]of e.entries())t(o,n)&&(yield o)}function Me(e,t){return Array.from(bl(e,t))}function it(e,t){return Array.from($l(e,t))}function ct(e,t){return it(e,n=>!t.has(n))}function me(e){return e[0]}function Ho(e){return e[1]}function Uo(e){return e[e.length-1]}function Q(e){return e.length===1?e[0]:null}function yl(e){return xl(e.length!==1,`Expected one element, got ${e.length}`),e[0]}function Sl(e,t){return e.length===t.length&&e.every((n,o)=>t[o]===n)}const El=e=>"id"in e&&"source"in e&&"target"in e,yn=e=>"id"in e&&!("source"in e)&&!("target"in e);function wl(e,t){const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return Sn(t,n,o,r)}const Sn=({x:e,y:t},[n,o,r],s,[c,a])=>{const d={x:(e-n)/r,y:(t-o)/r};return s?{x:c*Math.round(d.x/c),y:a*Math.round(d.y/a)}:d},Cl=e=>t=>{const{transform:n,snapToGrid:o,snapGrid:r}=e.getState();return Sn(t,n,o,r)},Fo=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Be=({x:e,y:t,width:n,height:o})=>({x:e,y:t,x2:e+n,y2:t+o}),Wo=({x:e,y:t,x2:n,y2:o})=>({x:e,y:t,width:n-e,height:o-t}),Nl=(e,t)=>Wo(Fo(Be(e),Be(t))),Go=e=>{const t=e.reduce((n,{__rf:{position:o,width:r,height:s}={}})=>Fo(n,Be(P(u({},o),{width:r,height:s}))),{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Wo(t)},jo=(e,t,[n,o,r]=[0,0,1],s=!1,c=!1)=>{const a=Be({x:(t.x-n)/r,y:(t.y-o)/r,width:t.width/r,height:t.height/r});return it(e.nodes,d=>{const f=!0,{x:m,y:x,width:p,height:h,isDragging:y}=de(e,d);if(c&&!f)return!1;const g=Be({x:m,y:x,width:p,height:h}),b=Math.max(0,Math.min(a.x2,g.x2)-Math.max(a.x,g.x)),$=Math.max(0,Math.min(a.y2,g.y2)-Math.max(a.y,g.y)),C=Math.ceil(b*$);if(p===null||h===null||y)return!0;if(s)return C>0;const N=p*h;return C>=N})};function Tl(e,t,n=0){const o=Be(e),r=Be(t),s=Math.max(0,n+Math.min(o.x2,r.x2)-Math.max(o.x,r.x)),c=Math.max(0,n+Math.min(o.y2,r.y2)-Math.max(o.y,r.y));return s>0&&c>0}const Al=(e,t)=>{const n=e.map(o=>o.id);return t.filter(o=>n.includes(o.source)||n.includes(o.target))},qo=(e,t)=>[...e.map(n=>{const o=u({},n);return o.position=o.__rf.position,delete o.__rf,o}),...t.map(n=>u({},n))],_l=e=>()=>{const{nodes:t=[],edges:n=[]}=e.getState();return qo(t,n)},kl=e=>()=>{const{nodes:t=[],edges:n=[],transform:o}=e.getState();return{elements:qo(t,n),position:[o[0],o[1]],zoom:o[2]}},zo=(e,t,n,o,r,s=.1)=>{const c=t/(e.width*(1+s)),a=n/(e.height*(1+s)),d=Math.min(c,a),f=ot(d,o,r),m=e.x+e.width/2,x=e.y+e.height/2,p=t/2-m*f,h=n/2-x*f;return[p,h,f]};function vl(e){return+Y(e)}function Bt(e,t){return Y(e)===Y(t)}function at(e,t){return Y(e)===t}function Y(e){return e.id}function le(e){return{id:e}}function Il(e,t){return lt(e,t).x}function Ml(e,t){return lt(e,t).y}function Pt(e,t,n,o){lt(e,t).x=n,lt(e,t).y=o}function lt(e,t){return e.positions.get(t.id)}function Zo(e,t,n,o){lt(e,t).x+=n,lt(e,t).y+=o}function Ol(e,t){return e.data.label}function Vo(e,t){const n=Y(e),o=Y(t);return{id:`e${n}${o}`,parentID:n,childID:o}}function Dl(e,t){return P(u({},Vo(e,t)),{type:"tight"})}function Qo(e){return e.id}function Ht(e){return e.parentID}function yt(e){return e.childID}function Ut(e){return e.type==="tight"}function Ll(e){e.type=null}function Ko(e,t,n){return wn(e,t).some(o=>{const r=yt(o);return at(n,r)||Ko(e,le(r),n)})}function En(e,t,n){return Ye(e,t).some(o=>{const r=yt(o);return at(n,r)||En(e,le(r),n)})}function wn(e,t){return it(St(e),n=>at(t,Ht(n)))}function Ft(e,t){return it(St(e),n=>at(t,yt(n)))}function Cn(e,t){return Et(e,Ht(t))}function Nn(e,t){return Et(e,yt(t))}function Jo(e,t){const n=Q(Ft(e,t));return n!=null&&Ut(n)?n:null}function Ye(e,t){return wn(e,t).filter(Ut)}function Rl(e,t){return wn(e,t).filter(n=>!Ut(n))}function Bl(e,t){return Ft(e,t).filter(n=>!Ut(n))}function Pl(e,t){return it(St(e),n=>at(t,yt(n))||at(t,Ht(n)))}function St(e){return e.edges}function Wt(e,t){t.forEach(n=>{Xo(e,n)})}function Xo(e,t){return St(e).delete(Qo(t))}function Yo(e,t,n){er(e,Vo(t,n))}function Tn(e,t,n){n.forEach(o=>{An(e,t,o)})}function An(e,t,n){er(e,Dl(t,n))}function er(e,t){St(e).set(Qo(t),t)}function ye(e,t){e.selectedNodeIDs=vn(t)}function Hl(e,t){ye(e,Me(e.selectedNodeIDs,le).concat(t))}function _n(e){return e.selectedNodeIDs.size}function ue(e){return tr(e,e.selectedNodeIDs)}function Ul(e,t){return e.selectedNodeIDs.has(Y(t))}function tr(e,t){return Me(t,n=>Et(e,n))}function Et(e,t){return wt(e).get(t)}function nr(e,t){return Et(e,Y(t))}function or(e,t){return Ct(e).get(t)}function de(e,t){return Ct(e).get(Y(t))}function wt(e){return e.nodes}function Gt(e,t){return u({id:Ql(e),data:{}},t)}function J(e,t){return tr(e,Ft(e,t).map(n=>Ht(n)))}function jt(e,t){return Ye(e,t).map(n=>Nn(e,n))}function Fl(e,t){return Bl(e,t).length>0}function Wl(e,t){return Ye(e,t).length>0}function Gl(e,t){return Rl(e,t).length>0}function qt(e,t){wt(e).set(Y(t),t),Ct(e).set(Y(t),{x:0,y:0})}function Ct(e){return e.positions}function jl(e,t){wt(e).delete(Y(t)),Ct(e).delete(Y(t)),Wt(e,Pl(e,t))}function zt(e,t){const n=Jo(e,t);return n!=null?Cn(e,n):null}function rr(e,t){const n=Q(Ye(e,t));return n!=null?Nn(e,n):null}function ql(e,t){const n=[t];let o=t;for(;o!=null;){const r=rr(e,o);r!=null&&n.push(r),o=r}return n}function kn(e,t){const n=vn(t),o=Pe(e,t[0]);return ql(e,o).filter(r=>n.has(Y(r)))}function Pe(e,t){const n=zt(e,t);return n==null?t:Pe(e,n)}function zl(e,t,n){return Bt(Pe(e,t),Pe(e,n))}function vn(e){return new Set(e.map(Y))}function Zl(e){return Array.from(new Set(e))}function In(e,t){const n=new Map;return e.forEach(o=>{var c;const r=Y(t(o)),s=(c=n.get(r))!=null?c:[];s.push(o),n.set(r,s)}),Array.from(n.values())}function sr(e,t,n){if(!ml(t,n))return!1;const o=de(e,t);return Vl(e).filter(r=>{const s=de(e,r);return!Bt(t,r)&&Tl(s,o,20)&&!Ko(e,t,r)})}function Vl(e){return it(wt(e),t=>Ye(e,t).length===0)}function Ql(e){return String(Math.max(0,...Me(wt(e),t=>vl(t)))+1)}function et(e,t){const{height:n}=de(e,t);jt(e,t).forEach(o=>{Pt(e,o,Il(e,t),Ml(e,t)+n),et(e,o)})}function Kl(e,t){const n=30,o=30,r=Math.max(...Me(Ct(e),({x:s,width:c})=>s+c));Pt(e,t,r+o,n)}function Jl(e,t,n){const o=30,r=Math.max(...t.map(c=>de(e,c)).map(({x:c,width:a})=>c+a)),s=Math.max(...t.map(c=>de(e,c)).map(({y:c,height:a})=>c+a));Pt(e,n,r+o,s)}function Xl(e){return(t,n)=>{const{width:o,height:r}=de(t,n);Pt(t,n,Math.floor(e.x-o/2),Math.floor(e.y-r/2))}}const Mn=l.exports.createContext();function On(e,t){const n={};return Object.keys(e).forEach(o=>{n[o]=t(e[o],o)}),n}function Yl(e,t,n){return Object.keys(e).reduce((o,r)=>t(o,e[r],r),n)}function eu(e){const t={};return e.forEach((n,o)=>{t[o]=n}),t}function tu(e,t){const n={};return e.forEach((o,r)=>{n[o]=t(o,r)}),n}function nu(e,t){const n={};return e.forEach(([o,r])=>{n[o]=r}),n}$i();function ir(e){const t=On(e,s=>l.exports.createContext(s)),n=l.exports.createContext();function o({initialState:s={},children:c}){const[a,d]=l.exports.useState(u(u({},e),s));return i(n.Provider,{value:d,children:Yl(t,(f,m,x)=>i(m.Provider,{value:a[x],children:f}),c)})}function r(){const s=l.exports.useContext(n);return l.exports.useCallback(c=>{s(a=>yi(a,c))},[s])}return{state:t,useSetState:r,provider:o}}const ou=e=>e;function cr(e,t=ou){const n=On(e,o=>l.exports.useContext(o));return l.exports.useMemo(()=>t(n),Object.values(n))}const{state:Dn,useSetState:Oe,provider:ru}=ir({nodes:new Map,positions:new Map,selectedNodeIDs:new Set,highlightedNodeIDs:new Set,edges:new Map});function Ln(e){const t=Oe();return l.exports.useCallback((...n)=>{const o=e(...n);t(o)},[t])}function Nt(){return cr(Dn)}const di=Dn,{positions:Vh,highlightedNodeIDs:Qh}=di,su=pe(di,["positions","highlightedNodeIDs"]);function ut(){return cr(su)}function Se(e){const t=Oe();return l.exports.useCallback(n=>{t(o=>{n(nr(o,e))})},[t,e])}const{styled:re,css:Kh,createTheme:iu,globalCss:cu,keyframes:au}=Si({theme:{colors:P(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({},Ei),wi),Ci),Ni),Ti),Ai),_i),ki),vi),Ii),Mi),Oi),Di),Li),Ri),Bi),Pi),Hi),Ui),Fi),Wi),Gi),ji),qi),zi),Zi),Vi),Qi),Ki),Ji),Xi),Yi),ec),tc),nc),oc),rc),sc),ic),cc),ac),lc),uc),dc),fc),hc),pc),mc),gc),xc),bc),$c),yc),Sc),Ec),wc),Cc),Nc),{hiContrast:"$slate12",loContrast:"white",canvas:"hsl(0 0% 93%)",panel:"white",transparentPanel:"hsl(0 0% 0% / 97%)",shadowLight:"hsl(206 22% 7% / 35%)",shadowDark:"hsl(206 22% 7% / 20%)"}),fonts:{os:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Oxygen", "Ubuntu", "Cantarell", "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif',mono:"Menlo, Consolas, Monaco, monospace"},fontSizes:{hero:"56px",h1:"32px",h2:"22px",h3:"17px",body:"14px",detail:"13px"},lineHeights:{hero:"60px",h1:"38px",h2:"28px",h3:"21px",body:"22px",detail:"13px"},fontWeights:{hero:700,h1:700,h2:700,h3:700,body:400,detail:400},radii:{4:"4px",6:"6px",8:"8px",12:"12px",round:"50%",pill:"9999px"},space:{4:"4px",8:"8px",12:"12px",16:"16px",20:"20px",24:"24px",32:"32px",48:"48px",64:"64px",80:"80px"},sizes:{4:"4px",8:"8px",12:"12px",16:"16px",20:"20px",24:"24px",28:"28px",32:"32px",36:"36px",48:"48px",64:"64px",80:"80px"}},media:{bp1:"(min-width: 520px)",bp2:"(min-width: 900px)",bp3:"(min-width: 1200px)",bp4:"(min-width: 1800px)",motion:"(prefers-reduced-motion)",hover:"(any-hover: hover)",dark:"(prefers-color-scheme: dark)",light:"(prefers-color-scheme: light)"},utils:{font:e=>({fontSize:e,fontWeight:e,lineHeight:e}),paddingHori:e=>({paddingLeft:e,paddingRight:e}),paddingVert:e=>({paddingTop:e,paddingBottom:e}),marginHori:e=>({marginLeft:e,marginRight:e}),marginVert:e=>({marginTop:e,marginBottom:e}),size:e=>({width:e,height:e}),userSelect:e=>({WebkitUserSelect:e,userSelect:e}),appearance:e=>({WebkitAppearance:e,appearance:e}),backgroundClip:e=>({WebkitBackgroundClip:e,backgroundClip:e})}}),lu=iu("dark-theme",{colors:P(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u(u({},Tc),Ac),_c),kc),vc),Ic),Mc),Oc),Dc),Lc),Rc),Bc),Pc),Hc),Uc),Fc),Wc),Gc),jc),qc),zc),Zc),Vc),Qc),Kc),Jc),Xc),Yc),ea),ta),na),oa),ra),sa),ia),ca),aa),la),ua),da),fa),ha),pa),ma),ga),xa),ba),$a),ya),Sa),Ea),wa),Ca),Na),Ta),Aa),{hiContrast:"$slate12",loContrast:"$slate1",canvas:"hsl(0 0% 15%)",panel:"$slate1",transparentPanel:"hsl(0 100% 100% / 97%)",shadowLight:"hsl(206 22% 7% / 35%)",shadowDark:"hsl(206 22% 7% / 20%)"})});cu({"*, *::before, *::after":{boxSizing:"border-box"},"*":{margin:0},"html, body, #root":{height:"100%"},"input, button, textarea, select":{font:"inherit"},"p, h1, h2, h3, h4, h5, h6":{overflowWrap:"break-word"},body:{"-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale",fontFamily:"$os",font:"$body",background:"$panel !important"},table:{borderCollapse:"collapse",height:"fit-content"},th:{position:"sticky",top:"0",background:"$panel",whiteSpace:"nowrap",textAlign:"start",padding:"$8 $4 0 $4",boxShadow:"inset 0 -1px 0 $colors$slate7"},td:{padding:"0 4px",whiteSpace:"nowrap"},"tbody tr":{borderBottom:"1px solid $slate3"}})();const Ee=re("div"),De=re("button",{all:"unset",alignItems:"center",boxSizing:"border-box",userSelect:"none",display:"inline-flex",flexShrink:0,justifyContent:"center",lineHeight:"1",WebkitTapHighlightColor:"rgba(0,0,0,0)",cursor:"pointer",paddingHori:"6px",fontVariantNumeric:"tabular-nums",borderRadius:"6px","&:disabled":{backgroundColor:"$slate2",boxShadow:"inset 0 0 0 1px $colors$slate7",color:"$slate8",pointerEvents:"none"},variants:{size:{body:{height:"$28",font:"$body"},detail:{height:"25px",font:"$detail"}},variant:{gray:{backgroundColor:"$slate4",color:"$slate12","@hover":{"&:hover":{backgroundColor:"$slate5"}},"&:active":{backgroundColor:"$slate6"},"&:focus":{},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$slate4"}},blue:{backgroundColor:"$blue2",boxShadow:"inset 0 0 0 1px $colors$blue7",color:"$blue11","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px $colors$blue8"}},"&:active":{backgroundColor:"$blue3",boxShadow:"inset 0 0 0 1px $colors$blue8"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$blue8, 0 0 0 1px $colors$blue8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$blue4",boxShadow:"inset 0 0 0 1px $colors$blue8"}},green:{backgroundColor:"$green2",boxShadow:"inset 0 0 0 1px $colors$green7",color:"$green11","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px $colors$green8"}},"&:active":{backgroundColor:"$green3",boxShadow:"inset 0 0 0 1px $colors$green8"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$green8, 0 0 0 1px $colors$green8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$green4",boxShadow:"inset 0 0 0 1px $colors$green8"}},red:{backgroundColor:"$loContrast",boxShadow:"inset 0 0 0 1px $colors$slate7",color:"$red11","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px $colors$slate8"}},"&:active":{backgroundColor:"$red3",boxShadow:"inset 0 0 0 1px $colors$red8"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$red8, 0 0 0 1px $colors$red8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$red4",boxShadow:"inset 0 0 0 1px $colors$red8"}},transparentWhite:{backgroundColor:"hsla(0,100%,100%,.2)",color:"white","@hover":{"&:hover":{backgroundColor:"hsla(0,100%,100%,.25)"}},"&:active":{backgroundColor:"hsla(0,100%,100%,.3)"},"&:focus":{boxShadow:"inset 0 0 0 1px hsla(0,100%,100%,.35), 0 0 0 1px hsla(0,100%,100%,.35)"}},transparentBlack:{backgroundColor:"hsla(0,0%,0%,.2)",color:"black","@hover":{"&:hover":{backgroundColor:"hsla(0,0%,0%,.25)"}},"&:active":{backgroundColor:"hsla(0,0%,0%,.3)"},"&:focus":{boxShadow:"inset 0 0 0 1px hsla(0,0%,0%,.35), 0 0 0 1px hsla(0,0%,0%,.35)"}}},state:{active:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px $colors$slate8",color:"$slate11","@hover":{"&:hover":{backgroundColor:"$slate5",boxShadow:"inset 0 0 0 1px $colors$slate8"}},"&:active":{backgroundColor:"$slate5"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slate8, 0 0 0 1px $colors$slate8"}},waiting:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px $colors$slate8",color:"transparent",pointerEvents:"none","@hover":{"&:hover":{backgroundColor:"$slate5",boxShadow:"inset 0 0 0 1px $colors$slate8"}},"&:active":{backgroundColor:"$slate5"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slate8"}}},ghost:{true:{backgroundColor:"transparent",boxShadow:"none"}}},compoundVariants:[{variant:"gray",ghost:"true",css:{backgroundColor:"transparent",color:"$hiContrast","@hover":{"&:hover":{backgroundColor:"$slateA3",boxShadow:"none"}},"&:active":{backgroundColor:"$slateA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slateA8, 0 0 0 1px $colors$slateA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$slateA4",boxShadow:"none"}}},{variant:"blue",ghost:"true",css:{backgroundColor:"transparent","@hover":{"&:hover":{backgroundColor:"$blueA3",boxShadow:"none"}},"&:active":{backgroundColor:"$blueA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$blueA8, 0 0 0 1px $colors$blueA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$blueA4",boxShadow:"none"}}},{variant:"green",ghost:"true",css:{backgroundColor:"transparent","@hover":{"&:hover":{backgroundColor:"$greenA3",boxShadow:"none"}},"&:active":{backgroundColor:"$greenA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$greenA8, 0 0 0 1px $colors$greenA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$greenA4",boxShadow:"none"}}},{variant:"red",ghost:"true",css:{backgroundColor:"transparent","@hover":{"&:hover":{backgroundColor:"$redA3",boxShadow:"none"}},"&:active":{backgroundColor:"$redA4"},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$redA8, 0 0 0 1px $colors$redA8"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$redA4",boxShadow:"none"}}}],defaultVariants:{size:"body",variant:"gray"}});function uu(o){var r=o,{icon:e,children:t}=r,n=pe(r,["icon","children"]);return T(De,P(u({},n),{children:[i(Ee,{css:{height:18,marginRight:"$4"},children:e}),t]}))}function Rn({children:e,onAdd:t}){const n=Oe(),o=l.exports.useContext(Mn);return i(uu,{icon:i(_o,{}),onClick:()=>{n(r=>{o(t(r))})},children:e})}function du(e){return t=>{const n=yl(ue(t));if(n==null)return;const o=Gt(t,e),r=jt(t,n),s=Ye(t,n);return Wt(t,s),Tn(t,o,r),An(t,n,o),qt(t,o),ye(t,[o]),[Y(o),fu]}}function fu(e,t){const n=zt(e,t);et(e,n)}function hu(e){return t=>{const n=Gt(t,e);return qt(t,n),ye(t,[n]),[Y(n),Kl]}}function pu(e,t,n){const o=Gt(e,t);return qt(e,o),ye(e,[o]),[Y(o),Xl(n)]}function mu(e){return t=>{const n=ue(t),o=Gt(t,e);return n.forEach(r=>{Yo(t,r,o)}),qt(t,o),ye(t,[o]),[Y(o),gu]}}function gu(e,t){Jl(e,J(e,t),t)}function xu(){return l.exports.useContext(ar)}function bu({children:e}){const[t,n]=l.exports.useState($u()),o=l.exports.useCallback(r=>{n(ur(r))},[n]);return l.exports.useEffect(()=>{const r=window.matchMedia(lr);return r.addEventListener("change",o),()=>r.removeEventListener("change",o)},[o]),i(ar.Provider,{value:[t,n],children:e})}const ar=l.exports.createContext(),lr="(prefers-color-scheme: dark)";function $u(){return ur(window.matchMedia(lr))}function ur(e){return e.matches?"dark":"light"}function j(e,t){return{type:e,payload:t}}const dr="SET_ON_CONNECT",fr="SET_ON_CONNECT_START",hr="SET_ON_CONNECT_STOP",pr="SET_ON_CONNECT_END",yu="SET_ELEMENTS",mr="UPDATE_NODE_DIMENSIONS",Su="UPDATE_NODE_POS",gr="UPDATE_NODE_POS_DIFF",xr="SET_USER_SELECTION",br="UPDATE_USER_SELECTION",$r="UNSET_USER_SELECTION",Eu="SET_SELECTION",yr="UNSET_NODES_SELECTION",Sr="ADD_SELECTED_ELEMENTS",Er="UPDATE_TRANSFORM",wr="UPDATE_SIZE",Cr="INIT_D3ZOOM",Nr="SET_MINZOOM",Tr="SET_MAXZOOM",Ar="SET_TRANSLATEEXTENT",_r="SET_CONNECTION_POSITION",kr="SET_CONNECTION_NODEID",vr="SET_SNAPTOGRID",Ir="SET_SNAPGRID",Mr="SET_INTERACTIVE",Or="SET_NODES_DRAGGABLE",Dr="SET_NODES_CONNECTABLE",Lr="SET_ELEMENTS_SELECTABLE",Rr="SET_MULTI_SELECTION_ACTIVE",Br="SET_CONNECTION_MODE",Pr="SET_NODE_EXTENT",wu=e=>j(dr,{onConnect:e}),Cu=e=>j(fr,{onConnectStart:e}),Nu=e=>j(hr,{onConnectStop:e}),Tu=e=>j(pr,{onConnectEnd:e}),Au=e=>j(yu,e),_u=e=>j(mr,e),ku=e=>j(gr,e),vu=e=>j(xr,e),Iu=e=>j(br,{userSelectionRect:e}),Mu=()=>j($r),Ou=e=>j(Eu,{selectionActive:e}),Du=()=>j(yr,{nodesSelectionActive:!1}),Lu=e=>j(Sr,e),Ru=e=>j(Er,{transform:e}),Bu=e=>j(wr,{width:e.width||500,height:e.height||500}),Pu=e=>j(Cr,e),Hu=e=>j(Nr,e),Uu=e=>j(Tr,e),Fu=e=>j(Ar,e),Wu=e=>j(_r,{connectionPosition:e}),Gu=e=>j(kr,e),ju=e=>j(vr,{snapToGrid:e}),qu=e=>j(Ir,{snapGrid:e}),zu=e=>j(Mr,{nodesDraggable:e,nodesConnectable:e,elementsSelectable:e}),Zu=e=>j(Or,{nodesDraggable:e}),Vu=e=>j(Dr,{nodesConnectable:e}),Qu=e=>j(Lr,{elementsSelectable:e}),Ku=e=>j(Rr,{multiSelectionActive:e}),Ju=e=>j(Br,{connectionMode:e}),Xu=e=>j(Pr,e);var Yu=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",setOnConnect:wu,setOnConnectStart:Cu,setOnConnectStop:Nu,setOnConnectEnd:Tu,setElements:Au,updateNodeDimensions:_u,updateNodePosDiff:ku,setUserSelection:vu,updateUserSelection:Iu,unsetUserSelection:Mu,setSelection:Ou,unsetNodesSelection:Du,addSelectedElements:Lu,updateTransform:Ru,updateSize:Bu,initD3Zoom:Pu,setMinZoom:Hu,setMaxZoom:Uu,setTranslateExtent:Fu,setConnectionPosition:Wu,setConnectionNodeId:Gu,setSnapToGrid:ju,setSnapGrid:qu,setInteractive:zu,setNodesDraggable:Zu,setNodesConnectable:Vu,setElementsSelectable:Qu,setMultiSelectionActive:Ku,setConnectionMode:Ju,setNodeExtent:Xu});const ed=ka;function W(e){const t=_a(),n=e(Yu);return l.exports.useMemo(()=>typeof n=="function"?ko(n,t):ko(n,t),[t,n])}const v=ed,Tt=()=>va();var Zt=e=>{const[t,n]=l.exports.useState(!1);return l.exports.useEffect(()=>{if(typeof e!="undefined"){const o=c=>{!Oo(c)&&(c.key===e||c.keyCode===e)&&(c.preventDefault(),n(!0))},r=c=>{!Oo(c)&&(c.key===e||c.keyCode===e)&&n(!1)},s=()=>n(!1);return window.addEventListener("keydown",o),window.addEventListener("keyup",r),window.addEventListener("blur",s),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",r),window.removeEventListener("blur",s)}}},[e,n]),t};const td=(e,t)=>{const n=e.getBoundingClientRect();return{source:Hr(".source",e,n,t),target:Hr(".target",e,n,t)}},Hr=(e,t,n,o)=>{const r=t.querySelectorAll(e);return!r||!r.length?null:Array.from(r).map(c=>{const a=c.getBoundingClientRect(),d=$n(c),f=c.getAttribute("data-handleid"),m=c.getAttribute("data-handlepos");return u({id:f,position:m,x:(a.left-n.left)/o,y:(a.top-n.top)/o},d)})};function Ur(e){return Ia(od,e)}const Bn={width:0,height:0,transform:[0,0,1],nodes:[],edges:[],selectedElements:null,selectedNodesBbox:{x:0,y:0,width:0,height:0},d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodeExtent:[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],nodesSelectionActive:!1,selectionActive:!1,userSelectionRect:{startX:0,startY:0,x:0,y:0,width:0,height:0,draw:!1},connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionMode:$t.Strict,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,elementsSelectable:!0,multiSelectionActive:!1,reactFlowVersion:"-"},nd=Ur(Bn);function Fr(){return Ln(e=>t=>{e.forEach(({id:n,nodeElement:o,forceUpdate:r})=>{const s=or(t,n),c=$n(o);if(c.width&&c.height&&(s.width!==c.width||s.height!==c.height||r)){const d=td(o,1);s.width=c.width,s.height=c.height,s.handleBounds=d}})})}function Wr(){return Ln((e,t)=>n=>{(t?Hl:ye)(n,e)})}function Gr(){return Ln(e=>t=>{ye(t,[])})}function od(e=Bn,t){var n,o,r;switch(t.type){case mr:throw new Error("migrate to context");case Su:throw new Error("migrate to context");case gr:throw new Error("migrate to context");case xr:{const s=t.payload;return P(u({},e),{selectionActive:!0,userSelectionRect:{width:0,height:0,startX:s.x,startY:s.y,x:s.x,y:s.y,draw:!0}})}case $r:return P(u({},e),{selectionActive:!1,userSelectionRect:P(u({},e.userSelectionRect),{draw:!1}),nodesSelectionActive:!1});case Sr:throw new Error("migrate to context");case Cr:{const{d3Zoom:s,d3Selection:c,d3ZoomHandler:a,transform:d}=t.payload;return P(u({},e),{d3Zoom:s,d3Selection:c,d3ZoomHandler:a,transform:d})}case Nr:{const s=t.payload;return(n=e.d3Zoom)==null||n.scaleExtent([s,e.maxZoom]),P(u({},e),{minZoom:s})}case Tr:{const s=t.payload;return(o=e.d3Zoom)==null||o.scaleExtent([e.minZoom,s]),P(u({},e),{maxZoom:s})}case Ar:{const s=t.payload;return(r=e.d3Zoom)==null||r.translateExtent(s),P(u({},e),{translateExtent:s})}case Pr:{const s=t.payload;return P(u({},e),{nodeExtent:s,nodes:e.nodes.map(c=>P(u({},c),{__rf:P(u({},c.__rf),{position:pl(c.__rf.position,s)})}))})}case br:case dr:case fr:case hr:case pr:case yr:case Er:case wr:case _r:case kr:case vr:case Ir:case Mr:case Or:case Dr:case Lr:case Rr:case Br:return u(u({},e),t.payload);default:return e}}function rd({deleteKeyCode:e,multiSelectionKeyCode:t,onElementsRemove:n}){const o=Tt(),r=W(f=>f.unsetNodesSelection),s=W(f=>f.setMultiSelectionActive),c=Gr(),a=Zt(e),d=Zt(t);l.exports.useEffect(()=>{const{edges:f,selectedElements:m}=o.getState();if(n&&a&&m){const x=m.filter(yn),p=Al(x,f),h=[...m,...p].reduce((y,g)=>y.set(g.id,g),new Map);n(Array.from(h.values())),r(),c()}},[a]),l.exports.useEffect(()=>{s(d)},[d])}var sd=e=>{const t=W(n=>n.updateSize);l.exports.useEffect(()=>{let n;const o=()=>{if(!e.current)return;const r=$n(e.current);(r.height===0||r.width===0)&&console.warn("The React Flow parent container needs a width and a height to render the graph."),t(r)};return o(),window.onresize=o,e.current&&(n=new ResizeObserver(()=>o()),n.observe(e.current)),()=>{window.onresize=null,n&&e.current&&n.unobserve(e.current)}},[])};const id=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Pn=e=>({x:e.x,y:e.y,zoom:e.k}),Hn=e=>e.target.closest(".nowheel"),cd=({onMove:e,onMoveStart:t,onMoveEnd:n,zoomOnScroll:o=!0,zoomOnPinch:r=!0,panOnScroll:s=!1,panOnScrollSpeed:c=.5,panOnScrollMode:a=st.Free,zoomOnDoubleClick:d=!0,selectionKeyPressed:f,elementsSelectable:m,paneMoveable:x=!0,defaultPosition:p=[0,0],defaultZoom:h=1,translateExtent:y,zoomActivationKeyCode:g,preventScrolling:b=!0,children:$})=>{const C=l.exports.useRef(null),N=l.exports.useRef({x:0,y:0,zoom:0}),_=Tt(),S=v(E=>E.d3Zoom),A=v(E=>E.d3Selection),w=v(E=>E.d3ZoomHandler),L=W(E=>E.initD3Zoom),k=W(E=>E.updateTransform),H=Zt(g);return sd(C),l.exports.useEffect(()=>{if(C.current){const E=_.getState(),R=typeof y!="undefined"?y:E.translateExtent,D=Ma().scaleExtent([E.minZoom,E.maxZoom]).translateExtent(R),z=Oa(C.current).call(D),K=ot(p[0],R[0][0],R[1][0]),U=ot(p[1],R[0][1],R[1][1]),G=ot(h,E.minZoom,E.maxZoom),Z=bt.translate(K,U).scale(G);D.transform(z,Z),L({d3Zoom:D,d3Selection:z,d3ZoomHandler:z.on("wheel.zoom"),transform:[K,U,G]})}},[]),l.exports.useEffect(()=>{A&&S&&(s&&!H?A.on("wheel",E=>{if(Hn(E))return!1;E.preventDefault(),E.stopImmediatePropagation();const R=A.property("__zoom").k||1;if(E.ctrlKey&&r){const U=Da(E),G=-E.deltaY*(E.deltaMode===1?.05:E.deltaMode?1:.002)*10,Z=R*Math.pow(2,G);S.scaleTo(A,Z,U);return}const D=E.deltaMode===1?20:1,z=a===st.Vertical?0:E.deltaX*D,K=a===st.Horizontal?0:E.deltaY*D;S.translateBy(A,-(z/R)*c,-(K/R)*c)}).on("wheel.zoom",null):typeof w!="undefined"&&A.on("wheel",E=>{if(!b||Hn(E))return null;E.preventDefault()}).on("wheel.zoom",w))},[s,a,A,S,w,H,r,b]),l.exports.useEffect(()=>{S&&(f?S.on("zoom",null):S.on("zoom",E=>{if(k([E.transform.x,E.transform.y,E.transform.k]),e){const R=Pn(E.transform);e(R)}}))},[f,S,k,e]),l.exports.useEffect(()=>{S&&(t?S.on("start",E=>{const R=Pn(E.transform);N.current=R,t(R)}):S.on("start",null))},[S,t]),l.exports.useEffect(()=>{S&&(n?S.on("end",E=>{if(id(N.current,E.transform)){const R=Pn(E.transform);N.current=R,n(R)}}):S.on("end",null))},[S,n]),l.exports.useEffect(()=>{S&&S.filter(E=>{const R=H||o,D=r&&E.ctrlKey;return!x&&!R&&!s&&!d&&!r||f||!d&&E.type==="dblclick"||Hn(E)&&E.type==="wheel"||(E.target.closest(".react-flow__node")||E.target.closest(".react-flow__edge"))&&E.type!=="wheel"||E.target.closest(".react-flow__nodesselection")&&E.type!=="wheel"||!r&&E.ctrlKey&&E.type==="wheel"||!R&&!s&&!D&&E.type==="wheel"||!x&&(E.type==="mousedown"||E.type==="touchstart")?!1:(!E.ctrlKey||E.type==="wheel")&&!E.button})},[S,o,r,s,d,x,f,m,H]),i("div",{className:"react-flow__renderer react-flow__zoompane",ref:C,children:$})};function jr(e){const t=e.target.closest(".react-flow");if(!t)return;const n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}const ad=()=>{const e=v(t=>t.userSelectionRect);return e.draw?i("div",{className:"react-flow__selection",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null};var ld=l.exports.memo(({selectionKeyPressed:e})=>{const t=v(b=>b.selectionActive),n=v(b=>b.elementsSelectable),o=W(b=>b.setUserSelection),r=W(b=>b.updateUserSelection),s=W(b=>b.unsetUserSelection),c=W(b=>b.unsetNodesSelection),a=v(b=>b.userSelectionRect),d=v(b=>b.transform),f=Nt(),m=Wr();return!n||!(t||e)?null:i("div",{className:"react-flow__selectionpane",onMouseDown:b=>{const $=jr(b);!$||o($)},onMouseMove:b=>{var A,w;if(!e||!t)return;const $=jr(b);if(!$)return;const C=(A=a.startX)!=null?A:0,N=(w=a.startY)!=null?w:0,_=P(u({},a),{x:$.x<C?$.x:a.x,y:$.y<N?$.y:a.y,width:Math.abs($.x-C),height:Math.abs($.y-N)}),S=jo(f,_,d,!1,!0);m(S),r(_)},onMouseUp:()=>{s()},onMouseLeave:()=>{s(),c()},children:i(ad,{})})}),ud=({onSelectionDragStart:e,onSelectionDrag:t,onSelectionDragStop:n,onSelectionContextMenu:o})=>{const[r,s,c]=v(w=>w.transform),a=v(w=>w.selectedNodesBbox),d=v(w=>w.selectionActive),f=v(w=>w.selectedElements),m=v(w=>w.snapToGrid),x=v(w=>w.snapGrid),p=v(w=>w.nodes),h=W(w=>w.updateNodePosDiff),y=l.exports.useRef(null),g=l.exports.useMemo(()=>m?x:[1,1],[m,x]),b=l.exports.useMemo(()=>f?f.filter(yn).map(w=>{const L=p.find(k=>k.id===w.id);return P(u({},L),{position:L==null?void 0:L.__rf.position})}):[],[f,p]),$=l.exports.useMemo(()=>({transform:`translate(${r}px,${s}px) scale(${c})`}),[r,s,c]),C=l.exports.useMemo(()=>({width:a.width,height:a.height,top:a.y,left:a.x}),[a]),N=l.exports.useCallback(w=>{e==null||e(w,b)},[e,b]),_=l.exports.useCallback((w,L)=>{t&&t(w,b),h({diff:{x:L.deltaX,y:L.deltaY},isDragging:!0})},[t,b,h]),S=l.exports.useCallback(w=>{h({isDragging:!1}),n==null||n(w,b)},[b,n]),A=l.exports.useCallback(w=>{const L=f?f.filter(yn).map(k=>p.find(H=>H.id===k.id)):[];o==null||o(w,L)},[o]);return!f||d?null:i("div",{className:"react-flow__nodesselection",style:$,children:i(La,{scale:c,grid:g,onStart:w=>N(w),onDrag:(w,L)=>_(w,L),onStop:w=>S(w),nodeRef:y,enableUserSelectHack:!1,children:i("div",{ref:y,className:"react-flow__nodesselection-rect",onContextMenu:A,style:C})})})};const qr=({children:e,onPaneClick:t,onPaneContextMenu:n,onPaneScroll:o,onElementsRemove:r,deleteKeyCode:s,onMove:c,onMoveStart:a,onMoveEnd:d,selectionKeyCode:f,multiSelectionKeyCode:m,zoomActivationKeyCode:x,elementsSelectable:p,zoomOnScroll:h,zoomOnPinch:y,panOnScroll:g,panOnScrollSpeed:b,panOnScrollMode:$,zoomOnDoubleClick:C,paneMoveable:N,defaultPosition:_,defaultZoom:S,translateExtent:A,preventScrolling:w,onSelectionDragStart:L,onSelectionDrag:k,onSelectionDragStop:H,onSelectionContextMenu:E})=>{const R=W(I=>I.unsetNodesSelection),D=Gr(),z=v(I=>I.nodesSelectionActive),K=Zt(f);rd({onElementsRemove:r,deleteKeyCode:s,multiSelectionKeyCode:m});const U=l.exports.useCallback(I=>{t==null||t(I),R(),D()},[t]),G=l.exports.useCallback(I=>{n==null||n(I)},[n]),Z=l.exports.useCallback(I=>{o==null||o(I)},[o]);return T(cd,{onMove:c,onMoveStart:a,onMoveEnd:d,selectionKeyPressed:K,elementsSelectable:p,zoomOnScroll:h,zoomOnPinch:y,panOnScroll:g,panOnScrollSpeed:b,panOnScrollMode:$,zoomOnDoubleClick:C,paneMoveable:N,defaultPosition:_,defaultZoom:S,translateExtent:A,zoomActivationKeyCode:x,preventScrolling:w,children:[e,i(ld,{selectionKeyPressed:K}),z&&i(ud,{onSelectionDragStart:L,onSelectionDrag:k,onSelectionDragStop:H,onSelectionContextMenu:E}),i("div",{className:"react-flow__pane",onClick:U,onContextMenu:G,onWheel:Z})]})};qr.displayName="FlowRenderer";var dd=l.exports.memo(qr);const zr=e=>{const t=v(h=>h.transform),n=v(h=>h.nodesDraggable),o=v(h=>h.nodesConnectable),r=v(h=>h.elementsSelectable),s=Fr(),c=v(h=>h.width),a=v(h=>h.height),d=Nt(),f=Array.from(d.nodes.values()),m=e.onlyRenderVisibleElements?jo(f,{x:0,y:0,width:c,height:a},t,!0):f,x=l.exports.useMemo(()=>({transform:`translate(${t[0]}px,${t[1]}px) scale(${t[2]})`}),[t[0],t[1],t[2]]),p=l.exports.useMemo(()=>typeof ResizeObserver=="undefined"?null:new ResizeObserver(h=>{const y=h.map(g=>({id:g.target.getAttribute("data-id"),nodeElement:g.target}));s(y)}),[s]);return i("div",{className:"react-flow__nodes",style:x,children:m.map(h=>{const y=de(d,h),g=h.type||"default",b=e.nodeTypes[g]||e.nodeTypes.default;e.nodeTypes[g]||console.warn(`Node type "${g}" not found. Using fallback type "default".`);const $=!!(h.draggable||n&&typeof h.draggable=="undefined"),C=!!(h.selectable||r&&typeof h.selectable=="undefined"),N=!!(h.connectable||o&&typeof h.connectable=="undefined");return i(b,{id:h.id,className:h.className,style:h.style,type:g,data:h.data,sourcePosition:h.sourcePosition,targetPosition:h.targetPosition,isHidden:h.isHidden,xPos:y.x,yPos:y.y,isDragging:y.isDragging,edited:y.edited,isInitialized:y.width!==null&&y.height!==null,snapGrid:e.snapGrid,snapToGrid:e.snapToGrid,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onElementClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onNodeDoubleClick:e.onNodeDoubleClick,onNodeDragStart:e.onNodeDragStart,onNodeDrag:e.onNodeDrag,onNodeDragStop:e.onNodeDragStop,scale:t[2],selected:Ul(d,h),highlight:d.highlightedNodeIDs.has(h.id),isDraggable:$,isSelectable:C,isConnectable:N,resizeObserver:p,dragHandle:h.dragHandle},h.id)})})};zr.displayName="NodeRenderer";var fd=l.exports.memo(zr);const hd=x=>{var p=x,{x:e,y:t,label:n,labelStyle:o={},labelShowBg:r=!0,labelBgStyle:s={},labelBgPadding:c=[2,4],labelBgBorderRadius:a=2,children:d,className:f}=p,m=pe(p,["x","y","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","children","className"]);const h=l.exports.useRef(null),[y,g]=l.exports.useState({x:0,y:0,width:0,height:0}),b=Ie(["react-flow__edge-textwrapper",f]);return l.exports.useEffect(()=>{if(h.current){const $=h.current.getBBox();g({x:$.x,y:$.y,width:$.width,height:$.height})}},[n]),typeof n=="undefined"||!n?null:T("g",P(u({transform:`translate(${e-y.width/2} ${t-y.height/2})`,className:b},m),{children:[r&&i("rect",{width:y.width+2*c[0],x:-c[0],y:-c[1],height:y.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),i("text",{className:"react-flow__edge-text",y:y.height/2,dy:"0.3em",ref:h,style:o,children:n}),d]}))};var Un=l.exports.memo(hd);const Fn=(e,t)=>typeof t!="undefined"&&t?`url(#${t})`:typeof e!="undefined"?`url(#react-flow__${e})`:"none",Zr=[O.Left,O.Right],Vt=({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r=O.Bottom,targetPosition:s=O.Top})=>{const c=Zr.includes(r),a=Zr.includes(s);if(c&&!a||a&&!c){const h=c?Math.abs(n-e):0,y=e>n?e-h:e+h,g=c?0:Math.abs(o-t),b=t<o?t+g:t-g;return[y,b,h,g]}const f=Math.abs(n-e)/2,m=n<e?n+f:n-f,x=Math.abs(o-t)/2,p=o<t?o+x:o-x;return[m,p,f,x]};function Vr({sourceX:e,sourceY:t,sourcePosition:n=O.Bottom,targetX:o,targetY:r,targetPosition:s=O.Top,centerX:c,centerY:a}){const[d,f]=Vt({sourceX:e,sourceY:t,targetX:o,targetY:r}),m=[O.Left,O.Right],x=typeof c!="undefined"?c:d,p=typeof a!="undefined"?a:f;let h=`M${e},${t} C${e},${p} ${o},${p} ${o},${r}`;return m.includes(n)&&m.includes(s)?h=`M${e},${t} C${x},${t} ${x},${r} ${o},${r}`:m.includes(s)?h=`M${e},${t} Q${e},${r} ${o},${r}`:m.includes(n)&&(h=`M${e},${t} Q${o},${t} ${o},${r}`),h}var Wn=l.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r=O.Bottom,targetPosition:s=O.Top,label:c,labelStyle:a,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:x,style:p,arrowHeadType:h,markerEndId:y})=>{const[g,b]=Vt({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:r,targetPosition:s}),$=Vr({sourceX:e,sourceY:t,sourcePosition:r,targetX:n,targetY:o,targetPosition:s}),C=c?i(Un,{x:g,y:b,label:c,labelStyle:a,labelShowBg:d,labelBgStyle:f,labelBgPadding:m,labelBgBorderRadius:x}):null,N=Fn(h,y);return T(ae,{children:[i("path",{style:p,d:$,className:"react-flow__edge-path",markerEnd:N}),C]})});const Gn=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e+n},${t}`,jn=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t-n}`,qn=(e,t,n)=>`L ${e},${t-n}Q ${e},${t} ${e-n},${t}`,zn=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t-n}`,Zn=(e,t,n)=>`L ${e+n},${t}Q ${e},${t} ${e},${t+n}`,Vn=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e+n},${t}`,Qn=(e,t,n)=>`L ${e},${t+n}Q ${e},${t} ${e-n},${t}`,Kn=(e,t,n)=>`L ${e-n},${t}Q ${e},${t} ${e},${t+n}`;function Jn({sourceX:e,sourceY:t,sourcePosition:n=O.Bottom,targetX:o,targetY:r,targetPosition:s=O.Top,borderRadius:c=5,centerX:a,centerY:d}){const[f,m,x,p]=Vt({sourceX:e,sourceY:t,targetX:o,targetY:r}),h=Math.min(c,Math.abs(o-e)),y=Math.min(c,Math.abs(r-t)),g=Math.min(h,y,x,p),b=[O.Left,O.Right],$=typeof a!="undefined"?a:f,C=typeof d!="undefined"?d:m;let N=null,_=null;return e<=o?(N=t<=r?Gn(e,C,g):Vn(e,C,g),_=t<=r?Kn(o,C,g):zn(o,C,g)):(N=t<r?qn(e,C,g):Qn(e,C,g),_=t<r?Zn(o,C,g):jn(o,C,g)),b.includes(n)&&b.includes(s)?e<=o?(N=t<=r?Kn($,t,g):zn($,t,g),_=t<=r?Gn($,r,g):Vn($,r,g)):(n===O.Right&&s===O.Left||n===O.Left&&s===O.Right||n===O.Left&&s===O.Left)&&(N=t<=r?Zn($,t,g):jn($,t,g),_=t<=r?qn($,r,g):Qn($,r,g)):b.includes(n)&&!b.includes(s)?(e<=o?N=t<=r?Kn(o,t,g):zn(o,t,g):N=t<=r?Zn(o,t,g):jn(o,t,g),_=""):!b.includes(n)&&b.includes(s)&&(e<=o?N=t<=r?Gn(e,r,g):Vn(e,r,g):N=t<=r?qn(e,r,g):Qn(e,r,g),_=""),`M ${e},${t}${N}${_}L ${o},${r}`}var Xn=l.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f,style:m,sourcePosition:x=O.Bottom,targetPosition:p=O.Top,arrowHeadType:h,markerEndId:y,borderRadius:g=5})=>{const[b,$]=Vt({sourceX:e,sourceY:t,targetX:n,targetY:o,sourcePosition:x,targetPosition:p}),C=Jn({sourceX:e,sourceY:t,sourcePosition:x,targetX:n,targetY:o,targetPosition:p,borderRadius:g}),N=Fn(h,y);return T(ae,{children:[i("path",{style:m,className:"react-flow__edge-path",d:C,markerEnd:N}),r?i(Un,{x:b,y:$,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f}):null]})});const pd=(e,t,n)=>{const o=n==="source"?"target":"source",r=t.handleBounds[n]||t.handleBounds[o];return e?r.find(s=>s.id===e):r[0]};function md({connectionNodeId:e,connectionHandleId:t,connectionHandleType:n,connectionLineStyle:o,connectionPositionX:r,connectionPositionY:s,connectionLineType:c=Xe.Bezier,sourceNode:a,transform:d,isConnectable:f,CustomConnectionLineComponent:m}){const x=t;if(a==null||!f)return null;const p=pd(x,a,n),h=p?p.x+p.width/2:a.width/2,y=p?p.y+p.height/2:a.height,g=a.x+h,b=a.y+y,$=(r-d[0])/d[2],C=(s-d[1])/d[2],_=(p==null?void 0:p.position)===O.Left||(p==null?void 0:p.position)===O.Right?O.Left:O.Top;if(m)return i("g",{className:"react-flow__connection",children:i(m,{sourceX:g,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:C,targetPosition:_,connectionLineType:c,connectionLineStyle:o,sourceNode:a,sourceHandle:p})});let S="";return c===Xe.Bezier?S=Vr({sourceX:g,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:C,targetPosition:_}):c===Xe.Step?S=Jn({sourceX:g,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:C,targetPosition:_,borderRadius:0}):c===Xe.SmoothStep?S=Jn({sourceX:g,sourceY:b,sourcePosition:p==null?void 0:p.position,targetX:$,targetY:C,targetPosition:_}):S=`M${g},${b} ${$},${C}`,i("g",{className:"react-flow__connection",children:i("path",{d:S,className:"react-flow__connection-path",style:o})})}const Qr=({id:e,children:t})=>i("marker",{className:"react-flow__arrowhead",id:e,markerWidth:"12.5",markerHeight:"12.5",viewBox:"-10 -10 20 20",orient:"auto",refX:"0",refY:"0",children:t}),Kr=({color:e})=>T("defs",{children:[i(Qr,{id:"react-flow__arrowclosed",children:i("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",fill:e,points:"-5,-4 0,0 -5,4 -5,-4"})}),i(Qr,{id:"react-flow__arrow",children:i("polyline",{stroke:e,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",fill:"none",points:"-5,-4 0,0 -5,4"})})]});Kr.displayName="MarkerDefinitions";var Jr=l.exports.memo(e=>i(Xn,P(u({},e),{borderRadius:0}))),Xr=l.exports.memo(({sourceX:e,sourceY:t,targetX:n,targetY:o,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f,style:m,arrowHeadType:x,markerEndId:p})=>{const h=Math.abs(o-t)/2,y=o<t?o+h:o-h,g=Math.abs(n-e)/2,b=n<e?n+g:n-g,$=Fn(x,p),C=r?i(Un,{x:b,y,label:r,labelStyle:s,labelShowBg:c,labelBgStyle:a,labelBgPadding:d,labelBgBorderRadius:f}):null;return T(ae,{children:[i("path",{style:m,className:"react-flow__edge-path",d:`M ${e},${t}L ${n},${o}`,markerEnd:$}),C]})});const gd=(e,t,n)=>n===O.Left?e-t:n===O.Right?e+t:e,xd=(e,t,n)=>n===O.Top?e-t:n===O.Bottom?e+t:e,Yr=({className:e,position:t,centerX:n,centerY:o,radius:r=10})=>i("circle",{className:Ie(["react-flow__edgeupdater",e]),cx:gd(n,r,t),cy:xd(o,r,t),r,stroke:"transparent",fill:"transparent"});function At(e){const t=({id:n,className:o,type:r,data:s,onClick:c,onEdgeDoubleClick:a,selected:d,animated:f,label:m,labelStyle:x,labelShowBg:p,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:g,style:b,arrowHeadType:$,source:C,target:N,sourceX:_,sourceY:S,targetX:A,targetY:w,sourcePosition:L,targetPosition:k,elementsSelectable:H,markerEndId:E,isHidden:R,sourceHandleId:D,targetHandleId:z,handleEdgeUpdate:K,isValidConnection:U,onConnectEdge:G,onContextMenu:Z,onMouseEnter:I,onMouseMove:ge,onMouseLeave:ne,edgeUpdaterRadius:se,onEdgeUpdateStart:be,onEdgeUpdateEnd:te})=>{W(M=>M.addSelectedElements);const V=W(M=>M.setConnectionNodeId);W(M=>M.unsetNodesSelection);const Le=W(M=>M.setConnectionPosition),Ge=v(M=>M.connectionMode),[we,Ce]=l.exports.useState(!1),_e=!H&&!c,je=Ie(["react-flow__edge",`react-flow__edge-${r}`,o,{selected:d,animated:f,inactive:_e,updating:we}]),X=l.exports.useMemo(()=>{const M={id:n,source:C,target:N,type:r};return D&&(M.sourceHandle=D),z&&(M.targetHandle=z),typeof s!="undefined"&&(M.data=s),M},[n,C,N,r,D,z,s]),qe=l.exports.useCallback(M=>{c==null||c(M,X)},[H,X,c]),ze=l.exports.useCallback(M=>{a==null||a(M,X)},[X,a]),Ze=l.exports.useCallback(M=>{Z==null||Z(M,X)},[X,Z]),Ve=l.exports.useCallback(M=>{I==null||I(M,X)},[X,Z]),Qe=l.exports.useCallback(M=>{ge==null||ge(M,X)},[X,Z]),Ke=l.exports.useCallback(M=>{ne==null||ne(M,X)},[X,Z]),B=l.exports.useCallback((M,ie)=>{const ce=ie?N:C,Re=ie?z:D,oe=ie;be==null||be(M,X),Ro(M,Re,ce,V,Le,G,oe,U,Ge,ie?"target":"source",te?ve=>te(ve,X):void 0)},[n,C,N,r,D,z,V,Le,X,G,U]),ee=l.exports.useCallback(M=>{B(M,!0)},[n,C,D,B]),ke=l.exports.useCallback(M=>{B(M,!1)},[n,N,z,B]),$e=l.exports.useCallback(()=>Ce(!0),[Ce]),F=l.exports.useCallback(()=>Ce(!1),[Ce]);return R?null:T("g",{className:je,onClick:qe,onDoubleClick:ze,onContextMenu:Ze,onMouseEnter:Ve,onMouseMove:Qe,onMouseLeave:Ke,children:[i(e,{id:n,source:C,target:N,selected:d,animated:f,label:m,labelStyle:x,labelShowBg:p,labelBgStyle:h,labelBgPadding:y,labelBgBorderRadius:g,data:s,style:b,arrowHeadType:$,sourceX:_,sourceY:S,targetX:A,targetY:w,sourcePosition:L,targetPosition:k,markerEndId:E,sourceHandleId:D,targetHandleId:z}),K&&i("g",{onMouseDown:ee,onMouseEnter:$e,onMouseOut:F,children:i(Yr,{position:L,centerX:_,centerY:S,radius:se})}),K&&i("g",{onMouseDown:ke,onMouseEnter:$e,onMouseOut:F,children:i(Yr,{position:k,centerX:A,centerY:w,radius:se})})]})};return t.displayName="EdgeWrapper",l.exports.memo(t)}function bd(e){const t={default:At(e.default||Wn),straight:At(e.bezier||Xr),step:At(e.step||Jr),smoothstep:At(e.step||Xn)},n={},o=Object.keys(e).filter(r=>!["default","bezier"].includes(r)).reduce((r,s)=>(r[s]=At(e[s]||Wn),r),n);return u(u({},t),o)}function es(e,t,n=null){const o=((n==null?void 0:n.x)||0)+t.x,r=((n==null?void 0:n.y)||0)+t.y,s=(n==null?void 0:n.width)||t.width,c=(n==null?void 0:n.height)||t.height;switch(e){case O.Top:return{x:o+s/2,y:r};case O.Right:return{x:o+s,y:r+c/2};case O.Bottom:return{x:o+s/2,y:r+c};case O.Left:return{x:o,y:r+c/2}}}function ts(e,t){if(!e)return null;let n=null;return e.length===1||!t?n=e[0]:t&&(n=e.find(o=>o.id===t)),typeof n=="undefined"?null:n}const $d=(e,t,n,o,r,s)=>{const c=es(n,t,e),a=es(s,r,o);return{sourceX:c.x,sourceY:c.y,targetX:a.x,targetY:a.y}};function yd({sourcePos:e,targetPos:t,width:n,height:o,transform:r}){const s={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x,t.x),y2:Math.max(e.y,t.y)};s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const c=Be({x:(0-r[0])/r[2],y:(0-r[1])/r[2],width:n/r[2],height:o/r[2]}),a=Math.max(0,Math.min(c.x2,s.x2)-Math.max(c.x,s.x)),d=Math.max(0,Math.min(c.y2,s.y2)-Math.max(c.y,s.y));return Math.ceil(a*d)>0}const ns=e=>{const t=v(S=>S.transform),n=Nt(),o=l.exports.useContext(Dn.edges),r=v(S=>S.connectionNodeId),s=v(S=>S.connectionHandleId),c=v(S=>S.connectionHandleType),a=v(S=>S.connectionPosition),d=v(S=>S.selectedElements),f=v(S=>S.nodesConnectable),m=v(S=>S.elementsSelectable),x=v(S=>S.width),p=v(S=>S.height),h=l.exports.useCallback(({source:S,target:A})=>!En(n,le(S),le(A))&&!En(n,le(A),le(S))&&!Bt(le(A),le(S)),[n]);if(!x)return null;const{connectionLineType:y,arrowHeadColor:g,connectionLineStyle:b,connectionLineComponent:$,onlyRenderVisibleElements:C}=e,N=`translate(${t[0]},${t[1]}) scale(${t[2]})`,_=r&&c;return T("svg",{width:x,height:p,className:"react-flow__edges",children:[i(Kr,{color:g}),T("g",{transform:N,children:[Array.from(o.values()).map(S=>i(Ed,{edge:S,props:e,appState:n,selectedElements:d,elementsSelectable:m,transform:t,width:x,height:p,onlyRenderVisibleElements:C,isValidConnection:h},S.id)),_&&i(md,{sourceNode:de(n,le(r)),connectionNodeId:r,connectionHandleId:s,connectionHandleType:c,connectionPositionX:a.x,connectionPositionY:a.y,transform:t,connectionLineStyle:b,connectionLineType:y,isConnectable:f,CustomConnectionLineComponent:$})]})]})};ns.displayName="EdgeRenderer";var Sd=l.exports.memo(ns);function Ed({edge:e,props:t,appState:n,selectedElements:o,elementsSelectable:r,transform:s,width:c,height:a,onlyRenderVisibleElements:d,connectionMode:f,isValidConnection:m}){const x=e.sourceHandle||null,p=e.targetHandle||null,h=Cn(n,e),y=Nn(n,e),g=l.exports.useCallback(U=>{var G;(G=t.onEdgeUpdate)==null||G.call(t,e,U)},[e,t.onEdgeUpdate]);if(!h)return console.warn(`couldn't create edge for parent id: ${e.parentID}; edge id: ${e.id}`),null;if(!y)return console.warn(`couldn't create edge for child id: ${e.childID}; edge id: ${e.id}`),null;const b=de(n,h),$=de(n,y);if(!b.width||!$.width)return null;const C=e.type||"default",N=t.edgeTypes[C]||t.edgeTypes.default,S=$.handleBounds.target,A=ts(b.handleBounds.source,x),w=ts(S,p),L=A?A.position:O.Bottom,k=w?w.position:O.Top;if(!A)return console.warn(`couldn't create edge for source handle id: ${x}; edge id: ${e.id}`),null;if(!w)return console.warn(`couldn't create edge for target handle id: ${p}; edge id: ${e.id}`),null;const{sourceX:H,sourceY:E,targetX:R,targetY:D}=$d(A,b,L,w,$,k);if(!(d?yd({sourcePos:{x:H,y:E},targetPos:{x:R,y:D},width:c,height:a,transform:s}):!0))return null;const K=(o==null?void 0:o.some(U=>El(U)&&U.id===e.id))||!1;return i(N,{id:e.id,className:e.className,type:e.type,data:e.data,onClick:t.onElementClick,selected:K,animated:e.animated,label:e.label,labelStyle:e.labelStyle,labelShowBg:e.labelShowBg,labelBgStyle:e.labelBgStyle,labelBgPadding:e.labelBgPadding,labelBgBorderRadius:e.labelBgBorderRadius,style:e.style,arrowHeadType:e.arrowHeadType,source:e.parentID,target:e.childID,sourceHandleId:x,targetHandleId:p,sourceX:H,sourceY:E,targetX:R,targetY:D,sourcePosition:L,targetPosition:k,elementsSelectable:r,markerEndId:t.markerEndId,isHidden:e.isHidden||e.type==="tight",onConnectEdge:g,handleEdgeUpdate:typeof t.onEdgeUpdate!="undefined",isValidConnection:m,onContextMenu:t.onEdgeContextMenu,onMouseEnter:t.onEdgeMouseEnter,onMouseMove:t.onEdgeMouseMove,onMouseLeave:t.onEdgeMouseLeave,edgeUpdaterRadius:t.edgeUpdaterRadius,onEdgeDoubleClick:t.onEdgeDoubleClick,onEdgeUpdateStart:t.onEdgeUpdateStart,onEdgeUpdateEnd:t.onEdgeUpdateEnd},e.id)}const Qt=.1,wd={zoomIn:()=>{},zoomOut:()=>{},zoomTo:e=>{},transform:e=>{},fitView:(e={padding:Qt,includeHiddenNodes:!1})=>{},setCenter:(e,t)=>{},fitBounds:e=>{},project:e=>e,initialized:!1},os=()=>{const e=Tt(),t=v(r=>r.d3Zoom),n=v(r=>r.d3Selection);return l.exports.useMemo(()=>n&&t?{zoomIn:()=>t.scaleBy(n,1.2),zoomOut:()=>t.scaleBy(n,1/1.2),zoomTo:r=>t.scaleTo(n,r),transform:r=>{const s=bt.translate(r.x,r.y).scale(r.zoom);t.transform(n,s)},fitView:(r={padding:Qt,includeHiddenNodes:!1})=>{var g,b,$;const{nodes:s,width:c,height:a,minZoom:d,maxZoom:f}=e.getState();if(!s.length)return;const m=Go(r.includeHiddenNodes?s:s.filter(C=>!C.isHidden)),[x,p,h]=zo(m,c,a,(g=r.minZoom)!=null?g:d,(b=r.maxZoom)!=null?b:f,($=r.padding)!=null?$:Qt),y=bt.translate(x,p).scale(h);t.transform(n,y)},setCenter:(r,s,c)=>{const{width:a,height:d,maxZoom:f}=e.getState(),m=typeof c!="undefined"?c:f,x=a/2-r*m,p=d/2-s*m,h=bt.translate(x,p).scale(m);t.transform(n,h)},fitBounds:(r,s=Qt)=>{const{width:c,height:a,minZoom:d,maxZoom:f}=e.getState(),[m,x,p]=zo(r,c,a,d,f,s),h=bt.translate(m,x).scale(p);t.transform(n,h)},project:r=>{const{transform:s,snapToGrid:c,snapGrid:a}=e.getState();return Sn(r,s,c,a)},initialized:!0}:wd,[t,n])},rs=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:o,onMoveEnd:r,onLoad:s,onElementClick:c,onNodeDoubleClick:a,onEdgeDoubleClick:d,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:p,onNodeDragStart:h,onNodeDrag:y,onNodeDragStop:g,onSelectionDragStart:b,onSelectionDrag:$,onSelectionDragStop:C,onSelectionContextMenu:N,connectionMode:_,connectionLineType:S,connectionLineStyle:A,connectionLineComponent:w,selectionKeyCode:L,multiSelectionKeyCode:k,zoomActivationKeyCode:H,onElementsRemove:E,deleteKeyCode:R,onConnect:D,onConnectStart:z,onConnectStop:K,onConnectEnd:U,snapToGrid:G,snapGrid:Z,onlyRenderVisibleElements:I,nodesDraggable:ge,nodesConnectable:ne,elementsSelectable:se,selectNodesOnDrag:be,minZoom:te,maxZoom:V,defaultZoom:Le,defaultPosition:Ge,translateExtent:we,preventScrolling:Ce,nodeExtent:_e,arrowHeadColor:je,markerEndId:X,zoomOnScroll:qe,zoomOnPinch:ze,panOnScroll:Ze,panOnScrollSpeed:Ve,panOnScrollMode:Qe,zoomOnDoubleClick:Ke,paneMoveable:B,onPaneClick:ee,onPaneScroll:ke,onPaneContextMenu:$e,onEdgeUpdate:F,onEdgeContextMenu:M,onEdgeMouseEnter:ie,onEdgeMouseMove:ce,onEdgeMouseLeave:Re,edgeUpdaterRadius:oe,onEdgeUpdateStart:he,onEdgeUpdateEnd:ve})=>{const Je=l.exports.useRef(!1),nt=W(q=>q.setOnConnect),xt=W(q=>q.setOnConnectStart),un=W(q=>q.setOnConnectStop),dn=W(q=>q.setOnConnectEnd),fn=W(q=>q.setSnapGrid),hn=W(q=>q.setSnapToGrid),pn=W(q=>q.setNodesDraggable),bo=W(q=>q.setNodesConnectable),Ot=W(q=>q.setElementsSelectable),mn=W(q=>q.setMinZoom),gn=W(q=>q.setMaxZoom),xn=W(q=>q.setTranslateExtent),fi=W(q=>q.setNodeExtent),hi=W(q=>q.setConnectionMode),bn=Tt(),{zoomIn:$o,zoomOut:yo,zoomTo:So,transform:Eo,fitView:wo,initialized:Co}=os();return l.exports.useEffect(()=>{!Je.current&&Co&&(s&&s({fitView:(q={padding:.1})=>wo(q),zoomIn:$o,zoomOut:yo,zoomTo:So,setTransform:Eo,project:Cl(bn),getElements:_l(bn),toObject:kl(bn)}),Je.current=!0)},[s,$o,yo,So,Eo,wo,Co]),l.exports.useEffect(()=>{D&&nt(D)},[D]),l.exports.useEffect(()=>{z&&xt(z)},[z]),l.exports.useEffect(()=>{K&&un(K)},[K]),l.exports.useEffect(()=>{U&&dn(U)},[U]),l.exports.useEffect(()=>{typeof G!="undefined"&&hn(G)},[G]),l.exports.useEffect(()=>{typeof Z!="undefined"&&fn(Z)},[Z]),l.exports.useEffect(()=>{typeof ge!="undefined"&&pn(ge)},[ge]),l.exports.useEffect(()=>{typeof ne!="undefined"&&bo(ne)},[ne]),l.exports.useEffect(()=>{typeof se!="undefined"&&Ot(se)},[se]),l.exports.useEffect(()=>{typeof te!="undefined"&&mn(te)},[te]),l.exports.useEffect(()=>{typeof V!="undefined"&&gn(V)},[V]),l.exports.useEffect(()=>{typeof we!="undefined"&&xn(we)},[we]),l.exports.useEffect(()=>{typeof _e!="undefined"&&fi(_e)},[_e]),l.exports.useEffect(()=>{typeof _!="undefined"&&hi(_)},[_]),T(dd,{onPaneClick:ee,onPaneContextMenu:$e,onPaneScroll:ke,onElementsRemove:E,deleteKeyCode:R,selectionKeyCode:L,multiSelectionKeyCode:k,zoomActivationKeyCode:H,elementsSelectable:se,onMove:n,onMoveStart:o,onMoveEnd:r,zoomOnScroll:qe,zoomOnPinch:ze,zoomOnDoubleClick:Ke,panOnScroll:Ze,panOnScrollSpeed:Ve,panOnScrollMode:Qe,paneMoveable:B,defaultPosition:Ge,defaultZoom:Le,translateExtent:we,onSelectionDragStart:b,onSelectionDrag:$,onSelectionDragStop:C,onSelectionContextMenu:N,preventScrolling:Ce,children:[i(fd,{nodeTypes:e,onElementClick:c,onNodeDoubleClick:a,onNodeMouseEnter:f,onNodeMouseMove:m,onNodeMouseLeave:x,onNodeContextMenu:p,onNodeDragStop:g,onNodeDrag:y,onNodeDragStart:h,selectNodesOnDrag:be,snapToGrid:G,snapGrid:Z,onlyRenderVisibleElements:I}),i(Sd,{edgeTypes:t,onElementClick:c,onEdgeDoubleClick:d,connectionLineType:S,connectionLineStyle:A,connectionLineComponent:w,connectionMode:_,arrowHeadColor:je,markerEndId:X,onEdgeUpdate:F,onlyRenderVisibleElements:I,onEdgeContextMenu:M,onEdgeMouseEnter:ie,onEdgeMouseMove:ce,onEdgeMouseLeave:Re,onEdgeUpdateStart:he,onEdgeUpdateEnd:ve,edgeUpdaterRadius:oe})]})};rs.displayName="GraphView";var Cd=l.exports.memo(rs);const Yn=l.exports.createContext(null);Yn.Provider;Yn.Consumer;const Nd=()=>!0,ss=l.exports.forwardRef((m,f)=>{var x=m,{type:e="source",position:t=O.Top,isValidConnection:n=Nd,isConnectable:o=!0,id:r,onConnect:s,children:c,className:a}=x,d=pe(x,["type","position","isValidConnection","isConnectable","id","onConnect","children","className"]);const p=l.exports.useContext(Yn),h=W(k=>k.setConnectionPosition),y=W(k=>k.setConnectionNodeId),g=v(k=>k.onConnect),b=v(k=>k.onConnectStart),$=v(k=>k.onConnectStop),C=v(k=>k.onConnectEnd),N=v(k=>k.connectionMode),_=r||null,S=e==="target",A=l.exports.useCallback(k=>{g==null||g(k),s==null||s(k)},[g,s]),w=l.exports.useCallback(k=>{Ro(k,_,p,y,h,A,S,n,N,void 0,void 0,b,$,C)},[_,p,y,h,A,S,n,N,b,$,C]),L=Ie(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",a,{source:!S,target:S,connectable:o}]);return i("div",P(u({"data-handleid":_,"data-nodeid":p,"data-handlepos":t,className:L,onMouseDown:w,ref:f},d),{children:c}))});ss.displayName="Handle";var dt=l.exports.memo(ss);const is=({data:e,isConnectable:t,targetPosition:n=O.Top,sourcePosition:o=O.Bottom})=>T(ae,{children:[i(dt,{type:"target",position:n,isConnectable:t}),e.label,i(dt,{type:"source",position:o,isConnectable:t})]});is.displayName="DefaultNode";var eo=l.exports.memo(is);const cs=({data:e,isConnectable:t,sourcePosition:n=O.Bottom})=>T(ae,{children:[e.label,i(dt,{type:"source",position:n,isConnectable:t})]});cs.displayName="InputNode";var as=l.exports.memo(cs);const ls=({data:e,isConnectable:t,targetPosition:n=O.Top})=>T(ae,{children:[i(dt,{type:"target",position:n,isConnectable:t}),e.label]});ls.displayName="OutputNode";var us=l.exports.memo(ls);function Kt(e){const t=({id:n,type:o,data:r,scale:s,xPos:c,yPos:a,selected:d,highlight:f,onClick:m,onMouseEnter:x,onMouseMove:p,onMouseLeave:h,onContextMenu:y,onNodeDoubleClick:g,onNodeDragStart:b,onNodeDrag:$,onNodeDragStop:C,style:N,className:_,edited:S,isDraggable:A,isSelectable:w,isConnectable:L,selectNodesOnDrag:k,sourcePosition:H,targetPosition:E,isHidden:R,isInitialized:D,snapToGrid:z,snapGrid:K,isDragging:U,resizeObserver:G,dragHandle:Z})=>{const I=Oe(),ge=Fr(),ne=Wr(),se=W(B=>B.unsetNodesSelection),be=v(B=>B.multiSelectionActive),te=l.exports.useRef(null),V=l.exports.useMemo(()=>({id:n,type:o,position:{x:c,y:a},data:r}),[n,o,c,a,r]),Le=l.exports.useMemo(()=>z?K:[1,1],[z,K]),Ge=l.exports.useMemo(()=>u({zIndex:d?10:3,transform:`translate(${c}px,${a}px)`,pointerEvents:w||A||m||x||p||h?"all":"none",opacity:D?1:0},N),[d,c,a,w,A,m,D,N,x,p,h]),we=l.exports.useMemo(()=>{if(!(!x||U))return B=>x(B,V)},[x,U,V]),Ce=l.exports.useMemo(()=>{if(!(!p||U))return B=>p(B,V)},[p,U,V]),_e=l.exports.useMemo(()=>{if(!(!h||U))return B=>h(B,V)},[h,U,V]),je=l.exports.useMemo(()=>{if(!!y)return B=>y(B,V)},[y,V]),X=l.exports.useCallback(B=>{A||(w&&(se(),d||ne([V],be)),m==null||m(B,V))},[w,d,A,m,V,ne]),qe=l.exports.useCallback(B=>{b==null||b(B,V),k&&w?(se(),d||ne([V],be)):!k&&!d&&w&&(se(),ne([]))},[b,V,k,w,d,se,ne,be]),ze=l.exports.useCallback((B,ee)=>{const{deltaX:ke,deltaY:$e}=ee;I(F=>{ue(F).forEach(oe=>{de(F,oe).isDragging=!0});const M=B.altKey;if(F.highlightedNodeIDs=new Set,!M){Zl(ue(F).map(he=>Pe(F,he))).forEach(he=>{Zo(F,he,ke,$e),et(F,he)});return}const ie=In(ue(F),oe=>Pe(F,oe)).map(oe=>kn(F,oe));ie.forEach(oe=>{const he=me(oe),ve=Jo(F,he);if(ve!=null){const Je=Cn(F,ve),nt=Uo(oe),xt=jt(F,nt);Ll(ve),Wt(F,Ye(F,nt)),Tn(F,Je,xt),et(F,Je)}Zo(F,he,ke,$e),et(F,he)});const ce=Q(ie),Re=ce!=null?Q(sr(F,me(ce),B)):null;F.highlightedNodeIDs=vn(Re!=null?[Re]:[])})},[I]),Ze=l.exports.useCallback(B=>{I(ee=>{if(ue(ee).forEach(ce=>{de(ee,ce).isDragging=!1}),ee.highlightedNodeIDs=new Set,!B.altKey)return;const $e=In(ue(ee),ce=>Pe(ee,ce)).map(ce=>kn(ee,ce)),F=Q($e);if(F==null)return;const M=Q(sr(ee,me(F),B));if(M==null)return;const ie=me(F);Wt(ee,Ft(ee,ie)),An(ee,M,ie),et(ee,M)})},[I]),Ve=l.exports.useCallback(B=>{g==null||g(B,V),B.stopPropagation()},[V,g]);if(l.exports.useLayoutEffect(()=>{te.current&&!R&&ge([{id:n,nodeElement:te.current,forceUpdate:!0}])},[n,R,H,E,ge]),l.exports.useEffect(()=>{if(te.current){const B=te.current;return G==null||G.observe(B),()=>G==null?void 0:G.unobserve(B)}},[G]),R)return null;const Qe=Ie(["react-flow__node",`react-flow__node-${o}`,_,{selected:d,selectable:w}]),Ke={id:n,data:r,type:o,xPos:c,yPos:a,selected:d,highlight:f,isConnectable:L,sourcePosition:H,targetPosition:E,isDragging:U,edited:S,dragHandle:Z,nodeElement:te};return i(Ra,{onStart:qe,onDrag:ze,onStop:Ze,scale:s,disabled:!A,cancel:".nodrag",nodeRef:te,grid:Le,enableUserSelectHack:!1,handle:Z,children:i("div",{className:Qe,ref:te,style:Ge,onMouseEnter:we,onMouseMove:Ce,onMouseLeave:_e,onContextMenu:je,onClick:X,onDoubleClick:Ve,"data-id":n,tabIndex:0,children:i(ds.Provider,{value:Ke,children:i(e,{})})})})};return t.displayName="NodeWrapper",l.exports.memo(t)}const ds=l.exports.createContext();function Ne(){return l.exports.useContext(ds)}function Td(e){const t={input:Kt(e.input||as),default:Kt(e.default||eo),output:Kt(e.output||us)},n={},o=Object.keys(e).filter(r=>!["input","default","output"].includes(r)).reduce((r,s)=>(r[s]=Kt(e[s]||eo),r),n);return u(u({},t),o)}var Ad=({onSelectionChange:e})=>{const t=v(n=>n.selectedElements);return l.exports.useEffect(()=>{e(t)},[t]),null};const fs=({children:e})=>{const t=l.exports.useContext(Ba);return l.exports.useMemo(()=>{var o,r;return(r=(o=t==null?void 0:t.store)==null?void 0:o.getState())==null?void 0:r.reactFlowVersion},[t])?i(ae,{children:e}):i(vo,{store:nd,children:e})};fs.displayName="ReactFlowWrapper";const _d={input:as,default:eo,output:us},kd={default:Wn,straight:Xr,step:Jr,smoothstep:Xn},vd=[15,15],hs=l.exports.forwardRef((bo,pn)=>{var Ot=bo,{elements:e=[],className:t,nodeTypes:n=_d,edgeTypes:o=kd,onElementClick:r,onLoad:s,onMove:c,onMoveStart:a,onMoveEnd:d,onElementsRemove:f,onConnect:m,onConnectStart:x,onConnectStop:p,onConnectEnd:h,onNodeMouseEnter:y,onNodeMouseMove:g,onNodeMouseLeave:b,onNodeContextMenu:$,onNodeDoubleClick:C,onNodeDragStart:N,onNodeDrag:_,onNodeDragStop:S,onSelectionChange:A,onSelectionDragStart:w,onSelectionDrag:L,onSelectionDragStop:k,onSelectionContextMenu:H,connectionMode:E=$t.Strict,connectionLineType:R=Xe.Bezier,connectionLineStyle:D,connectionLineComponent:z,deleteKeyCode:K="Backspace",selectionKeyCode:U="Shift",multiSelectionKeyCode:G="Meta",zoomActivationKeyCode:Z="Meta",snapToGrid:I=!1,snapGrid:ge=vd,onlyRenderVisibleElements:ne=!1,selectNodesOnDrag:se=!0,nodesDraggable:be,nodesConnectable:te,elementsSelectable:V,minZoom:Le,maxZoom:Ge,defaultZoom:we=1,defaultPosition:Ce=[0,0],translateExtent:_e,preventScrolling:je=!0,nodeExtent:X,arrowHeadColor:qe="#b1b1b7",markerEndId:ze,zoomOnScroll:Ze=!0,zoomOnPinch:Ve=!0,panOnScroll:Qe=!1,panOnScrollSpeed:Ke=.5,panOnScrollMode:B=st.Free,zoomOnDoubleClick:ee=!0,paneMoveable:ke=!0,onPaneClick:$e,onPaneScroll:F,onPaneContextMenu:M,children:ie,onEdgeUpdate:ce,onEdgeContextMenu:Re,onEdgeDoubleClick:oe,onEdgeMouseEnter:he,onEdgeMouseMove:ve,onEdgeMouseLeave:Je,onEdgeUpdateStart:nt,onEdgeUpdateEnd:xt,edgeUpdaterRadius:un=10,nodeTypesId:dn="1",edgeTypesId:fn="1"}=Ot,hn=pe(Ot,["elements","className","nodeTypes","edgeTypes","onElementClick","onLoad","onMove","onMoveStart","onMoveEnd","onElementsRemove","onConnect","onConnectStart","onConnectStop","onConnectEnd","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","onNodeDragStart","onNodeDrag","onNodeDragStop","onSelectionChange","onSelectionDragStart","onSelectionDrag","onSelectionDragStop","onSelectionContextMenu","connectionMode","connectionLineType","connectionLineStyle","connectionLineComponent","deleteKeyCode","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","snapToGrid","snapGrid","onlyRenderVisibleElements","selectNodesOnDrag","nodesDraggable","nodesConnectable","elementsSelectable","minZoom","maxZoom","defaultZoom","defaultPosition","translateExtent","preventScrolling","nodeExtent","arrowHeadColor","markerEndId","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","zoomOnDoubleClick","paneMoveable","onPaneClick","onPaneScroll","onPaneContextMenu","children","onEdgeUpdate","onEdgeContextMenu","onEdgeDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","onEdgeUpdateStart","onEdgeUpdateEnd","edgeUpdaterRadius","nodeTypesId","edgeTypesId"]);const mn=l.exports.useMemo(()=>Td(n),[dn]),gn=l.exports.useMemo(()=>bd(o),[fn]),xn=Ie(["react-flow",t]);return i("div",P(u({},hn),{ref:pn,className:xn,children:T(fs,{children:[i(Cd,{onLoad:s,onMove:c,onMoveStart:a,onMoveEnd:d,onElementClick:r,onNodeMouseEnter:y,onNodeMouseMove:g,onNodeMouseLeave:b,onNodeContextMenu:$,onNodeDoubleClick:C,onNodeDragStart:N,onNodeDrag:_,onNodeDragStop:S,nodeTypes:mn,edgeTypes:gn,connectionMode:E,connectionLineType:R,connectionLineStyle:D,connectionLineComponent:z,selectionKeyCode:U,onElementsRemove:f,deleteKeyCode:K,multiSelectionKeyCode:G,zoomActivationKeyCode:Z,onConnect:m,onConnectStart:x,onConnectStop:p,onConnectEnd:h,snapToGrid:I,snapGrid:ge,onlyRenderVisibleElements:ne,nodesDraggable:be,nodesConnectable:te,elementsSelectable:V,selectNodesOnDrag:se,minZoom:Le,maxZoom:Ge,defaultZoom:we,defaultPosition:Ce,translateExtent:_e,preventScrolling:je,nodeExtent:X,arrowHeadColor:qe,markerEndId:ze,zoomOnScroll:Ze,zoomOnPinch:Ve,zoomOnDoubleClick:ee,panOnScroll:Qe,panOnScrollSpeed:Ke,panOnScrollMode:B,paneMoveable:ke,onPaneClick:$e,onPaneScroll:F,onPaneContextMenu:M,onSelectionDragStart:w,onSelectionDrag:L,onSelectionDragStop:k,onSelectionContextMenu:H,onEdgeUpdate:ce,onEdgeContextMenu:Re,onEdgeDoubleClick:oe,onEdgeMouseEnter:he,onEdgeMouseMove:ve,onEdgeMouseLeave:Je,onEdgeUpdateStart:nt,onEdgeUpdateEnd:xt,edgeUpdaterRadius:un}),A&&i(Ad,{onSelectionChange:A}),ie]})}))});hs.displayName="ReactFlow";const ps=({x:e,y:t,width:n,height:o,style:r,color:s,strokeColor:c,strokeWidth:a,className:d,borderRadius:f,shapeRendering:m})=>{const{background:x,backgroundColor:p}=r||{},h=s||x||p;return i("rect",{className:Ie(["react-flow__minimap-node",d]),x:e,y:t,rx:f,ry:f,width:n,height:o,fill:h,stroke:c,strokeWidth:a,shapeRendering:m})};ps.displayName="MiniMapNode";var Id=l.exports.memo(ps);const Md=200,Od=150,ms=({style:e,className:t,nodeStrokeColor:n="#555",nodeColor:o="#fff",nodeClassName:r="",nodeBorderRadius:s=5,nodeStrokeWidth:c=2,maskColor:a="rgb(240, 242, 243, 0.7)"})=>{const d=v(I=>I.width),f=v(I=>I.height),[m,x,p]=v(I=>I.transform),h=v(I=>I.nodes),y=Ie(["react-flow__minimap",t]),g=(e==null?void 0:e.width)||Md,b=(e==null?void 0:e.height)||Od,$=o instanceof Function?o:()=>o,C=n instanceof Function?n:()=>n,N=r instanceof Function?r:()=>r,_=h&&h.length,S=Go(h),A={x:-m/p,y:-x/p,width:d/p,height:f/p},w=_?Nl(S,A):A,L=w.width/g,k=w.height/b,H=Math.max(L,k),E=H*g,R=H*b,D=5*H,z=w.x-(E-w.width)/2-D,K=w.y-(R-w.height)/2-D,U=E+D*2,G=R+D*2,Z=typeof window=="undefined"||!!window.chrome?"crispEdges":"geometricPrecision";return T("svg",{width:g,height:b,viewBox:`${z} ${K} ${U} ${G}`,style:e,className:y,children:[h.filter(I=>!I.isHidden).map(I=>i(Id,{x:I.__rf.position.x,y:I.__rf.position.y,width:I.__rf.width,height:I.__rf.height,style:I.style,className:N(I),color:$(I),borderRadius:s,strokeColor:C(I),strokeWidth:c,shapeRendering:Z},I.id)),i("path",{className:"react-flow__minimap-mask",d:`M${z-D},${K-D}h${U+D*2}v${G+D*2}h${-U-D*2}z
        M${A.x},${A.y}h${A.width}v${A.height}h${-A.width}z`,fill:a,fillRule:"evenodd"})]})};ms.displayName="MiniMap";l.exports.memo(ms);const Dd=(e,t,n)=>i("path",{stroke:n,strokeWidth:t,d:`M${e/2} 0 V${e} M0 ${e/2} H${e}`}),Ld=(e,t)=>i("circle",{cx:e,cy:e,r:e,fill:t}),Rd={[rt.Dots]:"#81818a",[rt.Lines]:"#eee"},gs=({variant:e=rt.Dots,gap:t=15,size:n=.4,color:o,style:r,className:s})=>{const[c,a,d]=v($=>$.transform),f=l.exports.useMemo(()=>`pattern-${Math.floor(Math.random()*1e5)}`,[]),m=Ie(["react-flow__background",s]),x=t*d,p=c%x,h=a%x,y=e===rt.Lines,g=o||Rd[e],b=y?Dd(x,n,g):Ld(n*d,g);return T("svg",{className:m,style:P(u({},r),{width:"100%",height:"100%"}),children:[i("pattern",{id:f,x:p,y:h,width:x,height:x,patternUnits:"userSpaceOnUse",children:b}),i("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${f})`})]})};gs.displayName="Background";var Bd=l.exports.memo(gs);const xs=({children:e})=>{const t=l.exports.useMemo(()=>Ur(Bn),[]);return i(vo,{store:t,children:e})};xs.displayName="ReactFlowProvider";const Jt=re("div",{display:"flex",flexDirection:"column",variants:{align:{start:{alignItems:"flex-start"},center:{alignItems:"center"},end:{alignItems:"flex-end"},stretch:{alignItems:"stretch"}},justify:{start:{justifyContent:"flex-start"},center:{justifyContent:"center"},end:{justifyContent:"flex-end"},between:{justifyContent:"space-between"}}},defaultVariants:{align:"stretch",justify:"start"}}),He=re("button",{alignItems:"center",appearance:"none",borderWidth:"0",boxSizing:"border-box",display:"inline-flex",flexShrink:0,fontSize:"14px",justifyContent:"center",lineHeight:"1",outline:"none",padding:"0",textDecoration:"none",userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer",color:"$hiContrast",backgroundColor:"$loContrast",border:"1px solid $slate7","@hover":{"&:hover":{borderColor:"$slate8"}},"&:active":{backgroundColor:"$slate2"},"&:focus":{borderColor:"$slate8",boxShadow:"0 0 0 1px $colors$slate8"},"&:disabled":{pointerEvents:"none",backgroundColor:"transparent",color:"$slate6"},variants:{size:{1:{borderRadius:"$4",size:"25px"}},variant:{ghost:{backgroundColor:"transparent",borderWidth:"0","@hover":{"&:hover":{backgroundColor:"$slateA3"}},"&:focus":{boxShadow:"inset 0 0 0 1px $colors$slateA8, 0 0 0 1px $colors$slateA8"},"&:active":{backgroundColor:"$slateA4"},'&[data-radix-popover-trigger][data-state="open"], &[data-radix-dropdown-menu-trigger][data-state="open"]':{backgroundColor:"$slateA4"}}},state:{active:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)"}},"&:active":{backgroundColor:"$slate4"}},waiting:{backgroundColor:"$slate4",boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)","@hover":{"&:hover":{boxShadow:"inset 0 0 0 1px hsl(206,10%,76%)"}},"&:active":{backgroundColor:"$slate4"}}}},defaultVariants:{size:"1",variant:"ghost"}});function Xt(o){var r=o,{children:e,content:t}=r,n=pe(r,["children","content"]);return T(Ha,{children:[i(Ua,{asChild:!0,children:e}),T(Hd,P(u({sideOffset:3},n),{children:[t,i(Pd,{css:{color:"$transparentPanel"},children:i(Fa,{offset:7,width:11,height:5,style:{fill:"currentColor"}})})]}))]})}const Pd=re("div"),Hd=re(Pa,{backgroundColor:"$transparentPanel",borderRadius:"$4",padding:"$4 $8",color:"$loContrast",font:"$detail"});function Ud({fitViewParams:e,onZoomIn:t,onZoomOut:n,onFitView:o,onInteractiveChange:r}){const[s,c]=l.exports.useState(!1),{zoomIn:a,zoomOut:d,fitView:f}=os(),m=l.exports.useCallback(()=>{a==null||a(),t==null||t()},[a,t]),x=l.exports.useCallback(()=>{d==null||d(),n==null||n()},[d,n]),p=l.exports.useCallback(()=>{f==null||f(e),o==null||o()},[f,e,o]);return l.exports.useEffect(()=>{c(!0)},[]),s?T(Jt,{css:{position:"absolute",zIndex:5,bottom:10,left:10},children:[i(Xt,{content:"Zoom in",side:"right",align:"center",children:i(He,{onClick:m,children:i(Wa,{})})}),i(Xt,{content:"Zoom out",side:"right",align:"center",children:i(He,{onClick:x,children:i(Ga,{})})}),i(Xt,{content:"Fit view",side:"right",align:"center",children:i(He,{onClick:p,children:i(ja,{})})})]}):null}function Fd({initialState:e,topUI:t,children:n,nodeTypes:o,onDoubleClick:r,onKeyDown:s}){return i(ru,{initialState:e,children:T(jd,{onKeyDown:s,children:[i(xs,{children:i(qd,{nodeTypes:o,onDoubleClick:r,onKeyDown:s,children:t})}),i("div",{style:{flexGrow:1,maxHeight:"50%",position:"relative"},children:n})]})})}const Wd=re("div"),Gd={MAC:{panOnScroll:!0,paneMoveable:!1},WINDOWS:{}};function jd({children:e,onKeyDown:t}){const n=Nt(),o=Oe(),r=l.exports.useRef(null);l.exports.useLayoutEffect(()=>{if(r.current!=null){const c=r.current;o(a=>{const[d,f]=c;if(or(a,d).height!=null){const m=Et(a,d);f(a,m)}}),r.current=null}},[n,o]);const s=l.exports.useCallback(c=>{c!=null&&(r.current=c)},[]);return T(Mn.Provider,{value:s,children:[i("div",{style:{display:"flex",flexDirection:"column",height:"100%"},onKeyDown:c=>{o(a=>{if(c.key==="Backspace"){if(_n(a)===0)return;const f=In(ue(a),m=>Pe(a,m)).map(m=>kn(a,m)).map(m=>{const x=me(m),p=zt(a,x),h=Uo(m),y=jt(a,h);return m.forEach(g=>jl(a,g)),p!=null&&(Tn(a,p,y),et(a,p)),p});ye(a,f.filter(m=>m!=null))}else c.key==="ArrowUp"||c.key==="ArrowDown"?ye(a,ue(a).map(c.key==="ArrowUp"?d=>{var f;return(f=zt(a,d))!=null?f:d}:d=>{var f;return(f=rr(a,d))!=null?f:d}).filter(d=>d!=null)):s(t(a,c))})},children:e})," "]})}function qd({children:e,nodeTypes:t,onDoubleClick:n}){const o=Oe(),r=Tt(),s=l.exports.useContext(Mn),c=l.exports.useCallback(a=>{const d=(a!=null?a:[]).filter(f=>f.source==null);o(f=>{Sl(d.map(Y),Array.from(f.selectedNodeIDs))||ye(f,d)})},[o]);return i(Wd,{css:{height:"65%",borderBottom:"1px solid $slate7",outline:"none"},tabIndex:"-1",onDoubleClick:a=>{o(d=>{s(n(d,wl(r,{x:a.clientX,y:a.clientY})))})},children:T(hs,P(u({nodeTypes:t,edgeTypes:zd,onSelectionChange:c,zoomOnDoubleClick:!1},Gd.MAC),{onEdgeUpdate:(a,{source:d,target:f})=>{o(m=>{Xo(m,a),Yo(m,le(d),le(f))})},children:[i("div",{style:{position:"absolute",padding:4,zIndex:5,transform:"translate(-50%, 0)",top:0,left:"50%"},children:e}),i(Ud,{showInteractive:!1}),i(Bd,{color:"#aaa",gap:16})]}))})}const zd={tight:function(){return i(ae,{})}};function Zd(e){const[t,n]=xu();return l.exports.useEffect(()=>{document.documentElement.classList.toggle(lu.className,t==="dark"),document.documentElement.style.setProperty("color-scheme",t)},[t]),i(Xt,{content:"Toggle theme",side:"bottom",align:"end",children:i(He,P(u({onClick:()=>{n(t==="dark"?"light":"dark")}},e),{"aria-label":"toggle a light and dark color scheme",children:i(qa,{})}))})}const Te=re("div",{display:"flex",flexDirection:"row",variants:{align:{start:{alignItems:"flex-start"},center:{alignItems:"center"},end:{alignItems:"flex-end"},stretch:{alignItems:"stretch"}},justify:{start:{justifyContent:"flex-start"},center:{justifyContent:"center"},end:{justifyContent:"flex-end"},between:{justifyContent:"space-between"}}},defaultVariants:{align:"stretch",justify:"start"}});function Vd(e){return T(bu,{children:[T(Te,{align:"center",css:{position:"absolute",top:"$20",right:"$20",zIndex:100},children:[e.topRightUI,i(Zd,{})]}),i(Fd,u({},e))]})}function Qd(e){return new Map(Object.entries(e))}const{state:to,useSetState:no,provider:Kd}=ir({source:null,editorConfig:{tableExists(){return!1},tableColumns(){return[]}}});function Yt(){return l.exports.useContext(to.editorConfig)}function tt(){const e=ut(),t=Yt();return l.exports.useMemo(()=>P(u({},e),{editorConfig:t}),[e,t])}const Jd={".cm-content":{caretColor:"$hiContrast"},".cm-cursor, .cm-dropCursor":{borderLeftColor:"$hiContrast"},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:"$slate7"},".cm-activeLine":{backgroundColor:"$slate2"},".cm-selectionMatch":{backgroundColor:"$slate4"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:"1px solid $slate5"},".cm-tooltip":{border:"none",background:"$slate7",padding:"$4",borderRadius:"$4"},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-editor .cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{whiteSpace:"nowrap",overflow:"hidden auto",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},".cm-tooltip-autocomplete ul li[aria-selected]":{background:"$slate10",color:"$loContrast",borderRadius:"2px"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionMatchedText":{fontWeight:"bold"},".cmt-comment":{color:"$slate11"},".cmt-operator":{color:"$blue11"},".cmt-keyword":{color:"$violet11"},".cmt-string, .cmt-string2":{color:"$green11"},".cmt-number":{color:"$amber11"}};function Xd({extensions:e,displayValue:t,autoFocus:n,label:o,value:r,onChange:s}){const[c,a]=l.exports.useState(null),[d,f]=l.exports.useState((n!=null?n:!1)&&r===""?"":null),m=l.exports.useRef(),x=l.exports.useCallback($=>{f(null),s($)},[s]),p=Ne(),h=p==null?void 0:p.id;ef(h,d),tf(m,d,x),nf(m,d),Yd(r,d,f);const y=Oe(),g=l.exports.useCallback($=>{y(C=>{ye(C,[le(h)])}),a({x:$.clientX,y:$.clientY}),f(r!=null?r:"")},[r,h,y]),b=(t!=null?t:r)==="";return T("div",{style:{display:"inline-block"},children:[o!=null?i(of,{children:o}):null,d!=null?i(bs,{css:{borderWidth:"0 0 1px 0",minWidth:"100px",cursor:"text"},extensions:e,click:c,ref:m,value:d,editable:!0,onMouseDown:oo,onTouchStart:oo,onChange:f,onConfirm:x,onKeyDown:oo}):i(bs,{css:{borderWidth:b?"0 0 1px 0":"0",cursor:"pointer",minWidth:b?"100px":void 0},extensions:e,ref:m,editable:!1,value:t!=null?t:r,onClick:g})]})}function oo(e){e.stopPropagation()}function Yd(e,t,n){const[o,r]=l.exports.useState(e);e!==o&&(e!==""&&t!=null&&n(null),r(e))}function ef(e,t){const n=Oe();l.exports.useEffect(()=>{e!=null&&n(o=>{de(o,le(e)).edited=t!=null})},[t,e,n])}function tf(e,t,n){l.exports.useEffect(()=>{const o=r=>{var s;t!=null&&!((s=e.current)==null?void 0:s.container.contains(r.target))&&n(t)};return document.addEventListener("mouseup",o),()=>{document.removeEventListener("mouseup",o)}},[e,t,n])}function nf(e,t){l.exports.useEffect(()=>{var n;t==null&&((n=e.current)==null?void 0:n.view)!=null&&(tl(e.current.view),e.current.container.closest(".react-flow__node").focus())},[t,e])}function of(e){return i("span",{style:{fontSize:12},children:e.children})}const bs=l.exports.forwardRef(function(t,n){const b=t,{css:o,value:r,extensions:s,onChange:c,onConfirm:a,editable:d,click:f}=b,m=pe(b,["css","value","extensions","onChange","onConfirm","editable","click"]),x=l.exports.useRef(null),{state:p,view:h,container:y,setContainer:g}=rf({container:x.current,value:r,extensions:s,onChange:c,onConfirm:a,editable:d,click:f});if(l.exports.useImperativeHandle(n,()=>({container:y,state:p,view:h}),[y,p,h]),l.exports.useEffect(()=>(g(x.current),()=>{h&&h.destroy()}),[]),typeof r!="string")throw new Error(`value must be typeof string but got ${typeof r}`);return i(Ee,u({css:u(P(u({borderWidth:0},o),{borderStyle:"solid",borderColor:"$blue9"}),Jd),ref:x},m))});function rf(e){const{value:t,extensions:n,onChange:o,onConfirm:r,editable:s,click:c}=e,[a,d]=l.exports.useState(e.container),[f,m]=l.exports.useState(),[x,p]=l.exports.useState(),h=l.exports.useRef();h.current=s;const y=Lt.updateListener.of($=>{if($.docChanged&&typeof o=="function"&&h.current){const N=$.state.doc.toString();o(N,$)}}),g=za();let b=[...n,Io.allowMultipleSelections.of(!0),s?Za():[],Va({position:"absolute"}),g.slice(0,-1),Qa.of([{key:"Mod-Enter",run:$=>{Ka($);const N=$.state.doc.toString();r(N)}},...Ja.filter(({key:$})=>$!=="Mod-Enter")]),y,af,Xa,Lt.editable.of(s)];return l.exports.useEffect(()=>{if(a&&!x){const $=Io.create({doc:t,extensions:b});if(p($),!f){const C=new Lt({state:$,parent:a});m(C)}}},[a,x]),l.exports.useEffect(()=>()=>{f&&f.destroy()},[f]),l.exports.useEffect(()=>{if(f){const $=f.state.doc.toString();t!==$&&f.dispatch({changes:{from:0,to:$.length,insert:t||""}})}},[t,f]),l.exports.useEffect(()=>{f&&f.dispatch({effects:Ya.reconfigure.of(b)})},[n,s]),l.exports.useEffect(()=>{s&&f!=null&&sf(f,c)},[s,f,c]),{state:x,setState:p,view:f,setView:m,container:a,setContainer:d}}function sf(e,t){var o;const n=(o=cf(e,t))!=null?o:0;e.focus(),e.dispatch({selection:el.cursor(n)})}function cf(e,t){return t==null?null:e.posAtCoords(t)}const af=Lt.theme({"&.cm-editor.cm-focused":{outline:"none"},"& .cm-scroller":{fontFamily:"inherit",overflowX:"visible"},"& .cm-content":{padding:"0"},"& .cm-line":{padding:0}});function Ue(n){var o=n,{schema:e}=o,t=pe(o,["schema"]);return i(Xd,P(u({},t),{extensions:[lf({dialect:Rt,schema:e})]}))}function lf(e){return new nl(e.dialect.language,[ol(e)])}function uf({style:e,trigger:t,children:n}){const[o,r]=l.exports.useState(!1);return T(ae,{children:[i("div",{style:e,onMouseEnter:()=>r(!0),children:t}),o?i("div",{onMouseLeave:()=>r(!1),children:n}):null]})}function df({hideControls:e,children:t,type:n,useControls:o,useHasProblem:r}){const s=Ne(),c=r(),a=ut();return T("div",{children:[T(hf,{isHighlighted:s.highlight,isSelected:s.selected,hasProblem:c,children:[t,n!=="output"?i(dt,{style:$s(Fl(a,s)),type:"target",position:"left"}):null,i(dt,{style:$s(Gl(a,s)),type:"source",position:"right"})]}),i(Ee,{css:{position:"absolute",left:"100%",top:"100%",transform:"translate(-100%, -30%)"},children:Ol(s)}),i(ff,{hideControls:e,useControls:o})]})}function $s(e){return{visibility:e?"visible":"hidden"}}function ff({hideControls:e,useControls:t}){const n=Ne(),o=ut(),r=t(n);if(r==null||n.edited||n.isDragging)return null;const s=n.selected,c=!Wl(o,n),a=i("div",{style:{position:"absolute",top:"calc(100% + 4px)",left:0},children:i(Te,{children:r})});return(e!=null?e:!1)||!s?null:c?a:i(uf,{style:{position:"absolute",top:"50%",left:0,transform:"translate(-100%, -50%)"},trigger:i(He,{children:i(_o,{})}),children:a})}const hf=re("div",{cursor:"move",background:"$slate1",borderRadius:"8px",border:"1px solid $slate7",padding:"2px 8px",variants:{isSelected:{true:{borderColor:"$blue9",boxShadow:"0 0 0 0.5px $colors$blue9"}},isHighlighted:{true:{borderBottomColor:"$amber9"}},hasProblem:{true:{borderColor:"$red9",boxShadow:"0 0 0 0.5px $colors$red9"}}},compoundVariants:[{isSelected:!0,hasProblem:!0,css:{borderColor:"$pink9",boxShadow:"0 0 0 0.5px $colors$pink9"}}]});function Ae(){return i(Ee,{css:{minWidth:"2px"}})}function ft({hideControls:e,type:t,children:n}){return i(df,{hideControls:e,type:t,useControls:pf,useHasProblem:mf,children:n})}function pf(){const e=ut();if(_n(e)>2)return null;const t=_n(e)===2,n=t&&!zl(e,...ue(e));return t&&!n?null:n?i(xf,{}):i(ae,{children:i(gf,{})})}function mf(){const e=ut(),t=Yt(),n=Ne();return th(P(u({},e),{editorConfig:t}),n)}function gf(){return i(ae,{children:Me(ti,({label:e},t)=>T(l.exports.Fragment,{children:[i(Rn,{onAdd:ys(t),children:e}),i(Ae,{})]},t))})}function ys(e){return du(an(e))}function xf(){return i(Rn,{onAdd:mu(an("join")),children:"JOIN"})}function bf(){return i(Rn,{onAdd:hu(an("from")),children:"FROM"})}function $f(){const e=Ne(),t=ht(e),n=Se(e),{schema:o}=Yt();return T(ft,{hideControls:t.length===0,type:"output",children:["FROM"," ",i(Ue,{autoFocus:!0,schema:o,value:t,onChange:r=>{n(s=>{Es(s,r)})}})]})}const Ss={Component:$f,emptyNodeData:yf,results(e,t){return ht(t)===""?i(Ef,{node:t}):null},hasProblem(e,t){return ht(t)!==""&&!Sf(e,t)},query(e,t){const n=ht(t);return n.length>0?`SELECT * from ${n}`:null},queryAdditionalTables(e,t){return null},querySelectable(e,t){return Ss.query(e,t)},columnNames(e,t){return new Set(e.editorConfig.tableColumns(ht(t)))},ColumnControl({columnName:e}){return e}};function yf(){return{name:""}}function ht(e){return e.data.name}function Sf(e,t){return e.editorConfig.tableExists(ht(t))!=null}function Es(e,t){e.data.name=t}function Ef({node:e}){const{schema:t}=Yt(),n=Se(e),o=Object.keys(t);return o.sort(),T("table",{children:[i("thead",{children:T("tr",{children:[i("th",{children:"Table"}),i("th",{children:"Columns"})]})}),i("tbody",{children:o.map(r=>T("tr",{children:[i("td",{children:i(De,{css:{marginVert:"2px"},onClick:()=>{n(s=>{Es(s,r)})},children:r})}),i("td",{children:t[r].join(", ")})]},r))})]})}function ws({css:e,trigger:t,children:n}){const[o,r]=l.exports.useState(!1);return T("div",{style:{position:"relative"},children:[i("div",{onClick:()=>r(!0),children:t}),o?i(Ee,{css:e,onMouseLeave:()=>r(!1),children:n}):null]})}function _t(e,t){const n=Q(J(e,t));return n==null?{}:tu(fe(e,n),()=>[])}function en(e,t){return e.join(","+(/\n/.test(t)?`
`:" "))+(/,\s*$/.test(t)?",":"")}function ro(e){return e.replace(/,\s*$/,"")}function Cs([e,t]){return t!=null?`${e} AS ${t}`:e}function Ns([e,t],n){const o=tn([e,t],n);return o===e?o:`${e} AS ${o}`}function tn([e,t],n){return t!=null?t:/^\w+$/.test(e)?e:wf(e,n)}function wf(e,t){const n=e.replace(/\W+/g," ").trim().replace(/\s+/g,"_").toLowerCase();return n!==""?n:"_"+(t+1)}function Ts(e){return pt(e).map(me)}function pt(e){let t=[];const n=Rt.language.parser.parse(e).cursor();if(n.firstChild(),n.firstChild(),n.name==="Script")return t;let o="",r=null;do if(!(n.name==="LineComment"||n.name==="BlockComment")){if(n.name==="Keyword"&&/^as$/i.test(kt(n,e))){n.nextSibling(),r=kt(n,e);continue}if(n.name==="Punctuation"&&(t.push([o,r]),o="",r=null,!n.nextSibling()))break;o!==""&&e[n.from-1]===" "&&(o+=" "),o+=kt(n,e)}while(n.nextSibling());return o!==""&&t.push([o,r]),t}function As(e){let t=[];const n=Rt.language.parser.parse(e).cursor();if(n.firstChild(),n.firstChild(),n.name==="Script")return t;let o="",r="";do if(!(n.name==="LineComment"||n.name==="BlockComment")){if(n.name==="Keyword"&&/^asc|desc$/i.test(kt(n,e))&&(r=o,o=""),n.name==="Punctuation"&&(t.push(r.length>0?[r,o]:[o,""]),r="",o="",!n.nextSibling()))break;o!==""&&e[n.from-1]===" "&&(o+=" "),o+=kt(n,e)}while(n.nextSibling());return o!==""&&t.push(r.length>0?[r,o]:[o,""]),t}function kt(e,t,n=0){return t.substring(e.from+n,e.to-n)}function Cf(){const e=Ne(),t=Se(e),n=tt();return T(ft,{children:["GROUP BY"," ",i(Ue,{displayValue:Fe(e)?null:"\u2205",schema:_t(n,e),value:nn(e),onChange:o=>{t(r=>{io(r,o)})}}),T(Ee,{css:{color:Fe(e)?void 0:"$slate11"},children:["SELECT"," ",i(Ue,{displayValue:Af(e)?null:"*",schema:_t(n,e),value:rn(e),onChange:o=>{t(r=>{Ms(r,o)})}})]})]})}const _s={Component:Cf,emptyNodeData:Tf,hasProblem(e,t){return!1},query(e,t){const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);return Fe(t)?Rs(t,rn(t),o):`SELECT * from (${o})`},queryAdditionalTables(e,t){const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);if(!Fe(t))return null;const r=ct(fe(e,n),vs(t));return r.length===0?null:[`SELECT ${r.join(",")} FROM (${o})`]},querySelectable(e,t){if(!Fe(t))return _s.query(e,t);const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);return Rs(t,vt(t).map(Ns).join(","),o)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:Fe(t)?new Set(vt(t).map(tn)):fe(e,n)},ColumnControl({node:e,columnName:t,isPrimary:n}){const o=Se(e),r=n&&Fe(e);return!r||so(e,t)||Is(e,t)?T(Te,{align:"center",children:[i("input",{checked:r&&Is(e,t),style:{cursor:"pointer"},type:"checkbox",onChange:c=>{o(a=>{r&&!so(a,t)?Ds(a,t):_f(a,t)})}}),i(Ae,{}),i(Ae,{}),t,!n&&Fe(e)?i(Nf,{onChange:c=>{o(a=>{Os(a,ks[c](t))})}}):null]}):t}};function Nf({onChange:e}){return i(ws,{css:{position:"absolute",top:"100%",background:"$slate7",padding:"$4",borderRadius:"$4"},trigger:i(He,{children:i(Mo,{})}),children:i(Jt,{children:Object.keys(ks).map(t=>i(De,{css:{marginTop:"$4"},onClick:()=>e(t),children:t},t))})})}const ks={"COUNT DISTINCT":e=>`COUNT(DISTINCT ${e})`,AVG:e=>`AVG(${e})`,MIN:e=>`MIN(${e})`,MAX:e=>`MAX(${e})`};function Tf(){return{groupedBy:"",aggregations:""}}function Fe(e){return on(e).length>0}function nn(e){return e.data.groupedBy}function on(e){return Ts(nn(e))}function vs(e){return new Set(on(e))}function so(e,t){return vs(e).has(t)}function rn(e){return e.data.aggregations}function Af(e){return e.data.aggregations!==""}function Is(e,t){return vt(e).find(([n,o])=>n===t||o===t)!=null}function io(e,t){e.data.groupedBy=t}function Ms(e,t){e.data.aggregations=t}function _f(e,t){so(e,t)?vf(e,t):kf(e,t)}function kf(e,t){io(e,[...on(e),t].join(", ")),Os(e,t)}function vf(e,t){io(e,en(on(e).filter(n=>n!==t),nn(e))),Ds(e,t)}function Os(e,t){Ls(e,vt(e).concat(pt(t)))}function Ds(e,t){Ls(e,vt(e).filter(([n,o])=>n!==t&&o!==t))}function Ls(e,t){Ms(e,en(t.map(Cs),rn(e)))}function vt(e){return pt(rn(e))}function Rs(e,t,n){return`SELECT ${t===""?"*":ro(t)}
    FROM (${n})
    GROUP BY ${ro(nn(e))}`}function Bs(e,t){return new Set(ct(e,t))}function Ps({checked:e,onChange:t}){return i("input",{checked:e,style:{cursor:"pointer"},type:"checkbox",onChange:t})}function If(){const e=Ne(),t=mt(e),n=Se(e),o=tt();return T(ft,{children:[i(Ue,{value:Us(e),onChange:r=>{n(s=>{Lf(s,r)})}})," ","ON"," ",i(Ue,{displayValue:Hs(e)?null:"\u2205",schema:Ff(o,e),value:t,onChange:r=>{n(s=>{co(s,r)})}})]})}const Mf={Component:If,emptyNodeData:Df,hasProblem(e,t){return J(e,t).length!==2},query(e,t){const n=J(e,t),[o,r]=n,s=sn(t),c=ct(o!=null?fe(e,o):new Set,new Set(s.map(me))),a=ct(r!=null?fe(e,r):new Set,new Set(s.map(Ho)));return zs(e,t,o,r,s.length>0?s.map(me).map(d=>"a."+d).concat(c.map(d=>"a."+d),a.map(d=>"b."+d)).join(","):"a.*, b.*")},queryAdditionalTables(e,t){return null},querySelectable(e,t){const n=J(e,t),[o,r]=n,s=n.map(c=>fe(e,c));return zs(e,t,o,r,Pf(t,s).join(","))},columnNames(e,t){const o=J(e,t).map(r=>fe(e,r));return Hf(t,o)},ColumnControl({node:e,columnName:t,isPrimary:n,columnIndex:o}){const r=tt(),s=Se(e),c=sn(e),a=J(r,e),d=ct(fe(r,me(a)),new Set(c.map(me))),f=o<c.length,m=o<c.length+d.length,x=(f?"":(m?"a":"b")+".")+t;return T(Te,{align:"center",children:[f?T(ae,{children:[i(Ps,{checked:!0,onChange:()=>{s(p=>{Bf(p,t)})}}),i(Ae,{}),i(Ae,{})]}):null,x,f?null:i(Of,{columns:Me(fe(r,(m?Ho:me)(J(r,e))),p=>(m?"b":"a")+"."+p),onChange:p=>{s(h=>{Rf(h,`${x} = ${p}`)})}})]})}};function Of({columns:e,onChange:t}){return i(ws,{css:{position:"absolute",top:"100%",background:"$slate7",padding:"$4",borderRadius:"$4"},trigger:i(He,{children:i(Mo,{})}),children:i(Jt,{children:e.map(n=>i(De,{css:{marginTop:"$4"},onClick:()=>t(n),children:n},n))})})}function Df(){return{type:"JOIN",where:""}}function Hs(e){return mt(e).length>0}function Us(e){return e.data.type}function mt(e){return e.data.where}function Lf(e,t){e.data.type=t}function co(e,t){e.data.where=t}function Rf(e,t){co(e,mt(e)===""?t:`${mt(e)} AND ${t}`)}function Bf(e,t){co(e,Uf(js(e).filter(n=>{const o=qs(n);if(o==null)return!0;const[r]=o;return r!==t})))}function Pf(e,t){const n=sn(e),o=t.map((r,s)=>Bs(r,new Set(n.map(c=>c[s]))));return n.map(me).map(r=>Fs(0,r)).concat(...o.map((r,s)=>Me(r,c=>{var a;return`${Fs(s,c)}${((a=o[Gs(s)])!=null?a:new Set).has(c)?` as ${Ws(s,c)}`:""}`})))}function Hf(e,t){const n=sn(e),o=t.map((r,s)=>Bs(r,new Set(n.map(c=>c[s]))));return new Set(n.map(me).concat(...o.map((r,s)=>Me(r,c=>{var a;return((a=o[Gs(s)])!=null?a:new Set).has(c)?Ws(s,c):c}))))}function Fs(e,t){return`${ao(e)}.${t}`}function Ws(e,t){return`${t}_${ao(e)}`}function ao(e){return e===0?"a":"b"}function Gs(e){return e===0?1:0}function sn(e){return js(e).map(qs).filter(t=>t!=null)}function js(e){return mt(e).split(/\s+AND\s+/)}function Uf(e){return e.join(" AND ")}function qs(e){const t=e.match(/a\.(\w+)\s*=\s*b\.(\w+)/);if(t==null)return null;const[,n,o]=t;return[n,o]}function zs(e,t,n,o,r){return`SELECT ${r} FROM (${n!=null?xe(e,n):null}) AS a
  ${Us(t)} (${o!=null?xe(e,o):null}) AS b ${Hs(t)?`ON ${mt(t)}`:""}`}function Ff(e,t){const n=J(e,t);return nu(n.map(o=>fe(e,o)).map((o,r)=>[ao(r),Array.from(o)]))}function Wf(){const e=Ne(),t=Se(e),n=tt();return T(ft,{children:["SELECT"," ",i(Ue,{displayValue:lo(e)?null:"*",schema:_t(n,e),value:It(e),onChange:o=>{t(r=>{Vs(r,o)})}})]})}const Gf={Component:Wf,emptyNodeData:jf,hasProblem(e,t){return Q(J(e,t))==null},query(e,t){const n=Q(J(e,t)),o=n==null?null:xe(e,n);return uo(It(t),o)},queryAdditionalTables(e,t){const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);if(!lo(t))return null;const r=ct(fe(e,n),new Set(Mt(t).map(tn)));return r.length===0?null:[uo(r.join(","),o)]},querySelectable(e,t){const n=Q(J(e,t)),o=n==null?null:xe(e,n);return uo(Mt(t).map(Ns).join(","),o)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:lo(t)?new Set(Mt(t).map(tn)):fe(e,n)},ColumnControl({node:e,columnName:t}){const n=Se(e);return T(Te,{align:"center",children:[i(Ps,{checked:Zs(e,t),onChange:()=>{n(o=>{Zf(o,t)})}}),i(Ae,{}),i(Ae,{}),t,i(Ae,{})]})}};function jf(){return{selected:""}}function It(e){return e.data.selected}function qf(e){return Ts(It(e))}function zf(e){return new Set(qf(e))}function Mt(e){return pt(It(e))}function lo(e){return Mt(e).length>0}function Zs(e,t){return zf(e).has(t)}function Vs(e,t){e.data.selected=t}function Zf(e,t){const n=Mt(e);Vs(e,en((Zs(e,t)?n.filter(([o,r])=>o!==t&&r!==t):n.concat(pt(t))).map(Cs),It(e)))}function uo(e,t){return`SELECT ${e===""?"*":ro(e)} FROM (${t})`}function Vf(){const e=Ne(),t=cn(e),n=Se(e),o=tt();return T(ft,{children:["WHERE"," ",i(Ue,{displayValue:fo(e)?null:"\u2205",schema:_t(o,e),value:t,onChange:r=>{n(s=>{Kf(s,r)})}})]})}const Qs={Component:Vf,emptyNodeData:Qf,hasProblem(e,t){return!1},query(e,t){const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);return fo(t)?`SELECT * FROM (${o}) WHERE ${cn(t)}`:`SELECT * FROM (${o})`},queryAdditionalValues(e,t){const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);return fo(t)?`SELECT * FROM (${o}) WHERE NOT (${cn(t)})`:null},queryAdditionalTables(e,t){return null},querySelectable(e,t){return Qs.query(e,t)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:fe(e,n)},ColumnControl({columnName:e}){return e}};function Qf(){return{filters:""}}function fo(e){return cn(e).length>0}function cn(e){return e.data.filters}function Kf(e,t){e.data.filters=t}function Jf(){const e=Ne(),t=Se(e),n=tt();return T(ft,{children:["ORDER BY"," ",i(Ue,{displayValue:Js(e)?null:"\u2205",schema:_t(n,e),value:gt(e),onChange:o=>{t(r=>{Ys(r,o)})}})]})}const Ks={name:"OrderNode",Component:Jf,hasProblem(e,t){return!1},emptyNodeData:Xf,query(e,t){const n=Q(J(e,t));if(n==null)return null;const o=xe(e,n);return Js(t)?`SELECT * FROM  (${o})
    ORDER BY ${gt(t)}`:o},queryAdditionalTables(){return null},querySelectable(e,t){return Ks.query(e,t)},columnNames(e,t){const n=Q(J(e,t));return n==null?new Set:fe(e,n)},ColumnControl({node:e,columnName:t}){const n=Se(e);return T(Te,{children:[i(De,{onClick:()=>{n(o=>{Yf(o,t)})},children:(()=>{switch(Xs(e,t)){case"ASC":return"\u25B2";case"DESC":return"\u25BC";default:return"-"}})()}),i(Ae,{}),t]})}};function Xf(){return{by:""}}function Js(e){return pt(gt(e)).length>0}function gt(e){return e.data.by}function Xs(e,t){var o;const[,n]=(o=As(gt(e)).find(([r])=>r===t))!=null?o:[];return n}function Ys(e,t){e.data.by=t}function Yf(e,t){Ys(e,en(As(gt(e)).filter(([n])=>n!==t).concat((()=>{switch(Xs(e,t)){case"ASC":return[[t,"DESC"]];case"DESC":return[];default:return[[t,"ASC"]]}})()).map(n=>n.join(" ")),gt(e)))}const ei={from:Ss,join:Mf,select:Gf,where:Qs,group:_s,order:Ks},ti=Qd({where:{label:"WHERE",key:"w"},group:{label:"GROUP BY",key:"g"},select:{label:"SELECT",key:"s"},order:{label:"ORDER BY",key:"o"}});function ni(e){const t=ei[e];return gl(t!=null),t}function an(e){return{type:e,data:ni(e).emptyNodeData()}}function We(e){return ni(e.type)}function eh(e,t){var n,o;return(o=(n=We(t)).results)==null?void 0:o.call(n,e,t)}function th(e,t){return We(t).hasProblem(e,t)}function nh(e,t){return We(t).query(e,t)}function oh(e,t){return We(t).queryAdditionalTables(e,t)}function rh(e,t){var n,o;return(o=(n=We(t)).queryAdditionalValues)==null?void 0:o.call(n,e,t)}function xe(e,t){return We(t).querySelectable(e,t)}function fe(e,t){return We(t).columnNames(e,t)}function sh(e){return We(e).ColumnControl}function ih(n){var o=n,{children:e}=o,t=pe(o,["children"]);return T(cl,P(u({},t),{children:[i(ah,{}),e]}))}const ch=l.exports.forwardRef((o,n)=>{var r=o,{children:e}=r,t=pe(r,["children"]);return i(lh,P(u({},t),{ref:n,children:e}))}),ah=re(rl,{backgroundColor:"rgba(0, 0, 0, .15)",position:"fixed",zIndex:10,top:0,right:0,bottom:0,left:0}),lh=re(sl,{backgroundColor:"$panel",zIndex:11,borderRadius:"$3",boxShadow:"$colors$shadowLight 0px 10px 38px -10px, $colors$shadowDark 0px 10px 20px -15px",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",minWidth:200,maxHeight:"85vh",padding:"$4",marginTop:"-5vh",willChange:"transform","&:focus":{outline:"none"}}),uh=il,oi="V1";let ho=null;function dh(){const e=()=>{ho!=null&&ri(ho)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}function fh(e){ph(e),ho=e}function hh(){return window.localStorage.getItem(oi)}const ph=mh(ri,1e3);function ri(e){window.localStorage.setItem(oi,e)}function mh(e,t){let n=null,o=!1;return function(){let r=this,s=arguments;const c=function(){n=null,o&&(o=!1,e.apply(r,s))},a=n==null;clearTimeout(n),n=setTimeout(c,t),a?e.apply(r,s):o=!0}}function gh(e){return JSON.stringify(e,bh)}function xh(e){return JSON.parse(e,$h)}const ln="$%^";function bh(e,t){return t instanceof Map?{[ln]:"Map",value:Array.from(t.entries())}:t instanceof Set?{[ln]:"Set",value:Array.from(t.values())}:t}function $h(e,t){if(typeof t=="object"&&t!==null){if(t[ln]==="Map")return new Map(t.value);if(t[ln]==="Set")return new Set(t.value)}return t}var yh="/seaqull/assets/sql-wasm.19119b55.wasm";function po(e){return(async()=>{const t=await al({locateFile:r=>yh}),n=new t.Database(new Uint8Array(e)),o=Sh(n);return{db:n,schema:eu(o),tableExists:r=>o.has(r),tableColumns:r=>o.get(r)}})()}function Sh(e){return new Map(e.exec('SELECT name, sql FROM sqlite_schema WHERE type="table"')[0].values.map(([t,n])=>[t,Eh(n)]))}function Eh(e){let t=Rt.language.parser.parse(e).cursor();t.firstChild(),t.firstChild(),t.nextSibling(),t.nextSibling(),t.nextSibling(),t.firstChild();let n=[],o=!0;for(;t.nextSibling()&&!(t.name==="Keyword"&&/^foreign|constraint$/i.test(mo(t,e)));){if(o){const r=t.name==="Brackets";r&&(t.firstChild(),t.nextSibling()),n.push(mo(t,e,t.name==="QuotedIdentifier"||t.name==="String"?1:0)),r&&t.parent(),o=!1}t.name==="Punctuation"&&mo(t,e)===","&&(o=!0)}return n}function mo(e,t,n=0){return t.substring(e.from+n,e.to-n)}const wh=re(e=>{const r=e,{newtab:t,children:n}=r,o=pe(r,["newtab","children"]);return T("a",P(u(u({},t?{target:"_blank",rel:"noopener noreferrer"}:{}),o),{children:[n,t?i(ll,{style:{display:"inline",marginLeft:2,height:18,paddingBottom:3,verticalAlign:"bottom"}}):null]}))},{cursor:"pointer",alignItems:"center",flexShrink:0,outline:"none",textDecorationLine:"none",textUnderlineOffset:"3px",WebkitTapHighlightColor:"rgba(0,0,0,0)","@hover":{"&:hover":{textDecorationLine:"underline"}},"&:focus":{outlineWidth:"2px",outlineStyle:"solid",outlineOffset:"2px",textDecorationLine:"none",outlineColor:"$blue8"},color:"$blue11",textDecorationColor:"$blue4"});var Ch="/seaqull/assets/dvd_rental.d8ad20bd.db";function si({defaultOpen:e,children:t}){const[n,o]=l.exports.useState(e),r=()=>{o(!1)};return T(ih,{open:n,onOpenChange:o,children:[t,T(ch,{css:{padding:"$20",borderRadius:"$8"},children:[i("h1",{children:"Welcome to Seaqull(beta)!"}),i("br",{}),T("p",{children:["This is the SQLite version of"," ",i(wh,{href:"https://github.com/xixixao/seaqull",newtab:!0,children:"Seaqull"}),"."]}),i("p",{children:"Would you like to explore the example database or one of your own?"}),i("br",{}),T(Te,{children:[i(Nh,{onDone:r,children:"Example database"}),i(Ae,{}),i(Th,{onDone:r,children:"Open a database file"})]})]})]})}function Nh({onDone:e,children:t}){const n=no();return i(De,{onClick:()=>{(async()=>{const o=await po(await ii());n(r=>({editorConfig:o,source:{type:"example",name:"dvd_rental.db"}})),e()})()},children:t})}function Th({children:e,onDone:t}){const n=no();return i(De,{onClick:()=>{const o=document.createElement("input");o.type="file",o.addEventListener("change",()=>{(async()=>{const r=o.files[0],{name:s}=r,c=await po(await r.arrayBuffer());n(a=>({editorConfig:c,source:{type:"file",name:s}}))})(),t()}),o.click()},children:e})}async function ii(){return await(await fetch(Ch)).arrayBuffer()}function Ah(){return T(ae,{children:[i(kh,{}),i(_h,{})]})}function _h(){const e=Nt(),t=l.exports.useContext(to.source);return l.exports.useEffect(()=>{fh(gh({appState:e,source:t}))},[e,t]),l.exports.useEffect(()=>dh(),[]),null}function kh(){const[e,t]=l.exports.useState(!0),n=Oe(),o=no();return l.exports.useEffect(()=>{const r=xh(hh());if(r==null){t(null);return}const{appState:s,source:c}=r;(async()=>{if(n(()=>s),(c==null?void 0:c.type)==="example"){const a=await po(await ii());o(()=>({editorConfig:a,source:c}))}else t(null)})()},[n,o]),e==null?i(si,{defaultOpen:!0}):null}function vh(){return i(Ee,{css:{minHeight:"2px"}})}function Ih(e){return new Promise(function(t){setTimeout(t,e)})}function Mh(){var o;const e=ut(),t=ue(e),n=Q(t);return i(Te,{css:{overflow:"scroll",padding:"0 $8",maxHeight:"100%"},children:(o=n!=null?eh(e,n):null)!=null?o:i(Oh,{})})}function Oh(){const e=tt(),[t,n]=l.exports.useState(null),o=l.exports.useRef(),[r,s]=l.exports.useState(),[c,a]=l.exports.useState(!1);return l.exports.useEffect(()=>{var C;if(e.editorConfig.db==null)return;const d=ue(e),f=d.length>0,m=o.current!=null?nr(e,o.current):null;if(m==null&&!f){n(null);return}const x=(C=Q(d))!=null?C:m,p=d.length===1,h=(f?d:[x]).map(N=>(p?nh:xe)(e,N)).concat(p?oh(e,x):[]).filter(N=>N!=null).slice(0,2),y=[p?rh(e,x):null].filter(N=>N!=null);h.length>0&&a(!0);let g=!1;const b=e.editorConfig.db;return g?void 0:(a(!1),h.length>0&&(n({queries:h,tables:h.map(N=>li(b,N)),additionalValues:y.map(N=>li(b,N)).filter(N=>!(N instanceof go)),appState:e}),s(o!=null&&x!=null&&!Bt(x,o)),o.current=x),Ih(1e3).then(()=>{g||s(!1)}),()=>{g=!0})},[e]),c&&t==null?i("div",{style:{padding:12},children:"Loading..."}):t==null?null:i(Dh,{updated:r,state:t})}function Dh({updated:e,state:t}){const[n,o]=l.exports.useState("table"),r=i(Te,{justify:"end",children:i(De,{onClick:()=>{o(n==="table"?"sql":"table")},children:n==="table"?"SQL":"Results"})});return T(ae,{children:[i(Ee,{css:{display:"inline-flex",table:{animation:e?`${Lh} 1s ease-out`:null}},children:n==="table"?i(Rh,{state:t}):i(xo,{background:"$slate2",children:ui(t.queries[0])})}),i(Ee,{css:{paddingLeft:"$8",flexGrow:1},children:r}),i(Ee,{css:{padding:"$8",top:0,right:0,position:"absolute",background:"$panel",borderBottomLeftRadius:"$4"},children:r})]})}const Lh=au({from:{background:"$lime3"},to:{}}),Rh=l.exports.memo(function({state:{appState:t,tables:n,additionalValues:o}}){const r=Q(ue(t));if(n[0]instanceof go)return i(xo,{background:"$yellow3",label:"No results from:",children:n[0].sql});const s=n.find(c=>c instanceof ai);return s!=null?i(xo,{background:"$red3",label:s.error.toString()+" in:",children:s.sql}):n.map(({columns:c,values:a},d)=>{const f=d===0,m=o[d];return T(Hh,{css:{textAlign:"start",whiteSpace:"nowrap",th:{fontWeight:600,height:"36px"},color:f?null:"$slate11"},children:[i("thead",{children:i("tr",{children:c.map((x,p)=>i("th",{children:r==null?x:Bh(r,x,f,p)},p))})}),i(ci,{values:a}),m!=null?i(ci,{css:{color:"$slate11"},values:m.values}):null]},d)})});function Bh(e,t,n,o){const r=sh(e);return i(r,{node:e,columnName:t,isPrimary:n,columnIndex:o})}function ci({css:e,values:t}){return i(Ph,{css:e,children:t.map((n,o)=>i("tr",{children:n.map((r,s)=>i("td",{children:r},s))},o))})}const Ph=re("tbody"),Hh=re("table");class ai{constructor(t,n){this.sql=t,this.error=n}}class go{constructor(t){this.sql=t}}function li(e,t){let n=null;try{n=e.exec(ui(t))}catch(o){return new ai(t,o)}return n.length===0?new go(t):n[0]}function ui(e){return e+(/limit \d+\s*$/i.test(e)?"":" LIMIT 100")}function xo({background:e,label:t,children:n}){return i(Ee,{css:{paddingTop:"$8"},children:T(Jt,{css:{background:e,padding:"$12",borderRadius:"$4"},children:[t,t!=null?i(vh,{}):null,i(Uh,{children:n})]})})}const Uh=re(n=>{var o=n,{children:e}=o,t=pe(o,["children"]);return i("pre",P(u({},t),{children:ul(e!=null?e:"",{language:"postgresql"})}))},{lineHeight:1,fontFamily:"Menlo, Consolas, Monaco, monospace",fontSize:"12px"});function Fh(){return i(Kd,{children:T(Vd,{topRightUI:i(Wh,{}),topUI:i(bf,{}),nodeTypes:On(ei,e=>e.Component),onDoubleClick:Gh,onKeyDown:qh,children:[i(Ah,{}),i(Mh,{})]})})}function Wh(){const e=l.exports.useContext(to.source);return i(si,{children:i(uh,{asChild:!0,children:T(Te,{align:"center",children:[e!=null?i(De,{children:e.name}):null,i(He,{children:i(dl,{})})]})})})}function Gh(e,t){return pu(e,an("from"),t)}const jh=new Map(Me(ti,({key:e},t)=>[e,t]));function qh(e,t){if(Q(ue(e))==null)return;const o=jh.get(t.key);if(o!=null)return ys(o)(e)}hl(i(Fh,{}));
